(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&a(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function rS(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var im={exports:{}},xl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pv;function aS(){if(pv)return xl;pv=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(a,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:a,key:h,ref:o!==void 0?o:null,props:u}}return xl.Fragment=t,xl.jsx=n,xl.jsxs=n,xl}var gv;function sS(){return gv||(gv=1,im.exports=aS()),im.exports}var it=sS(),rm={exports:{}},Rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yv;function oS(){if(yv)return Rt;yv=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),w=Symbol.iterator;function R(N){return N===null||typeof N!="object"?null:(N=w&&N[w]||N["@@iterator"],typeof N=="function"?N:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,K={};function U(N,et,ut){this.props=N,this.context=et,this.refs=K,this.updater=ut||M}U.prototype.isReactComponent={},U.prototype.setState=function(N,et){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,et,"setState")},U.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function $(){}$.prototype=U.prototype;function Y(N,et,ut){this.props=N,this.context=et,this.refs=K,this.updater=ut||M}var G=Y.prototype=new $;G.constructor=Y,V(G,U.prototype),G.isPureReactComponent=!0;var rt=Array.isArray,lt={H:null,A:null,T:null,S:null,V:null},dt=Object.prototype.hasOwnProperty;function C(N,et,ut,at,pt,Dt){return ut=Dt.ref,{$$typeof:i,type:N,key:et,ref:ut!==void 0?ut:null,props:Dt}}function A(N,et){return C(N.type,et,void 0,void 0,void 0,N.props)}function S(N){return typeof N=="object"&&N!==null&&N.$$typeof===i}function O(N){var et={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(ut){return et[ut]})}var k=/\/+/g;function P(N,et){return typeof N=="object"&&N!==null&&N.key!=null?O(""+N.key):et.toString(36)}function D(){}function Ee(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(D,D):(N.status="pending",N.then(function(et){N.status==="pending"&&(N.status="fulfilled",N.value=et)},function(et){N.status==="pending"&&(N.status="rejected",N.reason=et)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function ee(N,et,ut,at,pt){var Dt=typeof N;(Dt==="undefined"||Dt==="boolean")&&(N=null);var wt=!1;if(N===null)wt=!0;else switch(Dt){case"bigint":case"string":case"number":wt=!0;break;case"object":switch(N.$$typeof){case i:case t:wt=!0;break;case T:return wt=N._init,ee(wt(N._payload),et,ut,at,pt)}}if(wt)return pt=pt(N),wt=at===""?"."+P(N,0):at,rt(pt)?(ut="",wt!=null&&(ut=wt.replace(k,"$&/")+"/"),ee(pt,et,ut,"",function(Xn){return Xn})):pt!=null&&(S(pt)&&(pt=A(pt,ut+(pt.key==null||N&&N.key===pt.key?"":(""+pt.key).replace(k,"$&/")+"/")+wt)),et.push(pt)),1;wt=0;var Oe=at===""?".":at+":";if(rt(N))for(var Jt=0;Jt<N.length;Jt++)at=N[Jt],Dt=Oe+P(at,Jt),wt+=ee(at,et,ut,Dt,pt);else if(Jt=R(N),typeof Jt=="function")for(N=Jt.call(N),Jt=0;!(at=N.next()).done;)at=at.value,Dt=Oe+P(at,Jt++),wt+=ee(at,et,ut,Dt,pt);else if(Dt==="object"){if(typeof N.then=="function")return ee(Ee(N),et,ut,at,pt);throw et=String(N),Error("Objects are not valid as a React child (found: "+(et==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":et)+"). If you meant to render a collection of children, use an array instead.")}return wt}function X(N,et,ut){if(N==null)return N;var at=[],pt=0;return ee(N,at,"","",function(Dt){return et.call(ut,Dt,pt++)}),at}function ot(N){if(N._status===-1){var et=N._result;et=et(),et.then(function(ut){(N._status===0||N._status===-1)&&(N._status=1,N._result=ut)},function(ut){(N._status===0||N._status===-1)&&(N._status=2,N._result=ut)}),N._status===-1&&(N._status=0,N._result=et)}if(N._status===1)return N._result.default;throw N._result}var ht=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var et=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(et))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function jt(){}return Rt.Children={map:X,forEach:function(N,et,ut){X(N,function(){et.apply(this,arguments)},ut)},count:function(N){var et=0;return X(N,function(){et++}),et},toArray:function(N){return X(N,function(et){return et})||[]},only:function(N){if(!S(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},Rt.Component=U,Rt.Fragment=n,Rt.Profiler=o,Rt.PureComponent=Y,Rt.StrictMode=a,Rt.Suspense=p,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=lt,Rt.__COMPILER_RUNTIME={__proto__:null,c:function(N){return lt.H.useMemoCache(N)}},Rt.cache=function(N){return function(){return N.apply(null,arguments)}},Rt.cloneElement=function(N,et,ut){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var at=V({},N.props),pt=N.key,Dt=void 0;if(et!=null)for(wt in et.ref!==void 0&&(Dt=void 0),et.key!==void 0&&(pt=""+et.key),et)!dt.call(et,wt)||wt==="key"||wt==="__self"||wt==="__source"||wt==="ref"&&et.ref===void 0||(at[wt]=et[wt]);var wt=arguments.length-2;if(wt===1)at.children=ut;else if(1<wt){for(var Oe=Array(wt),Jt=0;Jt<wt;Jt++)Oe[Jt]=arguments[Jt+2];at.children=Oe}return C(N.type,pt,void 0,void 0,Dt,at)},Rt.createContext=function(N){return N={$$typeof:h,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:u,_context:N},N},Rt.createElement=function(N,et,ut){var at,pt={},Dt=null;if(et!=null)for(at in et.key!==void 0&&(Dt=""+et.key),et)dt.call(et,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(pt[at]=et[at]);var wt=arguments.length-2;if(wt===1)pt.children=ut;else if(1<wt){for(var Oe=Array(wt),Jt=0;Jt<wt;Jt++)Oe[Jt]=arguments[Jt+2];pt.children=Oe}if(N&&N.defaultProps)for(at in wt=N.defaultProps,wt)pt[at]===void 0&&(pt[at]=wt[at]);return C(N,Dt,void 0,void 0,null,pt)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(N){return{$$typeof:m,render:N}},Rt.isValidElement=S,Rt.lazy=function(N){return{$$typeof:T,_payload:{_status:-1,_result:N},_init:ot}},Rt.memo=function(N,et){return{$$typeof:g,type:N,compare:et===void 0?null:et}},Rt.startTransition=function(N){var et=lt.T,ut={};lt.T=ut;try{var at=N(),pt=lt.S;pt!==null&&pt(ut,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(jt,ht)}catch(Dt){ht(Dt)}finally{lt.T=et}},Rt.unstable_useCacheRefresh=function(){return lt.H.useCacheRefresh()},Rt.use=function(N){return lt.H.use(N)},Rt.useActionState=function(N,et,ut){return lt.H.useActionState(N,et,ut)},Rt.useCallback=function(N,et){return lt.H.useCallback(N,et)},Rt.useContext=function(N){return lt.H.useContext(N)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(N,et){return lt.H.useDeferredValue(N,et)},Rt.useEffect=function(N,et,ut){var at=lt.H;if(typeof ut=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return at.useEffect(N,et)},Rt.useId=function(){return lt.H.useId()},Rt.useImperativeHandle=function(N,et,ut){return lt.H.useImperativeHandle(N,et,ut)},Rt.useInsertionEffect=function(N,et){return lt.H.useInsertionEffect(N,et)},Rt.useLayoutEffect=function(N,et){return lt.H.useLayoutEffect(N,et)},Rt.useMemo=function(N,et){return lt.H.useMemo(N,et)},Rt.useOptimistic=function(N,et){return lt.H.useOptimistic(N,et)},Rt.useReducer=function(N,et,ut){return lt.H.useReducer(N,et,ut)},Rt.useRef=function(N){return lt.H.useRef(N)},Rt.useState=function(N){return lt.H.useState(N)},Rt.useSyncExternalStore=function(N,et,ut){return lt.H.useSyncExternalStore(N,et,ut)},Rt.useTransition=function(){return lt.H.useTransition()},Rt.version="19.1.0",Rt}var _v;function ip(){return _v||(_v=1,rm.exports=oS()),rm.exports}var q=ip();const ne=rS(q);var am={exports:{}},Ml={},sm={exports:{}},om={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vv;function lS(){return vv||(vv=1,function(i){function t(X,ot){var ht=X.length;X.push(ot);t:for(;0<ht;){var jt=ht-1>>>1,N=X[jt];if(0<o(N,ot))X[jt]=ot,X[ht]=N,ht=jt;else break t}}function n(X){return X.length===0?null:X[0]}function a(X){if(X.length===0)return null;var ot=X[0],ht=X.pop();if(ht!==ot){X[0]=ht;t:for(var jt=0,N=X.length,et=N>>>1;jt<et;){var ut=2*(jt+1)-1,at=X[ut],pt=ut+1,Dt=X[pt];if(0>o(at,ht))pt<N&&0>o(Dt,at)?(X[jt]=Dt,X[pt]=ht,jt=pt):(X[jt]=at,X[ut]=ht,jt=ut);else if(pt<N&&0>o(Dt,ht))X[jt]=Dt,X[pt]=ht,jt=pt;else break t}}return ot}function o(X,ot){var ht=X.sortIndex-ot.sortIndex;return ht!==0?ht:X.id-ot.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var p=[],g=[],T=1,w=null,R=3,M=!1,V=!1,K=!1,U=!1,$=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function rt(X){for(var ot=n(g);ot!==null;){if(ot.callback===null)a(g);else if(ot.startTime<=X)a(g),ot.sortIndex=ot.expirationTime,t(p,ot);else break;ot=n(g)}}function lt(X){if(K=!1,rt(X),!V)if(n(p)!==null)V=!0,dt||(dt=!0,P());else{var ot=n(g);ot!==null&&ee(lt,ot.startTime-X)}}var dt=!1,C=-1,A=5,S=-1;function O(){return U?!0:!(i.unstable_now()-S<A)}function k(){if(U=!1,dt){var X=i.unstable_now();S=X;var ot=!0;try{t:{V=!1,K&&(K=!1,Y(C),C=-1),M=!0;var ht=R;try{e:{for(rt(X),w=n(p);w!==null&&!(w.expirationTime>X&&O());){var jt=w.callback;if(typeof jt=="function"){w.callback=null,R=w.priorityLevel;var N=jt(w.expirationTime<=X);if(X=i.unstable_now(),typeof N=="function"){w.callback=N,rt(X),ot=!0;break e}w===n(p)&&a(p),rt(X)}else a(p);w=n(p)}if(w!==null)ot=!0;else{var et=n(g);et!==null&&ee(lt,et.startTime-X),ot=!1}}break t}finally{w=null,R=ht,M=!1}ot=void 0}}finally{ot?P():dt=!1}}}var P;if(typeof G=="function")P=function(){G(k)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Ee=D.port2;D.port1.onmessage=k,P=function(){Ee.postMessage(null)}}else P=function(){$(k,0)};function ee(X,ot){C=$(function(){X(i.unstable_now())},ot)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(X){X.callback=null},i.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<X?Math.floor(1e3/X):5},i.unstable_getCurrentPriorityLevel=function(){return R},i.unstable_next=function(X){switch(R){case 1:case 2:case 3:var ot=3;break;default:ot=R}var ht=R;R=ot;try{return X()}finally{R=ht}},i.unstable_requestPaint=function(){U=!0},i.unstable_runWithPriority=function(X,ot){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ht=R;R=X;try{return ot()}finally{R=ht}},i.unstable_scheduleCallback=function(X,ot,ht){var jt=i.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?jt+ht:jt):ht=jt,X){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=ht+N,X={id:T++,callback:ot,priorityLevel:X,startTime:ht,expirationTime:N,sortIndex:-1},ht>jt?(X.sortIndex=ht,t(g,X),n(p)===null&&X===n(g)&&(K?(Y(C),C=-1):K=!0,ee(lt,ht-jt))):(X.sortIndex=N,t(p,X),V||M||(V=!0,dt||(dt=!0,P()))),X},i.unstable_shouldYield=O,i.unstable_wrapCallback=function(X){var ot=R;return function(){var ht=R;R=ot;try{return X.apply(this,arguments)}finally{R=ht}}}}(om)),om}var Tv;function uS(){return Tv||(Tv=1,sm.exports=lS()),sm.exports}var lm={exports:{}},Ke={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ev;function cS(){if(Ev)return Ke;Ev=1;var i=ip();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)g+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,T){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:p,containerInfo:g,implementation:T}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Ke.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ke.createPortal=function(p,g){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(p,g,null,T)},Ke.flushSync=function(p){var g=h.T,T=a.p;try{if(h.T=null,a.p=2,p)return p()}finally{h.T=g,a.p=T,a.d.f()}},Ke.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(p,g))},Ke.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},Ke.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var T=g.as,w=m(T,g.crossOrigin),R=typeof g.integrity=="string"?g.integrity:void 0,M=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;T==="style"?a.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:w,integrity:R,fetchPriority:M}):T==="script"&&a.d.X(p,{crossOrigin:w,integrity:R,fetchPriority:M,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Ke.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var T=m(g.as,g.crossOrigin);a.d.M(p,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(p)},Ke.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var T=g.as,w=m(T,g.crossOrigin);a.d.L(p,T,{crossOrigin:w,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Ke.preloadModule=function(p,g){if(typeof p=="string")if(g){var T=m(g.as,g.crossOrigin);a.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(p)},Ke.requestFormReset=function(p){a.d.r(p)},Ke.unstable_batchedUpdates=function(p,g){return p(g)},Ke.useFormState=function(p,g,T){return h.H.useFormState(p,g,T)},Ke.useFormStatus=function(){return h.H.useHostTransitionStatus()},Ke.version="19.1.0",Ke}var bv;function fS(){if(bv)return lm.exports;bv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),lm.exports=cS(),lm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wv;function hS(){if(wv)return Ml;wv=1;var i=uS(),t=ip(),n=fS();function a(e){var r="https://react.dev/errors/"+e;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)r+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var r=e,s=e;if(e.alternate)for(;r.return;)r=r.return;else{e=r;do r=e,(r.flags&4098)!==0&&(s=r.return),e=r.return;while(e)}return r.tag===3?s:null}function h(e){if(e.tag===13){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function m(e){if(u(e)!==e)throw Error(a(188))}function p(e){var r=e.alternate;if(!r){if(r=u(e),r===null)throw Error(a(188));return r!==e?null:e}for(var s=e,l=r;;){var f=s.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){s=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===s)return m(f),e;if(d===l)return m(f),r;d=d.sibling}throw Error(a(188))}if(s.return!==l.return)s=f,l=d;else{for(var v=!1,E=f.child;E;){if(E===s){v=!0,s=f,l=d;break}if(E===l){v=!0,l=f,s=d;break}E=E.sibling}if(!v){for(E=d.child;E;){if(E===s){v=!0,s=d,l=f;break}if(E===l){v=!0,l=d,s=f;break}E=E.sibling}if(!v)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:r}function g(e){var r=e.tag;if(r===5||r===26||r===27||r===6)return e;for(e=e.child;e!==null;){if(r=g(e),r!==null)return r;e=e.sibling}return null}var T=Object.assign,w=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),Y=Symbol.for("react.consumer"),G=Symbol.for("react.context"),rt=Symbol.for("react.forward_ref"),lt=Symbol.for("react.suspense"),dt=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function P(e){return e===null||typeof e!="object"?null:(e=k&&e[k]||e["@@iterator"],typeof e=="function"?e:null)}var D=Symbol.for("react.client.reference");function Ee(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===D?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case V:return"Fragment";case U:return"Profiler";case K:return"StrictMode";case lt:return"Suspense";case dt:return"SuspenseList";case S:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case M:return"Portal";case G:return(e.displayName||"Context")+".Provider";case Y:return(e._context.displayName||"Context")+".Consumer";case rt:var r=e.render;return e=e.displayName,e||(e=r.displayName||r.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return r=e.displayName||null,r!==null?r:Ee(e.type)||"Memo";case A:r=e._payload,e=e._init;try{return Ee(e(r))}catch{}}return null}var ee=Array.isArray,X=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},jt=[],N=-1;function et(e){return{current:e}}function ut(e){0>N||(e.current=jt[N],jt[N]=null,N--)}function at(e,r){N++,jt[N]=e.current,e.current=r}var pt=et(null),Dt=et(null),wt=et(null),Oe=et(null);function Jt(e,r){switch(at(wt,r),at(Dt,e),at(pt,null),r.nodeType){case 9:case 11:e=(e=r.documentElement)&&(e=e.namespaceURI)?q_(e):0;break;default:if(e=r.tagName,r=r.namespaceURI)r=q_(r),e=F_(r,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ut(pt),at(pt,e)}function Xn(){ut(pt),ut(Dt),ut(wt)}function sr(e){e.memoizedState!==null&&at(Oe,e);var r=pt.current,s=F_(r,e.type);r!==s&&(at(Dt,e),at(pt,s))}function bi(e){Dt.current===e&&(ut(pt),ut(Dt)),Oe.current===e&&(ut(Oe),Il._currentValue=ht)}var na=Object.prototype.hasOwnProperty,ia=i.unstable_scheduleCallback,ra=i.unstable_cancelCallback,Ao=i.unstable_shouldYield,_u=i.unstable_requestPaint,bn=i.unstable_now,ih=i.unstable_getCurrentPriorityLevel,So=i.unstable_ImmediatePriority,as=i.unstable_UserBlockingPriority,aa=i.unstable_NormalPriority,rh=i.unstable_LowPriority,ss=i.unstable_IdlePriority,Ro=i.log,vu=i.unstable_setDisableYieldValue,ue=null,Gt=null;function cn(e){if(typeof Ro=="function"&&vu(e),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(ue,e)}catch{}}var Ge=Math.clz32?Math.clz32:sa,Tu=Math.log,ah=Math.LN2;function sa(e){return e>>>=0,e===0?32:31-(Tu(e)/ah|0)|0}var oa=256,la=4194304;function Un(e){var r=e&42;if(r!==0)return r;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function os(e,r,s){var l=e.pendingLanes;if(l===0)return 0;var f=0,d=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var E=l&134217727;return E!==0?(l=E&~d,l!==0?f=Un(l):(v&=E,v!==0?f=Un(v):s||(s=E&~e,s!==0&&(f=Un(s))))):(E=l&~d,E!==0?f=Un(E):v!==0?f=Un(v):s||(s=l&~e,s!==0&&(f=Un(s)))),f===0?0:r!==0&&r!==f&&(r&d)===0&&(d=f&-f,s=r&-r,d>=s||d===32&&(s&4194048)!==0)?r:f}function ua(e,r){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&r)===0}function Io(e,r){switch(e){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Co(){var e=oa;return oa<<=1,(oa&4194048)===0&&(oa=256),e}function Do(){var e=la;return la<<=1,(la&62914560)===0&&(la=4194304),e}function wi(e){for(var r=[],s=0;31>s;s++)r.push(e);return r}function Ai(e,r){e.pendingLanes|=r,r!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Oo(e,r,s,l,f,d){var v=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,I=e.expirationTimes,j=e.hiddenUpdates;for(s=v&~s;0<s;){var W=31-Ge(s),J=1<<W;E[W]=0,I[W]=-1;var H=j[W];if(H!==null)for(j[W]=null,W=0;W<H.length;W++){var F=H[W];F!==null&&(F.lane&=-536870913)}s&=~J}l!==0&&Wn(e,l,0),d!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=d&~(v&~r))}function Wn(e,r,s){e.pendingLanes|=r,e.suspendedLanes&=~r;var l=31-Ge(r);e.entangledLanes|=r,e.entanglements[l]=e.entanglements[l]|1073741824|s&4194090}function No(e,r){var s=e.entangledLanes|=r;for(e=e.entanglements;s;){var l=31-Ge(s),f=1<<l;f&r|e[l]&r&&(e[l]|=r),s&=~f}}function or(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ls(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function lr(){var e=ot.p;return e!==0?e:(e=window.event,e===void 0?32:uv(e.type))}function Eu(e,r){var s=ot.p;try{return ot.p=e,r()}finally{ot.p=s}}var ie=Math.random().toString(36).slice(2),be="__reactFiber$"+ie,ge="__reactProps$"+ie,wn="__reactContainer$"+ie,xo="__reactEvents$"+ie,sh="__reactListeners$"+ie,ur="__reactHandles$"+ie,bu="__reactResources$"+ie,ca="__reactMarker$"+ie;function cr(e){delete e[be],delete e[ge],delete e[xo],delete e[sh],delete e[ur]}function Si(e){var r=e[be];if(r)return r;for(var s=e.parentNode;s;){if(r=s[wn]||s[be]){if(s=r.alternate,r.child!==null||s!==null&&s.child!==null)for(e=Q_(e);e!==null;){if(s=e[be])return s;e=Q_(e)}return r}e=s,s=e.parentNode}return null}function Zn(e){if(e=e[be]||e[wn]){var r=e.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return e}return null}function Jn(e){var r=e.tag;if(r===5||r===26||r===27||r===6)return e.stateNode;throw Error(a(33))}function Je(e){var r=e[bu];return r||(r=e[bu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function he(e){e[ca]=!0}var Mo=new Set,us={};function zn(e,r){Ri(e,r),Ri(e+"Capture",r)}function Ri(e,r){for(us[e]=r,e=0;e<r.length;e++)Mo.add(r[e])}var wu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Au={},fa={};function Su(e){return na.call(fa,e)?!0:na.call(Au,e)?!1:wu.test(e)?fa[e]=!0:(Au[e]=!0,!1)}function fr(e,r,s){if(Su(r))if(s===null)e.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(r);return}}e.setAttribute(r,""+s)}}function ti(e,r,s){if(s===null)e.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttribute(r,""+s)}}function Le(e,r,s,l){if(l===null)e.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(r,s,""+l)}}var ha,Ru;function Ii(e){if(ha===void 0)try{throw Error()}catch(s){var r=s.stack.trim().match(/\n( *(at )?)/);ha=r&&r[1]||"",Ru=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ha+e+Ru}var cs=!1;function fs(e,r){if(!e||cs)return"";cs=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(F){var H=F}Reflect.construct(e,[],J)}else{try{J.call()}catch(F){H=F}e.call(J.prototype)}}else{try{throw Error()}catch(F){H=F}(J=e())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(F){if(F&&H&&typeof F.stack=="string")return[F.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],E=d[1];if(v&&E){var I=v.split(`
`),j=E.split(`
`);for(f=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;f<j.length&&!j[f].includes("DetermineComponentFrameRoot");)f++;if(l===I.length||f===j.length)for(l=I.length-1,f=j.length-1;1<=l&&0<=f&&I[l]!==j[f];)f--;for(;1<=l&&0<=f;l--,f--)if(I[l]!==j[f]){if(l!==1||f!==1)do if(l--,f--,0>f||I[l]!==j[f]){var W=`
`+I[l].replace(" at new "," at ");return e.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",e.displayName)),W}while(1<=l&&0<=f);break}}}finally{cs=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Ii(s):""}function ko(e){switch(e.tag){case 26:case 27:case 5:return Ii(e.type);case 16:return Ii("Lazy");case 13:return Ii("Suspense");case 19:return Ii("SuspenseList");case 0:case 15:return fs(e.type,!1);case 11:return fs(e.type.render,!1);case 1:return fs(e.type,!0);case 31:return Ii("Activity");default:return""}}function hs(e){try{var r="";do r+=ko(e),e=e.return;while(e);return r}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function tn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Vo(e){var r=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function oh(e){var r=Vo(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,r),l=""+e[r];if(!e.hasOwnProperty(r)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var f=s.get,d=s.set;return Object.defineProperty(e,r,{configurable:!0,get:function(){return f.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(e,r,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){e._valueTracker=null,delete e[r]}}}}function ds(e){e._valueTracker||(e._valueTracker=oh(e))}function Po(e){if(!e)return!1;var r=e._valueTracker;if(!r)return!0;var s=r.getValue(),l="";return e&&(l=Vo(e)?e.checked?"true":"false":e.value),e=l,e!==s?(r.setValue(e),!0):!1}function da(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var lh=/[\n"\\]/g;function ye(e){return e.replace(lh,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function fn(e,r,s,l,f,d,v,E){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),r!=null?v==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+tn(r)):e.value!==""+tn(r)&&(e.value=""+tn(r)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),r!=null?hr(e,v,tn(r)):s!=null?hr(e,v,tn(s)):l!=null&&e.removeAttribute("value"),f==null&&d!=null&&(e.defaultChecked=!!d),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+tn(E):e.removeAttribute("name")}function ma(e,r,s,l,f,d,v,E){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),r!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;s=s!=null?""+tn(s):"",r=r!=null?""+tn(r):s,E||r===e.value||(e.value=r),e.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=E?e.checked:!!l,e.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function hr(e,r,s){r==="number"&&da(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function Ci(e,r,s,l){if(e=e.options,r){r={};for(var f=0;f<s.length;f++)r["$"+s[f]]=!0;for(s=0;s<e.length;s++)f=r.hasOwnProperty("$"+e[s].value),e[s].selected!==f&&(e[s].selected=f),f&&l&&(e[s].defaultSelected=!0)}else{for(s=""+tn(s),r=null,f=0;f<e.length;f++){if(e[f].value===s){e[f].selected=!0,l&&(e[f].defaultSelected=!0);return}r!==null||e[f].disabled||(r=e[f])}r!==null&&(r.selected=!0)}}function Qt(e,r,s){if(r!=null&&(r=""+tn(r),r!==e.value&&(e.value=r),s==null)){e.defaultValue!==r&&(e.defaultValue=r);return}e.defaultValue=s!=null?""+tn(s):""}function pa(e,r,s,l){if(r==null){if(l!=null){if(s!=null)throw Error(a(92));if(ee(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),r=s}s=tn(r),e.defaultValue=s,l=e.textContent,l===s&&l!==""&&l!==null&&(e.value=l)}function An(e,r){if(r){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=r;return}}e.textContent=r}var ga=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Iu(e,r,s){var l=r.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="":l?e.setProperty(r,s):typeof s!="number"||s===0||ga.has(r)?r==="float"?e.cssFloat=s:e[r]=(""+s).trim():e[r]=s+"px"}function Lo(e,r,s){if(r!=null&&typeof r!="object")throw Error(a(62));if(e=e.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&s[f]!==l&&Iu(e,f,l)}else for(var d in r)r.hasOwnProperty(d)&&Iu(e,d,r[d])}function Uo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ch=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ms(e){return ch.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Di=null;function Sn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Oi=null,Ni=null;function zo(e){var r=Zn(e);if(r&&(e=r.stateNode)){var s=e[ge]||null;t:switch(e=r.stateNode,r.type){case"input":if(fn(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),r=s.name,s.type==="radio"&&r!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+ye(""+r)+'"][type="radio"]'),r=0;r<s.length;r++){var l=s[r];if(l!==e&&l.form===e.form){var f=l[ge]||null;if(!f)throw Error(a(90));fn(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<s.length;r++)l=s[r],l.form===e.form&&Po(l)}break t;case"textarea":Qt(e,s.value,s.defaultValue);break t;case"select":r=s.value,r!=null&&Ci(e,!!s.multiple,r,!1)}}}var ei=!1;function Cu(e,r,s){if(ei)return e(r,s);ei=!0;try{var l=e(r);return l}finally{if(ei=!1,(Oi!==null||Ni!==null)&&(Ec(),Oi&&(r=Oi,e=Ni,Ni=Oi=null,zo(r),e)))for(r=0;r<e.length;r++)zo(e[r])}}function ya(e,r){var s=e.stateNode;if(s===null)return null;var l=s[ge]||null;if(l===null)return null;s=l[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,r,typeof s));return s}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rn=!1;if(Bn)try{var _a={};Object.defineProperty(_a,"passive",{get:function(){Rn=!0}}),window.addEventListener("test",_a,_a),window.removeEventListener("test",_a,_a)}catch{Rn=!1}var ni=null,dr=null,xi=null;function Bo(){if(xi)return xi;var e,r=dr,s=r.length,l,f="value"in ni?ni.value:ni.textContent,d=f.length;for(e=0;e<s&&r[e]===f[e];e++);var v=s-e;for(l=1;l<=v&&r[s-l]===f[d-l];l++);return xi=f.slice(e,1<l?1-l:void 0)}function ii(e){var r=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&r===13&&(e=13)):e=r,e===10&&(e=13),32<=e||e===13?e:0}function ri(){return!0}function jo(){return!1}function Ne(e){function r(s,l,f,d,v){this._reactName=s,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(d):d[E]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ri:jo,this.isPropagationStopped=jo,this}return T(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ri)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ri)},persist:function(){},isPersistent:ri}),r}var qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ps=Ne(qt),va=T({},qt,{view:0,detail:0}),Du=Ne(va),gs,ys,ai,Ta=T({},va,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wa,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ai&&(ai&&e.type==="mousemove"?(gs=e.screenX-ai.screenX,ys=e.screenY-ai.screenY):ys=gs=0,ai=e),gs)},movementY:function(e){return"movementY"in e?e.movementY:ys}}),In=Ne(Ta),Ou=T({},Ta,{dataTransfer:0}),fh=Ne(Ou),Ea=T({},va,{relatedTarget:0}),_s=Ne(Ea),Ho=T({},qt,{animationName:0,elapsedTime:0,pseudoElement:0}),vs=Ne(Ho),Nu=T({},qt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ts=Ne(Nu),hh=T({},qt,{data:0}),qo=Ne(hh),ba={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fo(e){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(e):(e=Mu[e])?!!r[e]:!1}function wa(){return Fo}var ku=T({},va,{key:function(e){if(e.key){var r=ba[e.key]||e.key;if(r!=="Unidentified")return r}return e.type==="keypress"?(e=ii(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?xu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wa,charCode:function(e){return e.type==="keypress"?ii(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ii(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Es=Ne(ku),Vu=T({},Ta,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Go=Ne(Vu),Mi=T({},va,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wa}),Pu=Ne(Mi),Lu=T({},qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Uu=Ne(Lu),zu=T({},Ta,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),bs=Ne(zu),en=T({},qt,{newState:0,oldState:0}),Bu=Ne(en),ju=[9,13,27,32],si=Bn&&"CompositionEvent"in window,c=null;Bn&&"documentMode"in document&&(c=document.documentMode);var y=Bn&&"TextEvent"in window&&!c,_=Bn&&(!si||c&&8<c&&11>=c),b=" ",z=!1;function Q(e,r){switch(e){case"keyup":return ju.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function st(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Vt=!1;function we(e,r){switch(e){case"compositionend":return st(r);case"keypress":return r.which!==32?null:(z=!0,b);case"textInput":return e=r.data,e===b&&z?null:e;default:return null}}function Pt(e,r){if(Vt)return e==="compositionend"||!si&&Q(e,r)?(e=Bo(),xi=dr=ni=null,Vt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _&&r.locale!=="ko"?null:r.data;default:return null}}var xe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ae(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r==="input"?!!xe[e.type]:r==="textarea"}function ki(e,r,s,l){Oi?Ni?Ni.push(l):Ni=[l]:Oi=l,r=Ic(r,"onChange"),0<r.length&&(s=new ps("onChange","change",null,s,l),e.push({event:s,listeners:r}))}var Ue=null,oi=null;function $o(e){U_(e,0)}function Hu(e){var r=Jn(e);if(Po(r))return e}function ag(e,r){if(e==="change")return r}var sg=!1;if(Bn){var dh;if(Bn){var mh="oninput"in document;if(!mh){var og=document.createElement("div");og.setAttribute("oninput","return;"),mh=typeof og.oninput=="function"}dh=mh}else dh=!1;sg=dh&&(!document.documentMode||9<document.documentMode)}function lg(){Ue&&(Ue.detachEvent("onpropertychange",ug),oi=Ue=null)}function ug(e){if(e.propertyName==="value"&&Hu(oi)){var r=[];ki(r,oi,e,Sn(e)),Cu($o,r)}}function kw(e,r,s){e==="focusin"?(lg(),Ue=r,oi=s,Ue.attachEvent("onpropertychange",ug)):e==="focusout"&&lg()}function Vw(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Hu(oi)}function Pw(e,r){if(e==="click")return Hu(r)}function Lw(e,r){if(e==="input"||e==="change")return Hu(r)}function Uw(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var hn=typeof Object.is=="function"?Object.is:Uw;function Ko(e,r){if(hn(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var s=Object.keys(e),l=Object.keys(r);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var f=s[l];if(!na.call(r,f)||!hn(e[f],r[f]))return!1}return!0}function cg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fg(e,r){var s=cg(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=r&&l>=r)return{node:s,offset:r-e};e=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=cg(s)}}function hg(e,r){return e&&r?e===r?!0:e&&e.nodeType===3?!1:r&&r.nodeType===3?hg(e,r.parentNode):"contains"in e?e.contains(r):e.compareDocumentPosition?!!(e.compareDocumentPosition(r)&16):!1:!1}function dg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var r=da(e.document);r instanceof e.HTMLIFrameElement;){try{var s=typeof r.contentWindow.location.href=="string"}catch{s=!1}if(s)e=r.contentWindow;else break;r=da(e.document)}return r}function ph(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r&&(r==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||r==="textarea"||e.contentEditable==="true")}var zw=Bn&&"documentMode"in document&&11>=document.documentMode,ws=null,gh=null,Qo=null,yh=!1;function mg(e,r,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;yh||ws==null||ws!==da(l)||(l=ws,"selectionStart"in l&&ph(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Qo&&Ko(Qo,l)||(Qo=l,l=Ic(gh,"onSelect"),0<l.length&&(r=new ps("onSelect","select",null,r,s),e.push({event:r,listeners:l}),r.target=ws)))}function Aa(e,r){var s={};return s[e.toLowerCase()]=r.toLowerCase(),s["Webkit"+e]="webkit"+r,s["Moz"+e]="moz"+r,s}var As={animationend:Aa("Animation","AnimationEnd"),animationiteration:Aa("Animation","AnimationIteration"),animationstart:Aa("Animation","AnimationStart"),transitionrun:Aa("Transition","TransitionRun"),transitionstart:Aa("Transition","TransitionStart"),transitioncancel:Aa("Transition","TransitionCancel"),transitionend:Aa("Transition","TransitionEnd")},_h={},pg={};Bn&&(pg=document.createElement("div").style,"AnimationEvent"in window||(delete As.animationend.animation,delete As.animationiteration.animation,delete As.animationstart.animation),"TransitionEvent"in window||delete As.transitionend.transition);function Sa(e){if(_h[e])return _h[e];if(!As[e])return e;var r=As[e],s;for(s in r)if(r.hasOwnProperty(s)&&s in pg)return _h[e]=r[s];return e}var gg=Sa("animationend"),yg=Sa("animationiteration"),_g=Sa("animationstart"),Bw=Sa("transitionrun"),jw=Sa("transitionstart"),Hw=Sa("transitioncancel"),vg=Sa("transitionend"),Tg=new Map,vh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");vh.push("scrollEnd");function jn(e,r){Tg.set(e,r),zn(r,[e])}var Eg=new WeakMap;function Cn(e,r){if(typeof e=="object"&&e!==null){var s=Eg.get(e);return s!==void 0?s:(r={value:e,source:r,stack:hs(r)},Eg.set(e,r),r)}return{value:e,source:r,stack:hs(r)}}var Dn=[],Ss=0,Th=0;function qu(){for(var e=Ss,r=Th=Ss=0;r<e;){var s=Dn[r];Dn[r++]=null;var l=Dn[r];Dn[r++]=null;var f=Dn[r];Dn[r++]=null;var d=Dn[r];if(Dn[r++]=null,l!==null&&f!==null){var v=l.pending;v===null?f.next=f:(f.next=v.next,v.next=f),l.pending=f}d!==0&&bg(s,f,d)}}function Fu(e,r,s,l){Dn[Ss++]=e,Dn[Ss++]=r,Dn[Ss++]=s,Dn[Ss++]=l,Th|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Eh(e,r,s,l){return Fu(e,r,s,l),Gu(e)}function Rs(e,r){return Fu(e,null,null,r),Gu(e)}function bg(e,r,s){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s);for(var f=!1,d=e.return;d!==null;)d.childLanes|=s,l=d.alternate,l!==null&&(l.childLanes|=s),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(f=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,f&&r!==null&&(f=31-Ge(s),e=d.hiddenUpdates,l=e[f],l===null?e[f]=[r]:l.push(r),r.lane=s|536870912),d):null}function Gu(e){if(50<vl)throw vl=0,Id=null,Error(a(185));for(var r=e.return;r!==null;)e=r,r=e.return;return e.tag===3?e.stateNode:null}var Is={};function qw(e,r,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(e,r,s,l){return new qw(e,r,s,l)}function bh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Vi(e,r){var s=e.alternate;return s===null?(s=dn(e.tag,r,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=r,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,r=e.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function wg(e,r){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=r,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,r=s.dependencies,e.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),e}function $u(e,r,s,l,f,d){var v=0;if(l=e,typeof e=="function")bh(e)&&(v=1);else if(typeof e=="string")v=GA(e,s,pt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case S:return e=dn(31,s,r,f),e.elementType=S,e.lanes=d,e;case V:return Ra(s.children,f,d,r);case K:v=8,f|=24;break;case U:return e=dn(12,s,r,f|2),e.elementType=U,e.lanes=d,e;case lt:return e=dn(13,s,r,f),e.elementType=lt,e.lanes=d,e;case dt:return e=dn(19,s,r,f),e.elementType=dt,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case $:case G:v=10;break t;case Y:v=9;break t;case rt:v=11;break t;case C:v=14;break t;case A:v=16,l=null;break t}v=29,s=Error(a(130,e===null?"null":typeof e,"")),l=null}return r=dn(v,s,r,f),r.elementType=e,r.type=l,r.lanes=d,r}function Ra(e,r,s,l){return e=dn(7,e,l,r),e.lanes=s,e}function wh(e,r,s){return e=dn(6,e,null,r),e.lanes=s,e}function Ah(e,r,s){return r=dn(4,e.children!==null?e.children:[],e.key,r),r.lanes=s,r.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},r}var Cs=[],Ds=0,Ku=null,Qu=0,On=[],Nn=0,Ia=null,Pi=1,Li="";function Ca(e,r){Cs[Ds++]=Qu,Cs[Ds++]=Ku,Ku=e,Qu=r}function Ag(e,r,s){On[Nn++]=Pi,On[Nn++]=Li,On[Nn++]=Ia,Ia=e;var l=Pi;e=Li;var f=32-Ge(l)-1;l&=~(1<<f),s+=1;var d=32-Ge(r)+f;if(30<d){var v=f-f%5;d=(l&(1<<v)-1).toString(32),l>>=v,f-=v,Pi=1<<32-Ge(r)+f|s<<f|l,Li=d+e}else Pi=1<<d|s<<f|l,Li=e}function Sh(e){e.return!==null&&(Ca(e,1),Ag(e,1,0))}function Rh(e){for(;e===Ku;)Ku=Cs[--Ds],Cs[Ds]=null,Qu=Cs[--Ds],Cs[Ds]=null;for(;e===Ia;)Ia=On[--Nn],On[Nn]=null,Li=On[--Nn],On[Nn]=null,Pi=On[--Nn],On[Nn]=null}var nn=null,ce=null,Ht=!1,Da=null,li=!1,Ih=Error(a(519));function Oa(e){var r=Error(a(418,""));throw Wo(Cn(r,e)),Ih}function Sg(e){var r=e.stateNode,s=e.type,l=e.memoizedProps;switch(r[be]=e,r[ge]=l,s){case"dialog":xt("cancel",r),xt("close",r);break;case"iframe":case"object":case"embed":xt("load",r);break;case"video":case"audio":for(s=0;s<El.length;s++)xt(El[s],r);break;case"source":xt("error",r);break;case"img":case"image":case"link":xt("error",r),xt("load",r);break;case"details":xt("toggle",r);break;case"input":xt("invalid",r),ma(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ds(r);break;case"select":xt("invalid",r);break;case"textarea":xt("invalid",r),pa(r,l.value,l.defaultValue,l.children),ds(r)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||r.textContent===""+s||l.suppressHydrationWarning===!0||H_(r.textContent,s)?(l.popover!=null&&(xt("beforetoggle",r),xt("toggle",r)),l.onScroll!=null&&xt("scroll",r),l.onScrollEnd!=null&&xt("scrollend",r),l.onClick!=null&&(r.onclick=Cc),r=!0):r=!1,r||Oa(e)}function Rg(e){for(nn=e.return;nn;)switch(nn.tag){case 5:case 13:li=!1;return;case 27:case 3:li=!0;return;default:nn=nn.return}}function Yo(e){if(e!==nn)return!1;if(!Ht)return Rg(e),Ht=!0,!1;var r=e.tag,s;if((s=r!==3&&r!==27)&&((s=r===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||qd(e.type,e.memoizedProps)),s=!s),s&&ce&&Oa(e),Rg(e),r===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));t:{for(e=e.nextSibling,r=0;e;){if(e.nodeType===8)if(s=e.data,s==="/$"){if(r===0){ce=qn(e.nextSibling);break t}r--}else s!=="$"&&s!=="$!"&&s!=="$?"||r++;e=e.nextSibling}ce=null}}else r===27?(r=ce,Dr(e.type)?(e=Kd,Kd=null,ce=e):ce=r):ce=nn?qn(e.stateNode.nextSibling):null;return!0}function Xo(){ce=nn=null,Ht=!1}function Ig(){var e=Da;return e!==null&&(on===null?on=e:on.push.apply(on,e),Da=null),e}function Wo(e){Da===null?Da=[e]:Da.push(e)}var Ch=et(null),Na=null,Ui=null;function mr(e,r,s){at(Ch,r._currentValue),r._currentValue=s}function zi(e){e._currentValue=Ch.current,ut(Ch)}function Dh(e,r,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&r)!==r?(e.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),e===s)break;e=e.return}}function Oh(e,r,s,l){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var d=f.dependencies;if(d!==null){var v=f.child;d=d.firstContext;t:for(;d!==null;){var E=d;d=f;for(var I=0;I<r.length;I++)if(E.context===r[I]){d.lanes|=s,E=d.alternate,E!==null&&(E.lanes|=s),Dh(d.return,s,e),l||(v=null);break t}d=E.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(a(341));v.lanes|=s,d=v.alternate,d!==null&&(d.lanes|=s),Dh(v,s,e),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===e){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function Zo(e,r,s,l){e=null;for(var f=r,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(a(387));if(v=v.memoizedProps,v!==null){var E=f.type;hn(f.pendingProps.value,v.value)||(e!==null?e.push(E):e=[E])}}else if(f===Oe.current){if(v=f.alternate,v===null)throw Error(a(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(Il):e=[Il])}f=f.return}e!==null&&Oh(r,e,s,l),r.flags|=262144}function Yu(e){for(e=e.firstContext;e!==null;){if(!hn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function xa(e){Na=e,Ui=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function $e(e){return Cg(Na,e)}function Xu(e,r){return Na===null&&xa(e),Cg(e,r)}function Cg(e,r){var s=r._currentValue;if(r={context:r,memoizedValue:s,next:null},Ui===null){if(e===null)throw Error(a(308));Ui=r,e.dependencies={lanes:0,firstContext:r},e.flags|=524288}else Ui=Ui.next=r;return s}var Fw=typeof AbortController<"u"?AbortController:function(){var e=[],r=this.signal={aborted:!1,addEventListener:function(s,l){e.push(l)}};this.abort=function(){r.aborted=!0,e.forEach(function(s){return s()})}},Gw=i.unstable_scheduleCallback,$w=i.unstable_NormalPriority,Se={$$typeof:G,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Nh(){return{controller:new Fw,data:new Map,refCount:0}}function Jo(e){e.refCount--,e.refCount===0&&Gw($w,function(){e.controller.abort()})}var tl=null,xh=0,Os=0,Ns=null;function Kw(e,r){if(tl===null){var s=tl=[];xh=0,Os=kd(),Ns={status:"pending",value:void 0,then:function(l){s.push(l)}}}return xh++,r.then(Dg,Dg),r}function Dg(){if(--xh===0&&tl!==null){Ns!==null&&(Ns.status="fulfilled");var e=tl;tl=null,Os=0,Ns=null;for(var r=0;r<e.length;r++)(0,e[r])()}}function Qw(e,r){var s=[],l={status:"pending",value:null,reason:null,then:function(f){s.push(f)}};return e.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<s.length;f++)(0,s[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<s.length;f++)(0,s[f])(void 0)}),l}var Og=X.S;X.S=function(e,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&Kw(e,r),Og!==null&&Og(e,r)};var Ma=et(null);function Mh(){var e=Ma.current;return e!==null?e:te.pooledCache}function Wu(e,r){r===null?at(Ma,Ma.current):at(Ma,r.pool)}function Ng(){var e=Mh();return e===null?null:{parent:Se._currentValue,pool:e}}var el=Error(a(460)),xg=Error(a(474)),Zu=Error(a(542)),kh={then:function(){}};function Mg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ju(){}function kg(e,r,s){switch(s=e[s],s===void 0?e.push(r):s!==r&&(r.then(Ju,Ju),r=s),r.status){case"fulfilled":return r.value;case"rejected":throw e=r.reason,Pg(e),e;default:if(typeof r.status=="string")r.then(Ju,Ju);else{if(e=te,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=r,e.status="pending",e.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw e=r.reason,Pg(e),e}throw nl=r,el}}var nl=null;function Vg(){if(nl===null)throw Error(a(459));var e=nl;return nl=null,e}function Pg(e){if(e===el||e===Zu)throw Error(a(483))}var pr=!1;function Vh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ph(e,r){e=e.updateQueue,r.updateQueue===e&&(r.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function gr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function yr(e,r,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,($t&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=Gu(e),bg(e,null,s),r}return Fu(e,l,r,s),Gu(e)}function il(e,r,s){if(r=r.updateQueue,r!==null&&(r=r.shared,(s&4194048)!==0)){var l=r.lanes;l&=e.pendingLanes,s|=l,r.lanes=s,No(e,s)}}function Lh(e,r){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var f=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var v={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?f=d=v:d=d.next=v,s=s.next}while(s!==null);d===null?f=d=r:d=d.next=r}else f=d=r;s={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=r:e.next=r,s.lastBaseUpdate=r}var Uh=!1;function rl(){if(Uh){var e=Ns;if(e!==null)throw e}}function al(e,r,s,l){Uh=!1;var f=e.updateQueue;pr=!1;var d=f.firstBaseUpdate,v=f.lastBaseUpdate,E=f.shared.pending;if(E!==null){f.shared.pending=null;var I=E,j=I.next;I.next=null,v===null?d=j:v.next=j,v=I;var W=e.alternate;W!==null&&(W=W.updateQueue,E=W.lastBaseUpdate,E!==v&&(E===null?W.firstBaseUpdate=j:E.next=j,W.lastBaseUpdate=I))}if(d!==null){var J=f.baseState;v=0,W=j=I=null,E=d;do{var H=E.lane&-536870913,F=H!==E.lane;if(F?(Lt&H)===H:(l&H)===H){H!==0&&H===Os&&(Uh=!0),W!==null&&(W=W.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var Et=e,_t=E;H=r;var Wt=s;switch(_t.tag){case 1:if(Et=_t.payload,typeof Et=="function"){J=Et.call(Wt,J,H);break t}J=Et;break t;case 3:Et.flags=Et.flags&-65537|128;case 0:if(Et=_t.payload,H=typeof Et=="function"?Et.call(Wt,J,H):Et,H==null)break t;J=T({},J,H);break t;case 2:pr=!0}}H=E.callback,H!==null&&(e.flags|=64,F&&(e.flags|=8192),F=f.callbacks,F===null?f.callbacks=[H]:F.push(H))}else F={lane:H,tag:E.tag,payload:E.payload,callback:E.callback,next:null},W===null?(j=W=F,I=J):W=W.next=F,v|=H;if(E=E.next,E===null){if(E=f.shared.pending,E===null)break;F=E,E=F.next,F.next=null,f.lastBaseUpdate=F,f.shared.pending=null}}while(!0);W===null&&(I=J),f.baseState=I,f.firstBaseUpdate=j,f.lastBaseUpdate=W,d===null&&(f.shared.lanes=0),Sr|=v,e.lanes=v,e.memoizedState=J}}function Lg(e,r){if(typeof e!="function")throw Error(a(191,e));e.call(r)}function Ug(e,r){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Lg(s[e],r)}var xs=et(null),tc=et(0);function zg(e,r){e=$i,at(tc,e),at(xs,r),$i=e|r.baseLanes}function zh(){at(tc,$i),at(xs,xs.current)}function Bh(){$i=tc.current,ut(xs),ut(tc)}var _r=0,It=null,Yt=null,_e=null,ec=!1,Ms=!1,ka=!1,nc=0,sl=0,ks=null,Yw=0;function de(){throw Error(a(321))}function jh(e,r){if(r===null)return!1;for(var s=0;s<r.length&&s<e.length;s++)if(!hn(e[s],r[s]))return!1;return!0}function Hh(e,r,s,l,f,d){return _r=d,It=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,X.H=e===null||e.memoizedState===null?by:wy,ka=!1,d=s(l,f),ka=!1,Ms&&(d=jg(r,s,l,f)),Bg(e),d}function Bg(e){X.H=lc;var r=Yt!==null&&Yt.next!==null;if(_r=0,_e=Yt=It=null,ec=!1,sl=0,ks=null,r)throw Error(a(300));e===null||Me||(e=e.dependencies,e!==null&&Yu(e)&&(Me=!0))}function jg(e,r,s,l){It=e;var f=0;do{if(Ms&&(ks=null),sl=0,Ms=!1,25<=f)throw Error(a(301));if(f+=1,_e=Yt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}X.H=nA,d=r(s,l)}while(Ms);return d}function Xw(){var e=X.H,r=e.useState()[0];return r=typeof r.then=="function"?ol(r):r,e=e.useState()[0],(Yt!==null?Yt.memoizedState:null)!==e&&(It.flags|=1024),r}function qh(){var e=nc!==0;return nc=0,e}function Fh(e,r,s){r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~s}function Gh(e){if(ec){for(e=e.memoizedState;e!==null;){var r=e.queue;r!==null&&(r.pending=null),e=e.next}ec=!1}_r=0,_e=Yt=It=null,Ms=!1,sl=nc=0,ks=null}function an(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _e===null?It.memoizedState=_e=e:_e=_e.next=e,_e}function ve(){if(Yt===null){var e=It.alternate;e=e!==null?e.memoizedState:null}else e=Yt.next;var r=_e===null?It.memoizedState:_e.next;if(r!==null)_e=r,Yt=e;else{if(e===null)throw It.alternate===null?Error(a(467)):Error(a(310));Yt=e,e={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},_e===null?It.memoizedState=_e=e:_e=_e.next=e}return _e}function $h(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ol(e){var r=sl;return sl+=1,ks===null&&(ks=[]),e=kg(ks,e,r),r=It,(_e===null?r.memoizedState:_e.next)===null&&(r=r.alternate,X.H=r===null||r.memoizedState===null?by:wy),e}function ic(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ol(e);if(e.$$typeof===G)return $e(e)}throw Error(a(438,String(e)))}function Kh(e){var r=null,s=It.updateQueue;if(s!==null&&(r=s.memoCache),r==null){var l=It.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),s===null&&(s=$h(),It.updateQueue=s),s.memoCache=r,s=r.data[r.index],s===void 0)for(s=r.data[r.index]=Array(e),l=0;l<e;l++)s[l]=O;return r.index++,s}function Bi(e,r){return typeof r=="function"?r(e):r}function rc(e){var r=ve();return Qh(r,Yt,e)}function Qh(e,r,s){var l=e.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var f=e.baseQueue,d=l.pending;if(d!==null){if(f!==null){var v=f.next;f.next=d.next,d.next=v}r.baseQueue=f=d,l.pending=null}if(d=e.baseState,f===null)e.memoizedState=d;else{r=f.next;var E=v=null,I=null,j=r,W=!1;do{var J=j.lane&-536870913;if(J!==j.lane?(Lt&J)===J:(_r&J)===J){var H=j.revertLane;if(H===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),J===Os&&(W=!0);else if((_r&H)===H){j=j.next,H===Os&&(W=!0);continue}else J={lane:0,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},I===null?(E=I=J,v=d):I=I.next=J,It.lanes|=H,Sr|=H;J=j.action,ka&&s(d,J),d=j.hasEagerState?j.eagerState:s(d,J)}else H={lane:J,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},I===null?(E=I=H,v=d):I=I.next=H,It.lanes|=J,Sr|=J;j=j.next}while(j!==null&&j!==r);if(I===null?v=d:I.next=E,!hn(d,e.memoizedState)&&(Me=!0,W&&(s=Ns,s!==null)))throw s;e.memoizedState=d,e.baseState=v,e.baseQueue=I,l.lastRenderedState=d}return f===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Yh(e){var r=ve(),s=r.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var l=s.dispatch,f=s.pending,d=r.memoizedState;if(f!==null){s.pending=null;var v=f=f.next;do d=e(d,v.action),v=v.next;while(v!==f);hn(d,r.memoizedState)||(Me=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),s.lastRenderedState=d}return[d,l]}function Hg(e,r,s){var l=It,f=ve(),d=Ht;if(d){if(s===void 0)throw Error(a(407));s=s()}else s=r();var v=!hn((Yt||f).memoizedState,s);v&&(f.memoizedState=s,Me=!0),f=f.queue;var E=Gg.bind(null,l,f,e);if(ll(2048,8,E,[e]),f.getSnapshot!==r||v||_e!==null&&_e.memoizedState.tag&1){if(l.flags|=2048,Vs(9,ac(),Fg.bind(null,l,f,s,r),null),te===null)throw Error(a(349));d||(_r&124)!==0||qg(l,r,s)}return s}function qg(e,r,s){e.flags|=16384,e={getSnapshot:r,value:s},r=It.updateQueue,r===null?(r=$h(),It.updateQueue=r,r.stores=[e]):(s=r.stores,s===null?r.stores=[e]:s.push(e))}function Fg(e,r,s,l){r.value=s,r.getSnapshot=l,$g(r)&&Kg(e)}function Gg(e,r,s){return s(function(){$g(r)&&Kg(e)})}function $g(e){var r=e.getSnapshot;e=e.value;try{var s=r();return!hn(e,s)}catch{return!0}}function Kg(e){var r=Rs(e,2);r!==null&&_n(r,e,2)}function Xh(e){var r=an();if(typeof e=="function"){var s=e;if(e=s(),ka){cn(!0);try{s()}finally{cn(!1)}}}return r.memoizedState=r.baseState=e,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:e},r}function Qg(e,r,s,l){return e.baseState=s,Qh(e,Yt,typeof l=="function"?l:Bi)}function Ww(e,r,s,l,f){if(oc(e))throw Error(a(485));if(e=r.action,e!==null){var d={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};X.T!==null?s(!0):d.isTransition=!1,l(d),s=r.pending,s===null?(d.next=r.pending=d,Yg(r,d)):(d.next=s.next,r.pending=s.next=d)}}function Yg(e,r){var s=r.action,l=r.payload,f=e.state;if(r.isTransition){var d=X.T,v={};X.T=v;try{var E=s(f,l),I=X.S;I!==null&&I(v,E),Xg(e,r,E)}catch(j){Wh(e,r,j)}finally{X.T=d}}else try{d=s(f,l),Xg(e,r,d)}catch(j){Wh(e,r,j)}}function Xg(e,r,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Wg(e,r,l)},function(l){return Wh(e,r,l)}):Wg(e,r,s)}function Wg(e,r,s){r.status="fulfilled",r.value=s,Zg(r),e.state=s,r=e.pending,r!==null&&(s=r.next,s===r?e.pending=null:(s=s.next,r.next=s,Yg(e,s)))}function Wh(e,r,s){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=s,Zg(r),r=r.next;while(r!==l)}e.action=null}function Zg(e){e=e.listeners;for(var r=0;r<e.length;r++)(0,e[r])()}function Jg(e,r){return r}function ty(e,r){if(Ht){var s=te.formState;if(s!==null){t:{var l=It;if(Ht){if(ce){e:{for(var f=ce,d=li;f.nodeType!==8;){if(!d){f=null;break e}if(f=qn(f.nextSibling),f===null){f=null;break e}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){ce=qn(f.nextSibling),l=f.data==="F!";break t}}Oa(l)}l=!1}l&&(r=s[0])}}return s=an(),s.memoizedState=s.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jg,lastRenderedState:r},s.queue=l,s=vy.bind(null,It,l),l.dispatch=s,l=Xh(!1),d=nd.bind(null,It,!1,l.queue),l=an(),f={state:r,dispatch:null,action:e,pending:null},l.queue=f,s=Ww.bind(null,It,f,d,s),f.dispatch=s,l.memoizedState=e,[r,s,!1]}function ey(e){var r=ve();return ny(r,Yt,e)}function ny(e,r,s){if(r=Qh(e,r,Jg)[0],e=rc(Bi)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=ol(r)}catch(v){throw v===el?Zu:v}else l=r;r=ve();var f=r.queue,d=f.dispatch;return s!==r.memoizedState&&(It.flags|=2048,Vs(9,ac(),Zw.bind(null,f,s),null)),[l,d,e]}function Zw(e,r){e.action=r}function iy(e){var r=ve(),s=Yt;if(s!==null)return ny(r,s,e);ve(),r=r.memoizedState,s=ve();var l=s.queue.dispatch;return s.memoizedState=e,[r,l,!1]}function Vs(e,r,s,l){return e={tag:e,create:s,deps:l,inst:r,next:null},r=It.updateQueue,r===null&&(r=$h(),It.updateQueue=r),s=r.lastEffect,s===null?r.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,r.lastEffect=e),e}function ac(){return{destroy:void 0,resource:void 0}}function ry(){return ve().memoizedState}function sc(e,r,s,l){var f=an();l=l===void 0?null:l,It.flags|=e,f.memoizedState=Vs(1|r,ac(),s,l)}function ll(e,r,s,l){var f=ve();l=l===void 0?null:l;var d=f.memoizedState.inst;Yt!==null&&l!==null&&jh(l,Yt.memoizedState.deps)?f.memoizedState=Vs(r,d,s,l):(It.flags|=e,f.memoizedState=Vs(1|r,d,s,l))}function ay(e,r){sc(8390656,8,e,r)}function sy(e,r){ll(2048,8,e,r)}function oy(e,r){return ll(4,2,e,r)}function ly(e,r){return ll(4,4,e,r)}function uy(e,r){if(typeof r=="function"){e=e();var s=r(e);return function(){typeof s=="function"?s():r(null)}}if(r!=null)return e=e(),r.current=e,function(){r.current=null}}function cy(e,r,s){s=s!=null?s.concat([e]):null,ll(4,4,uy.bind(null,r,e),s)}function Zh(){}function fy(e,r){var s=ve();r=r===void 0?null:r;var l=s.memoizedState;return r!==null&&jh(r,l[1])?l[0]:(s.memoizedState=[e,r],e)}function hy(e,r){var s=ve();r=r===void 0?null:r;var l=s.memoizedState;if(r!==null&&jh(r,l[1]))return l[0];if(l=e(),ka){cn(!0);try{e()}finally{cn(!1)}}return s.memoizedState=[l,r],l}function Jh(e,r,s){return s===void 0||(_r&1073741824)!==0?e.memoizedState=r:(e.memoizedState=s,e=p_(),It.lanes|=e,Sr|=e,s)}function dy(e,r,s,l){return hn(s,r)?s:xs.current!==null?(e=Jh(e,s,l),hn(e,r)||(Me=!0),e):(_r&42)===0?(Me=!0,e.memoizedState=s):(e=p_(),It.lanes|=e,Sr|=e,r)}function my(e,r,s,l,f){var d=ot.p;ot.p=d!==0&&8>d?d:8;var v=X.T,E={};X.T=E,nd(e,!1,r,s);try{var I=f(),j=X.S;if(j!==null&&j(E,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var W=Qw(I,l);ul(e,r,W,yn(e))}else ul(e,r,l,yn(e))}catch(J){ul(e,r,{then:function(){},status:"rejected",reason:J},yn())}finally{ot.p=d,X.T=v}}function Jw(){}function td(e,r,s,l){if(e.tag!==5)throw Error(a(476));var f=py(e).queue;my(e,f,r,ht,s===null?Jw:function(){return gy(e),s(l)})}function py(e){var r=e.memoizedState;if(r!==null)return r;r={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:ht},next:null};var s={};return r.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:s},next:null},e.memoizedState=r,e=e.alternate,e!==null&&(e.memoizedState=r),r}function gy(e){var r=py(e).next.queue;ul(e,r,{},yn())}function ed(){return $e(Il)}function yy(){return ve().memoizedState}function _y(){return ve().memoizedState}function tA(e){for(var r=e.return;r!==null;){switch(r.tag){case 24:case 3:var s=yn();e=gr(s);var l=yr(r,e,s);l!==null&&(_n(l,r,s),il(l,r,s)),r={cache:Nh()},e.payload=r;return}r=r.return}}function eA(e,r,s){var l=yn();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},oc(e)?Ty(r,s):(s=Eh(e,r,s,l),s!==null&&(_n(s,e,l),Ey(s,r,l)))}function vy(e,r,s){var l=yn();ul(e,r,s,l)}function ul(e,r,s,l){var f={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(oc(e))Ty(r,f);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var v=r.lastRenderedState,E=d(v,s);if(f.hasEagerState=!0,f.eagerState=E,hn(E,v))return Fu(e,r,f,0),te===null&&qu(),!1}catch{}finally{}if(s=Eh(e,r,f,l),s!==null)return _n(s,e,l),Ey(s,r,l),!0}return!1}function nd(e,r,s,l){if(l={lane:2,revertLane:kd(),action:l,hasEagerState:!1,eagerState:null,next:null},oc(e)){if(r)throw Error(a(479))}else r=Eh(e,s,l,2),r!==null&&_n(r,e,2)}function oc(e){var r=e.alternate;return e===It||r!==null&&r===It}function Ty(e,r){Ms=ec=!0;var s=e.pending;s===null?r.next=r:(r.next=s.next,s.next=r),e.pending=r}function Ey(e,r,s){if((s&4194048)!==0){var l=r.lanes;l&=e.pendingLanes,s|=l,r.lanes=s,No(e,s)}}var lc={readContext:$e,use:ic,useCallback:de,useContext:de,useEffect:de,useImperativeHandle:de,useLayoutEffect:de,useInsertionEffect:de,useMemo:de,useReducer:de,useRef:de,useState:de,useDebugValue:de,useDeferredValue:de,useTransition:de,useSyncExternalStore:de,useId:de,useHostTransitionStatus:de,useFormState:de,useActionState:de,useOptimistic:de,useMemoCache:de,useCacheRefresh:de},by={readContext:$e,use:ic,useCallback:function(e,r){return an().memoizedState=[e,r===void 0?null:r],e},useContext:$e,useEffect:ay,useImperativeHandle:function(e,r,s){s=s!=null?s.concat([e]):null,sc(4194308,4,uy.bind(null,r,e),s)},useLayoutEffect:function(e,r){return sc(4194308,4,e,r)},useInsertionEffect:function(e,r){sc(4,2,e,r)},useMemo:function(e,r){var s=an();r=r===void 0?null:r;var l=e();if(ka){cn(!0);try{e()}finally{cn(!1)}}return s.memoizedState=[l,r],l},useReducer:function(e,r,s){var l=an();if(s!==void 0){var f=s(r);if(ka){cn(!0);try{s(r)}finally{cn(!1)}}}else f=r;return l.memoizedState=l.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},l.queue=e,e=e.dispatch=eA.bind(null,It,e),[l.memoizedState,e]},useRef:function(e){var r=an();return e={current:e},r.memoizedState=e},useState:function(e){e=Xh(e);var r=e.queue,s=vy.bind(null,It,r);return r.dispatch=s,[e.memoizedState,s]},useDebugValue:Zh,useDeferredValue:function(e,r){var s=an();return Jh(s,e,r)},useTransition:function(){var e=Xh(!1);return e=my.bind(null,It,e.queue,!0,!1),an().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,r,s){var l=It,f=an();if(Ht){if(s===void 0)throw Error(a(407));s=s()}else{if(s=r(),te===null)throw Error(a(349));(Lt&124)!==0||qg(l,r,s)}f.memoizedState=s;var d={value:s,getSnapshot:r};return f.queue=d,ay(Gg.bind(null,l,d,e),[e]),l.flags|=2048,Vs(9,ac(),Fg.bind(null,l,d,s,r),null),s},useId:function(){var e=an(),r=te.identifierPrefix;if(Ht){var s=Li,l=Pi;s=(l&~(1<<32-Ge(l)-1)).toString(32)+s,r=""+r+"R"+s,s=nc++,0<s&&(r+="H"+s.toString(32)),r+=""}else s=Yw++,r=""+r+"r"+s.toString(32)+"";return e.memoizedState=r},useHostTransitionStatus:ed,useFormState:ty,useActionState:ty,useOptimistic:function(e){var r=an();r.memoizedState=r.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=s,r=nd.bind(null,It,!0,s),s.dispatch=r,[e,r]},useMemoCache:Kh,useCacheRefresh:function(){return an().memoizedState=tA.bind(null,It)}},wy={readContext:$e,use:ic,useCallback:fy,useContext:$e,useEffect:sy,useImperativeHandle:cy,useInsertionEffect:oy,useLayoutEffect:ly,useMemo:hy,useReducer:rc,useRef:ry,useState:function(){return rc(Bi)},useDebugValue:Zh,useDeferredValue:function(e,r){var s=ve();return dy(s,Yt.memoizedState,e,r)},useTransition:function(){var e=rc(Bi)[0],r=ve().memoizedState;return[typeof e=="boolean"?e:ol(e),r]},useSyncExternalStore:Hg,useId:yy,useHostTransitionStatus:ed,useFormState:ey,useActionState:ey,useOptimistic:function(e,r){var s=ve();return Qg(s,Yt,e,r)},useMemoCache:Kh,useCacheRefresh:_y},nA={readContext:$e,use:ic,useCallback:fy,useContext:$e,useEffect:sy,useImperativeHandle:cy,useInsertionEffect:oy,useLayoutEffect:ly,useMemo:hy,useReducer:Yh,useRef:ry,useState:function(){return Yh(Bi)},useDebugValue:Zh,useDeferredValue:function(e,r){var s=ve();return Yt===null?Jh(s,e,r):dy(s,Yt.memoizedState,e,r)},useTransition:function(){var e=Yh(Bi)[0],r=ve().memoizedState;return[typeof e=="boolean"?e:ol(e),r]},useSyncExternalStore:Hg,useId:yy,useHostTransitionStatus:ed,useFormState:iy,useActionState:iy,useOptimistic:function(e,r){var s=ve();return Yt!==null?Qg(s,Yt,e,r):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:Kh,useCacheRefresh:_y},Ps=null,cl=0;function uc(e){var r=cl;return cl+=1,Ps===null&&(Ps=[]),kg(Ps,e,r)}function fl(e,r){r=r.props.ref,e.ref=r!==void 0?r:null}function cc(e,r){throw r.$$typeof===w?Error(a(525)):(e=Object.prototype.toString.call(r),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e)))}function Ay(e){var r=e._init;return r(e._payload)}function Sy(e){function r(L,x){if(e){var B=L.deletions;B===null?(L.deletions=[x],L.flags|=16):B.push(x)}}function s(L,x){if(!e)return null;for(;x!==null;)r(L,x),x=x.sibling;return null}function l(L){for(var x=new Map;L!==null;)L.key!==null?x.set(L.key,L):x.set(L.index,L),L=L.sibling;return x}function f(L,x){return L=Vi(L,x),L.index=0,L.sibling=null,L}function d(L,x,B){return L.index=B,e?(B=L.alternate,B!==null?(B=B.index,B<x?(L.flags|=67108866,x):B):(L.flags|=67108866,x)):(L.flags|=1048576,x)}function v(L){return e&&L.alternate===null&&(L.flags|=67108866),L}function E(L,x,B,Z){return x===null||x.tag!==6?(x=wh(B,L.mode,Z),x.return=L,x):(x=f(x,B),x.return=L,x)}function I(L,x,B,Z){var ft=B.type;return ft===V?W(L,x,B.props.children,Z,B.key):x!==null&&(x.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===A&&Ay(ft)===x.type)?(x=f(x,B.props),fl(x,B),x.return=L,x):(x=$u(B.type,B.key,B.props,null,L.mode,Z),fl(x,B),x.return=L,x)}function j(L,x,B,Z){return x===null||x.tag!==4||x.stateNode.containerInfo!==B.containerInfo||x.stateNode.implementation!==B.implementation?(x=Ah(B,L.mode,Z),x.return=L,x):(x=f(x,B.children||[]),x.return=L,x)}function W(L,x,B,Z,ft){return x===null||x.tag!==7?(x=Ra(B,L.mode,Z,ft),x.return=L,x):(x=f(x,B),x.return=L,x)}function J(L,x,B){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=wh(""+x,L.mode,B),x.return=L,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case R:return B=$u(x.type,x.key,x.props,null,L.mode,B),fl(B,x),B.return=L,B;case M:return x=Ah(x,L.mode,B),x.return=L,x;case A:var Z=x._init;return x=Z(x._payload),J(L,x,B)}if(ee(x)||P(x))return x=Ra(x,L.mode,B,null),x.return=L,x;if(typeof x.then=="function")return J(L,uc(x),B);if(x.$$typeof===G)return J(L,Xu(L,x),B);cc(L,x)}return null}function H(L,x,B,Z){var ft=x!==null?x.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return ft!==null?null:E(L,x,""+B,Z);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case R:return B.key===ft?I(L,x,B,Z):null;case M:return B.key===ft?j(L,x,B,Z):null;case A:return ft=B._init,B=ft(B._payload),H(L,x,B,Z)}if(ee(B)||P(B))return ft!==null?null:W(L,x,B,Z,null);if(typeof B.then=="function")return H(L,x,uc(B),Z);if(B.$$typeof===G)return H(L,x,Xu(L,B),Z);cc(L,B)}return null}function F(L,x,B,Z,ft){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return L=L.get(B)||null,E(x,L,""+Z,ft);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case R:return L=L.get(Z.key===null?B:Z.key)||null,I(x,L,Z,ft);case M:return L=L.get(Z.key===null?B:Z.key)||null,j(x,L,Z,ft);case A:var Ot=Z._init;return Z=Ot(Z._payload),F(L,x,B,Z,ft)}if(ee(Z)||P(Z))return L=L.get(B)||null,W(x,L,Z,ft,null);if(typeof Z.then=="function")return F(L,x,B,uc(Z),ft);if(Z.$$typeof===G)return F(L,x,B,Xu(x,Z),ft);cc(x,Z)}return null}function Et(L,x,B,Z){for(var ft=null,Ot=null,mt=x,vt=x=0,Ve=null;mt!==null&&vt<B.length;vt++){mt.index>vt?(Ve=mt,mt=null):Ve=mt.sibling;var Bt=H(L,mt,B[vt],Z);if(Bt===null){mt===null&&(mt=Ve);break}e&&mt&&Bt.alternate===null&&r(L,mt),x=d(Bt,x,vt),Ot===null?ft=Bt:Ot.sibling=Bt,Ot=Bt,mt=Ve}if(vt===B.length)return s(L,mt),Ht&&Ca(L,vt),ft;if(mt===null){for(;vt<B.length;vt++)mt=J(L,B[vt],Z),mt!==null&&(x=d(mt,x,vt),Ot===null?ft=mt:Ot.sibling=mt,Ot=mt);return Ht&&Ca(L,vt),ft}for(mt=l(mt);vt<B.length;vt++)Ve=F(mt,L,vt,B[vt],Z),Ve!==null&&(e&&Ve.alternate!==null&&mt.delete(Ve.key===null?vt:Ve.key),x=d(Ve,x,vt),Ot===null?ft=Ve:Ot.sibling=Ve,Ot=Ve);return e&&mt.forEach(function(kr){return r(L,kr)}),Ht&&Ca(L,vt),ft}function _t(L,x,B,Z){if(B==null)throw Error(a(151));for(var ft=null,Ot=null,mt=x,vt=x=0,Ve=null,Bt=B.next();mt!==null&&!Bt.done;vt++,Bt=B.next()){mt.index>vt?(Ve=mt,mt=null):Ve=mt.sibling;var kr=H(L,mt,Bt.value,Z);if(kr===null){mt===null&&(mt=Ve);break}e&&mt&&kr.alternate===null&&r(L,mt),x=d(kr,x,vt),Ot===null?ft=kr:Ot.sibling=kr,Ot=kr,mt=Ve}if(Bt.done)return s(L,mt),Ht&&Ca(L,vt),ft;if(mt===null){for(;!Bt.done;vt++,Bt=B.next())Bt=J(L,Bt.value,Z),Bt!==null&&(x=d(Bt,x,vt),Ot===null?ft=Bt:Ot.sibling=Bt,Ot=Bt);return Ht&&Ca(L,vt),ft}for(mt=l(mt);!Bt.done;vt++,Bt=B.next())Bt=F(mt,L,vt,Bt.value,Z),Bt!==null&&(e&&Bt.alternate!==null&&mt.delete(Bt.key===null?vt:Bt.key),x=d(Bt,x,vt),Ot===null?ft=Bt:Ot.sibling=Bt,Ot=Bt);return e&&mt.forEach(function(iS){return r(L,iS)}),Ht&&Ca(L,vt),ft}function Wt(L,x,B,Z){if(typeof B=="object"&&B!==null&&B.type===V&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case R:t:{for(var ft=B.key;x!==null;){if(x.key===ft){if(ft=B.type,ft===V){if(x.tag===7){s(L,x.sibling),Z=f(x,B.props.children),Z.return=L,L=Z;break t}}else if(x.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===A&&Ay(ft)===x.type){s(L,x.sibling),Z=f(x,B.props),fl(Z,B),Z.return=L,L=Z;break t}s(L,x);break}else r(L,x);x=x.sibling}B.type===V?(Z=Ra(B.props.children,L.mode,Z,B.key),Z.return=L,L=Z):(Z=$u(B.type,B.key,B.props,null,L.mode,Z),fl(Z,B),Z.return=L,L=Z)}return v(L);case M:t:{for(ft=B.key;x!==null;){if(x.key===ft)if(x.tag===4&&x.stateNode.containerInfo===B.containerInfo&&x.stateNode.implementation===B.implementation){s(L,x.sibling),Z=f(x,B.children||[]),Z.return=L,L=Z;break t}else{s(L,x);break}else r(L,x);x=x.sibling}Z=Ah(B,L.mode,Z),Z.return=L,L=Z}return v(L);case A:return ft=B._init,B=ft(B._payload),Wt(L,x,B,Z)}if(ee(B))return Et(L,x,B,Z);if(P(B)){if(ft=P(B),typeof ft!="function")throw Error(a(150));return B=ft.call(B),_t(L,x,B,Z)}if(typeof B.then=="function")return Wt(L,x,uc(B),Z);if(B.$$typeof===G)return Wt(L,x,Xu(L,B),Z);cc(L,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,x!==null&&x.tag===6?(s(L,x.sibling),Z=f(x,B),Z.return=L,L=Z):(s(L,x),Z=wh(B,L.mode,Z),Z.return=L,L=Z),v(L)):s(L,x)}return function(L,x,B,Z){try{cl=0;var ft=Wt(L,x,B,Z);return Ps=null,ft}catch(mt){if(mt===el||mt===Zu)throw mt;var Ot=dn(29,mt,null,L.mode);return Ot.lanes=Z,Ot.return=L,Ot}finally{}}}var Ls=Sy(!0),Ry=Sy(!1),xn=et(null),ui=null;function vr(e){var r=e.alternate;at(Re,Re.current&1),at(xn,e),ui===null&&(r===null||xs.current!==null||r.memoizedState!==null)&&(ui=e)}function Iy(e){if(e.tag===22){if(at(Re,Re.current),at(xn,e),ui===null){var r=e.alternate;r!==null&&r.memoizedState!==null&&(ui=e)}}else Tr()}function Tr(){at(Re,Re.current),at(xn,xn.current)}function ji(e){ut(xn),ui===e&&(ui=null),ut(Re)}var Re=et(0);function fc(e){for(var r=e;r!==null;){if(r.tag===13){var s=r.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||$d(s)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function id(e,r,s,l){r=e.memoizedState,s=s(l,r),s=s==null?r:T({},r,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var rd={enqueueSetState:function(e,r,s){e=e._reactInternals;var l=yn(),f=gr(l);f.payload=r,s!=null&&(f.callback=s),r=yr(e,f,l),r!==null&&(_n(r,e,l),il(r,e,l))},enqueueReplaceState:function(e,r,s){e=e._reactInternals;var l=yn(),f=gr(l);f.tag=1,f.payload=r,s!=null&&(f.callback=s),r=yr(e,f,l),r!==null&&(_n(r,e,l),il(r,e,l))},enqueueForceUpdate:function(e,r){e=e._reactInternals;var s=yn(),l=gr(s);l.tag=2,r!=null&&(l.callback=r),r=yr(e,l,s),r!==null&&(_n(r,e,s),il(r,e,s))}};function Cy(e,r,s,l,f,d,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,v):r.prototype&&r.prototype.isPureReactComponent?!Ko(s,l)||!Ko(f,d):!0}function Dy(e,r,s,l){e=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(s,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(s,l),r.state!==e&&rd.enqueueReplaceState(r,r.state,null)}function Va(e,r){var s=r;if("ref"in r){s={};for(var l in r)l!=="ref"&&(s[l]=r[l])}if(e=e.defaultProps){s===r&&(s=T({},s));for(var f in e)s[f]===void 0&&(s[f]=e[f])}return s}var hc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Oy(e){hc(e)}function Ny(e){console.error(e)}function xy(e){hc(e)}function dc(e,r){try{var s=e.onUncaughtError;s(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function My(e,r,s){try{var l=e.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function ad(e,r,s){return s=gr(s),s.tag=3,s.payload={element:null},s.callback=function(){dc(e,r)},s}function ky(e){return e=gr(e),e.tag=3,e}function Vy(e,r,s,l){var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;e.payload=function(){return f(d)},e.callback=function(){My(r,s,l)}}var v=s.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){My(r,s,l),typeof f!="function"&&(Rr===null?Rr=new Set([this]):Rr.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function iA(e,r,s,l,f){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=s.alternate,r!==null&&Zo(r,s,f,!0),s=xn.current,s!==null){switch(s.tag){case 13:return ui===null?Dd():s.alternate===null&&fe===0&&(fe=3),s.flags&=-257,s.flags|=65536,s.lanes=f,l===kh?s.flags|=16384:(r=s.updateQueue,r===null?s.updateQueue=new Set([l]):r.add(l),Nd(e,l,f)),!1;case 22:return s.flags|=65536,l===kh?s.flags|=16384:(r=s.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=r):(s=r.retryQueue,s===null?r.retryQueue=new Set([l]):s.add(l)),Nd(e,l,f)),!1}throw Error(a(435,s.tag))}return Nd(e,l,f),Dd(),!1}if(Ht)return r=xn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==Ih&&(e=Error(a(422),{cause:l}),Wo(Cn(e,s)))):(l!==Ih&&(r=Error(a(423),{cause:l}),Wo(Cn(r,s))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,l=Cn(l,s),f=ad(e.stateNode,l,f),Lh(e,f),fe!==4&&(fe=2)),!1;var d=Error(a(520),{cause:l});if(d=Cn(d,s),_l===null?_l=[d]:_l.push(d),fe!==4&&(fe=2),r===null)return!0;l=Cn(l,s),s=r;do{switch(s.tag){case 3:return s.flags|=65536,e=f&-f,s.lanes|=e,e=ad(s.stateNode,l,e),Lh(s,e),!1;case 1:if(r=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Rr===null||!Rr.has(d))))return s.flags|=65536,f&=-f,s.lanes|=f,f=ky(f),Vy(f,e,s,l),Lh(s,f),!1}s=s.return}while(s!==null);return!1}var Py=Error(a(461)),Me=!1;function ze(e,r,s,l){r.child=e===null?Ry(r,null,s,l):Ls(r,e.child,s,l)}function Ly(e,r,s,l,f){s=s.render;var d=r.ref;if("ref"in l){var v={};for(var E in l)E!=="ref"&&(v[E]=l[E])}else v=l;return xa(r),l=Hh(e,r,s,v,d,f),E=qh(),e!==null&&!Me?(Fh(e,r,f),Hi(e,r,f)):(Ht&&E&&Sh(r),r.flags|=1,ze(e,r,l,f),r.child)}function Uy(e,r,s,l,f){if(e===null){var d=s.type;return typeof d=="function"&&!bh(d)&&d.defaultProps===void 0&&s.compare===null?(r.tag=15,r.type=d,zy(e,r,d,l,f)):(e=$u(s.type,null,l,r,r.mode,f),e.ref=r.ref,e.return=r,r.child=e)}if(d=e.child,!dd(e,f)){var v=d.memoizedProps;if(s=s.compare,s=s!==null?s:Ko,s(v,l)&&e.ref===r.ref)return Hi(e,r,f)}return r.flags|=1,e=Vi(d,l),e.ref=r.ref,e.return=r,r.child=e}function zy(e,r,s,l,f){if(e!==null){var d=e.memoizedProps;if(Ko(d,l)&&e.ref===r.ref)if(Me=!1,r.pendingProps=l=d,dd(e,f))(e.flags&131072)!==0&&(Me=!0);else return r.lanes=e.lanes,Hi(e,r,f)}return sd(e,r,s,l,f)}function By(e,r,s){var l=r.pendingProps,f=l.children,d=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=d!==null?d.baseLanes|s:s,e!==null){for(f=r.child=e.child,d=0;f!==null;)d=d|f.lanes|f.childLanes,f=f.sibling;r.childLanes=d&~l}else r.childLanes=0,r.child=null;return jy(e,r,l,s)}if((s&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},e!==null&&Wu(r,d!==null?d.cachePool:null),d!==null?zg(r,d):zh(),Iy(r);else return r.lanes=r.childLanes=536870912,jy(e,r,d!==null?d.baseLanes|s:s,s)}else d!==null?(Wu(r,d.cachePool),zg(r,d),Tr(),r.memoizedState=null):(e!==null&&Wu(r,null),zh(),Tr());return ze(e,r,f,s),r.child}function jy(e,r,s,l){var f=Mh();return f=f===null?null:{parent:Se._currentValue,pool:f},r.memoizedState={baseLanes:s,cachePool:f},e!==null&&Wu(r,null),zh(),Iy(r),e!==null&&Zo(e,r,l,!0),null}function mc(e,r){var s=r.ref;if(s===null)e!==null&&e.ref!==null&&(r.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(r.flags|=4194816)}}function sd(e,r,s,l,f){return xa(r),s=Hh(e,r,s,l,void 0,f),l=qh(),e!==null&&!Me?(Fh(e,r,f),Hi(e,r,f)):(Ht&&l&&Sh(r),r.flags|=1,ze(e,r,s,f),r.child)}function Hy(e,r,s,l,f,d){return xa(r),r.updateQueue=null,s=jg(r,l,s,f),Bg(e),l=qh(),e!==null&&!Me?(Fh(e,r,d),Hi(e,r,d)):(Ht&&l&&Sh(r),r.flags|=1,ze(e,r,s,d),r.child)}function qy(e,r,s,l,f){if(xa(r),r.stateNode===null){var d=Is,v=s.contextType;typeof v=="object"&&v!==null&&(d=$e(v)),d=new s(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=rd,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},Vh(r),v=s.contextType,d.context=typeof v=="object"&&v!==null?$e(v):Is,d.state=r.memoizedState,v=s.getDerivedStateFromProps,typeof v=="function"&&(id(r,s,v,l),d.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&rd.enqueueReplaceState(d,d.state,null),al(r,l,d,f),rl(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(e===null){d=r.stateNode;var E=r.memoizedProps,I=Va(s,E);d.props=I;var j=d.context,W=s.contextType;v=Is,typeof W=="object"&&W!==null&&(v=$e(W));var J=s.getDerivedStateFromProps;W=typeof J=="function"||typeof d.getSnapshotBeforeUpdate=="function",E=r.pendingProps!==E,W||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E||j!==v)&&Dy(r,d,l,v),pr=!1;var H=r.memoizedState;d.state=H,al(r,l,d,f),rl(),j=r.memoizedState,E||H!==j||pr?(typeof J=="function"&&(id(r,s,J,l),j=r.memoizedState),(I=pr||Cy(r,s,I,l,H,j,v))?(W||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=j),d.props=l,d.state=j,d.context=v,l=I):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,Ph(e,r),v=r.memoizedProps,W=Va(s,v),d.props=W,J=r.pendingProps,H=d.context,j=s.contextType,I=Is,typeof j=="object"&&j!==null&&(I=$e(j)),E=s.getDerivedStateFromProps,(j=typeof E=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==J||H!==I)&&Dy(r,d,l,I),pr=!1,H=r.memoizedState,d.state=H,al(r,l,d,f),rl();var F=r.memoizedState;v!==J||H!==F||pr||e!==null&&e.dependencies!==null&&Yu(e.dependencies)?(typeof E=="function"&&(id(r,s,E,l),F=r.memoizedState),(W=pr||Cy(r,s,W,l,H,F,I)||e!==null&&e.dependencies!==null&&Yu(e.dependencies))?(j||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,F,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,F,I)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&H===e.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&H===e.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=F),d.props=l,d.state=F,d.context=I,l=W):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&H===e.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&H===e.memoizedState||(r.flags|=1024),l=!1)}return d=l,mc(e,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,e!==null&&l?(r.child=Ls(r,e.child,null,f),r.child=Ls(r,null,s,f)):ze(e,r,s,f),r.memoizedState=d.state,e=r.child):e=Hi(e,r,f),e}function Fy(e,r,s,l){return Xo(),r.flags|=256,ze(e,r,s,l),r.child}var od={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ld(e){return{baseLanes:e,cachePool:Ng()}}function ud(e,r,s){return e=e!==null?e.childLanes&~s:0,r&&(e|=Mn),e}function Gy(e,r,s){var l=r.pendingProps,f=!1,d=(r.flags&128)!==0,v;if((v=d)||(v=e!==null&&e.memoizedState===null?!1:(Re.current&2)!==0),v&&(f=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,e===null){if(Ht){if(f?vr(r):Tr(),Ht){var E=ce,I;if(I=E){t:{for(I=E,E=li;I.nodeType!==8;){if(!E){E=null;break t}if(I=qn(I.nextSibling),I===null){E=null;break t}}E=I}E!==null?(r.memoizedState={dehydrated:E,treeContext:Ia!==null?{id:Pi,overflow:Li}:null,retryLane:536870912,hydrationErrors:null},I=dn(18,null,null,0),I.stateNode=E,I.return=r,r.child=I,nn=r,ce=null,I=!0):I=!1}I||Oa(r)}if(E=r.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return $d(E)?r.lanes=32:r.lanes=536870912,null;ji(r)}return E=l.children,l=l.fallback,f?(Tr(),f=r.mode,E=pc({mode:"hidden",children:E},f),l=Ra(l,f,s,null),E.return=r,l.return=r,E.sibling=l,r.child=E,f=r.child,f.memoizedState=ld(s),f.childLanes=ud(e,v,s),r.memoizedState=od,l):(vr(r),cd(r,E))}if(I=e.memoizedState,I!==null&&(E=I.dehydrated,E!==null)){if(d)r.flags&256?(vr(r),r.flags&=-257,r=fd(e,r,s)):r.memoizedState!==null?(Tr(),r.child=e.child,r.flags|=128,r=null):(Tr(),f=l.fallback,E=r.mode,l=pc({mode:"visible",children:l.children},E),f=Ra(f,E,s,null),f.flags|=2,l.return=r,f.return=r,l.sibling=f,r.child=l,Ls(r,e.child,null,s),l=r.child,l.memoizedState=ld(s),l.childLanes=ud(e,v,s),r.memoizedState=od,r=f);else if(vr(r),$d(E)){if(v=E.nextSibling&&E.nextSibling.dataset,v)var j=v.dgst;v=j,l=Error(a(419)),l.stack="",l.digest=v,Wo({value:l,source:null,stack:null}),r=fd(e,r,s)}else if(Me||Zo(e,r,s,!1),v=(s&e.childLanes)!==0,Me||v){if(v=te,v!==null&&(l=s&-s,l=(l&42)!==0?1:or(l),l=(l&(v.suspendedLanes|s))!==0?0:l,l!==0&&l!==I.retryLane))throw I.retryLane=l,Rs(e,l),_n(v,e,l),Py;E.data==="$?"||Dd(),r=fd(e,r,s)}else E.data==="$?"?(r.flags|=192,r.child=e.child,r=null):(e=I.treeContext,ce=qn(E.nextSibling),nn=r,Ht=!0,Da=null,li=!1,e!==null&&(On[Nn++]=Pi,On[Nn++]=Li,On[Nn++]=Ia,Pi=e.id,Li=e.overflow,Ia=r),r=cd(r,l.children),r.flags|=4096);return r}return f?(Tr(),f=l.fallback,E=r.mode,I=e.child,j=I.sibling,l=Vi(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,j!==null?f=Vi(j,f):(f=Ra(f,E,s,null),f.flags|=2),f.return=r,l.return=r,l.sibling=f,r.child=l,l=f,f=r.child,E=e.child.memoizedState,E===null?E=ld(s):(I=E.cachePool,I!==null?(j=Se._currentValue,I=I.parent!==j?{parent:j,pool:j}:I):I=Ng(),E={baseLanes:E.baseLanes|s,cachePool:I}),f.memoizedState=E,f.childLanes=ud(e,v,s),r.memoizedState=od,l):(vr(r),s=e.child,e=s.sibling,s=Vi(s,{mode:"visible",children:l.children}),s.return=r,s.sibling=null,e!==null&&(v=r.deletions,v===null?(r.deletions=[e],r.flags|=16):v.push(e)),r.child=s,r.memoizedState=null,s)}function cd(e,r){return r=pc({mode:"visible",children:r},e.mode),r.return=e,e.child=r}function pc(e,r){return e=dn(22,e,null,r),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function fd(e,r,s){return Ls(r,e.child,null,s),e=cd(r,r.pendingProps.children),e.flags|=2,r.memoizedState=null,e}function $y(e,r,s){e.lanes|=r;var l=e.alternate;l!==null&&(l.lanes|=r),Dh(e.return,r,s)}function hd(e,r,s,l,f){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:f}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=s,d.tailMode=f)}function Ky(e,r,s){var l=r.pendingProps,f=l.revealOrder,d=l.tail;if(ze(e,r,l.children,s),l=Re.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=r.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&$y(e,s,r);else if(e.tag===19)$y(e,s,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break t;for(;e.sibling===null;){if(e.return===null||e.return===r)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(at(Re,l),f){case"forwards":for(s=r.child,f=null;s!==null;)e=s.alternate,e!==null&&fc(e)===null&&(f=s),s=s.sibling;s=f,s===null?(f=r.child,r.child=null):(f=s.sibling,s.sibling=null),hd(r,!1,f,s,d);break;case"backwards":for(s=null,f=r.child,r.child=null;f!==null;){if(e=f.alternate,e!==null&&fc(e)===null){r.child=f;break}e=f.sibling,f.sibling=s,s=f,f=e}hd(r,!0,s,null,d);break;case"together":hd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Hi(e,r,s){if(e!==null&&(r.dependencies=e.dependencies),Sr|=r.lanes,(s&r.childLanes)===0)if(e!==null){if(Zo(e,r,s,!1),(s&r.childLanes)===0)return null}else return null;if(e!==null&&r.child!==e.child)throw Error(a(153));if(r.child!==null){for(e=r.child,s=Vi(e,e.pendingProps),r.child=s,s.return=r;e.sibling!==null;)e=e.sibling,s=s.sibling=Vi(e,e.pendingProps),s.return=r;s.sibling=null}return r.child}function dd(e,r){return(e.lanes&r)!==0?!0:(e=e.dependencies,!!(e!==null&&Yu(e)))}function rA(e,r,s){switch(r.tag){case 3:Jt(r,r.stateNode.containerInfo),mr(r,Se,e.memoizedState.cache),Xo();break;case 27:case 5:sr(r);break;case 4:Jt(r,r.stateNode.containerInfo);break;case 10:mr(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(vr(r),r.flags|=128,null):(s&r.child.childLanes)!==0?Gy(e,r,s):(vr(r),e=Hi(e,r,s),e!==null?e.sibling:null);vr(r);break;case 19:var f=(e.flags&128)!==0;if(l=(s&r.childLanes)!==0,l||(Zo(e,r,s,!1),l=(s&r.childLanes)!==0),f){if(l)return Ky(e,r,s);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),at(Re,Re.current),l)break;return null;case 22:case 23:return r.lanes=0,By(e,r,s);case 24:mr(r,Se,e.memoizedState.cache)}return Hi(e,r,s)}function Qy(e,r,s){if(e!==null)if(e.memoizedProps!==r.pendingProps)Me=!0;else{if(!dd(e,s)&&(r.flags&128)===0)return Me=!1,rA(e,r,s);Me=(e.flags&131072)!==0}else Me=!1,Ht&&(r.flags&1048576)!==0&&Ag(r,Qu,r.index);switch(r.lanes=0,r.tag){case 16:t:{e=r.pendingProps;var l=r.elementType,f=l._init;if(l=f(l._payload),r.type=l,typeof l=="function")bh(l)?(e=Va(l,e),r.tag=1,r=qy(null,r,l,e,s)):(r.tag=0,r=sd(null,r,l,e,s));else{if(l!=null){if(f=l.$$typeof,f===rt){r.tag=11,r=Ly(null,r,l,e,s);break t}else if(f===C){r.tag=14,r=Uy(null,r,l,e,s);break t}}throw r=Ee(l)||l,Error(a(306,r,""))}}return r;case 0:return sd(e,r,r.type,r.pendingProps,s);case 1:return l=r.type,f=Va(l,r.pendingProps),qy(e,r,l,f,s);case 3:t:{if(Jt(r,r.stateNode.containerInfo),e===null)throw Error(a(387));l=r.pendingProps;var d=r.memoizedState;f=d.element,Ph(e,r),al(r,l,null,s);var v=r.memoizedState;if(l=v.cache,mr(r,Se,l),l!==d.cache&&Oh(r,[Se],s,!0),rl(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=Fy(e,r,l,s);break t}else if(l!==f){f=Cn(Error(a(424)),r),Wo(f),r=Fy(e,r,l,s);break t}else{switch(e=r.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ce=qn(e.firstChild),nn=r,Ht=!0,Da=null,li=!0,s=Ry(r,null,l,s),r.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Xo(),l===f){r=Hi(e,r,s);break t}ze(e,r,l,s)}r=r.child}return r;case 26:return mc(e,r),e===null?(s=Z_(r.type,null,r.pendingProps,null))?r.memoizedState=s:Ht||(s=r.type,e=r.pendingProps,l=Dc(wt.current).createElement(s),l[be]=r,l[ge]=e,je(l,s,e),he(l),r.stateNode=l):r.memoizedState=Z_(r.type,e.memoizedProps,r.pendingProps,e.memoizedState),null;case 27:return sr(r),e===null&&Ht&&(l=r.stateNode=Y_(r.type,r.pendingProps,wt.current),nn=r,li=!0,f=ce,Dr(r.type)?(Kd=f,ce=qn(l.firstChild)):ce=f),ze(e,r,r.pendingProps.children,s),mc(e,r),e===null&&(r.flags|=4194304),r.child;case 5:return e===null&&Ht&&((f=l=ce)&&(l=xA(l,r.type,r.pendingProps,li),l!==null?(r.stateNode=l,nn=r,ce=qn(l.firstChild),li=!1,f=!0):f=!1),f||Oa(r)),sr(r),f=r.type,d=r.pendingProps,v=e!==null?e.memoizedProps:null,l=d.children,qd(f,d)?l=null:v!==null&&qd(f,v)&&(r.flags|=32),r.memoizedState!==null&&(f=Hh(e,r,Xw,null,null,s),Il._currentValue=f),mc(e,r),ze(e,r,l,s),r.child;case 6:return e===null&&Ht&&((e=s=ce)&&(s=MA(s,r.pendingProps,li),s!==null?(r.stateNode=s,nn=r,ce=null,e=!0):e=!1),e||Oa(r)),null;case 13:return Gy(e,r,s);case 4:return Jt(r,r.stateNode.containerInfo),l=r.pendingProps,e===null?r.child=Ls(r,null,l,s):ze(e,r,l,s),r.child;case 11:return Ly(e,r,r.type,r.pendingProps,s);case 7:return ze(e,r,r.pendingProps,s),r.child;case 8:return ze(e,r,r.pendingProps.children,s),r.child;case 12:return ze(e,r,r.pendingProps.children,s),r.child;case 10:return l=r.pendingProps,mr(r,r.type,l.value),ze(e,r,l.children,s),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,xa(r),f=$e(f),l=l(f),r.flags|=1,ze(e,r,l,s),r.child;case 14:return Uy(e,r,r.type,r.pendingProps,s);case 15:return zy(e,r,r.type,r.pendingProps,s);case 19:return Ky(e,r,s);case 31:return l=r.pendingProps,s=r.mode,l={mode:l.mode,children:l.children},e===null?(s=pc(l,s),s.ref=r.ref,r.child=s,s.return=r,r=s):(s=Vi(e.child,l),s.ref=r.ref,r.child=s,s.return=r,r=s),r;case 22:return By(e,r,s);case 24:return xa(r),l=$e(Se),e===null?(f=Mh(),f===null&&(f=te,d=Nh(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=s),f=d),r.memoizedState={parent:l,cache:f},Vh(r),mr(r,Se,f)):((e.lanes&s)!==0&&(Ph(e,r),al(r,null,null,s),rl()),f=e.memoizedState,d=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),mr(r,Se,l)):(l=d.cache,mr(r,Se,l),l!==f.cache&&Oh(r,[Se],s,!0))),ze(e,r,r.pendingProps.children,s),r.child;case 29:throw r.pendingProps}throw Error(a(156,r.tag))}function qi(e){e.flags|=4}function Yy(e,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!iv(r)){if(r=xn.current,r!==null&&((Lt&4194048)===Lt?ui!==null:(Lt&62914560)!==Lt&&(Lt&536870912)===0||r!==ui))throw nl=kh,xg;e.flags|=8192}}function gc(e,r){r!==null&&(e.flags|=4),e.flags&16384&&(r=e.tag!==22?Do():536870912,e.lanes|=r,js|=r)}function hl(e,r){if(!Ht)switch(e.tailMode){case"hidden":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function se(e){var r=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(r)for(var f=e.child;f!==null;)s|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)s|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=l,e.childLanes=s,r}function aA(e,r,s){var l=r.pendingProps;switch(Rh(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return se(r),null;case 1:return se(r),null;case 3:return s=r.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),zi(Se),Xn(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Yo(r)?qi(r):e===null||e.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Ig())),se(r),null;case 26:return s=r.memoizedState,e===null?(qi(r),s!==null?(se(r),Yy(r,s)):(se(r),r.flags&=-16777217)):s?s!==e.memoizedState?(qi(r),se(r),Yy(r,s)):(se(r),r.flags&=-16777217):(e.memoizedProps!==l&&qi(r),se(r),r.flags&=-16777217),null;case 27:bi(r),s=wt.current;var f=r.type;if(e!==null&&r.stateNode!=null)e.memoizedProps!==l&&qi(r);else{if(!l){if(r.stateNode===null)throw Error(a(166));return se(r),null}e=pt.current,Yo(r)?Sg(r):(e=Y_(f,l,s),r.stateNode=e,qi(r))}return se(r),null;case 5:if(bi(r),s=r.type,e!==null&&r.stateNode!=null)e.memoizedProps!==l&&qi(r);else{if(!l){if(r.stateNode===null)throw Error(a(166));return se(r),null}if(e=pt.current,Yo(r))Sg(r);else{switch(f=Dc(wt.current),e){case 1:e=f.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:e=f.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":e=f.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":e=f.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":e=f.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?f.createElement(s,{is:l.is}):f.createElement(s)}}e[be]=r,e[ge]=l;t:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)e.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break t;for(;f.sibling===null;){if(f.return===null||f.return===r)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=e;t:switch(je(e,s,l),s){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&qi(r)}}return se(r),r.flags&=-16777217,null;case 6:if(e&&r.stateNode!=null)e.memoizedProps!==l&&qi(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(a(166));if(e=wt.current,Yo(r)){if(e=r.stateNode,s=r.memoizedProps,l=null,f=nn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}e[be]=r,e=!!(e.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||H_(e.nodeValue,s)),e||Oa(r)}else e=Dc(e).createTextNode(l),e[be]=r,r.stateNode=e}return se(r),null;case 13:if(l=r.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=Yo(r),l!==null&&l.dehydrated!==null){if(e===null){if(!f)throw Error(a(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[be]=r}else Xo(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;se(r),f=!1}else f=Ig(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(ji(r),r):(ji(r),null)}if(ji(r),(r.flags&128)!==0)return r.lanes=s,r;if(s=l!==null,e=e!==null&&e.memoizedState!==null,s){l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)}return s!==e&&s&&(r.child.flags|=8192),gc(r,r.updateQueue),se(r),null;case 4:return Xn(),e===null&&Ud(r.stateNode.containerInfo),se(r),null;case 10:return zi(r.type),se(r),null;case 19:if(ut(Re),f=r.memoizedState,f===null)return se(r),null;if(l=(r.flags&128)!==0,d=f.rendering,d===null)if(l)hl(f,!1);else{if(fe!==0||e!==null&&(e.flags&128)!==0)for(e=r.child;e!==null;){if(d=fc(e),d!==null){for(r.flags|=128,hl(f,!1),e=d.updateQueue,r.updateQueue=e,gc(r,e),r.subtreeFlags=0,e=s,s=r.child;s!==null;)wg(s,e),s=s.sibling;return at(Re,Re.current&1|2),r.child}e=e.sibling}f.tail!==null&&bn()>vc&&(r.flags|=128,l=!0,hl(f,!1),r.lanes=4194304)}else{if(!l)if(e=fc(d),e!==null){if(r.flags|=128,l=!0,e=e.updateQueue,r.updateQueue=e,gc(r,e),hl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!d.alternate&&!Ht)return se(r),null}else 2*bn()-f.renderingStartTime>vc&&s!==536870912&&(r.flags|=128,l=!0,hl(f,!1),r.lanes=4194304);f.isBackwards?(d.sibling=r.child,r.child=d):(e=f.last,e!==null?e.sibling=d:r.child=d,f.last=d)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=bn(),r.sibling=null,e=Re.current,at(Re,l?e&1|2:e&1),r):(se(r),null);case 22:case 23:return ji(r),Bh(),l=r.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(s&536870912)!==0&&(r.flags&128)===0&&(se(r),r.subtreeFlags&6&&(r.flags|=8192)):se(r),s=r.updateQueue,s!==null&&gc(r,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==s&&(r.flags|=2048),e!==null&&ut(Ma),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),r.memoizedState.cache!==s&&(r.flags|=2048),zi(Se),se(r),null;case 25:return null;case 30:return null}throw Error(a(156,r.tag))}function sA(e,r){switch(Rh(r),r.tag){case 1:return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 3:return zi(Se),Xn(),e=r.flags,(e&65536)!==0&&(e&128)===0?(r.flags=e&-65537|128,r):null;case 26:case 27:case 5:return bi(r),null;case 13:if(ji(r),e=r.memoizedState,e!==null&&e.dehydrated!==null){if(r.alternate===null)throw Error(a(340));Xo()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 19:return ut(Re),null;case 4:return Xn(),null;case 10:return zi(r.type),null;case 22:case 23:return ji(r),Bh(),e!==null&&ut(Ma),e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 24:return zi(Se),null;case 25:return null;default:return null}}function Xy(e,r){switch(Rh(r),r.tag){case 3:zi(Se),Xn();break;case 26:case 27:case 5:bi(r);break;case 4:Xn();break;case 13:ji(r);break;case 19:ut(Re);break;case 10:zi(r.type);break;case 22:case 23:ji(r),Bh(),e!==null&&ut(Ma);break;case 24:zi(Se)}}function dl(e,r){try{var s=r.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var f=l.next;s=f;do{if((s.tag&e)===e){l=void 0;var d=s.create,v=s.inst;l=d(),v.destroy=l}s=s.next}while(s!==f)}}catch(E){Zt(r,r.return,E)}}function Er(e,r,s){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&e)===e){var v=l.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,f=r;var I=s,j=E;try{j()}catch(W){Zt(f,I,W)}}}l=l.next}while(l!==d)}}catch(W){Zt(r,r.return,W)}}function Wy(e){var r=e.updateQueue;if(r!==null){var s=e.stateNode;try{Ug(r,s)}catch(l){Zt(e,e.return,l)}}}function Zy(e,r,s){s.props=Va(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(l){Zt(e,r,l)}}function ml(e,r){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof s=="function"?e.refCleanup=s(l):s.current=l}}catch(f){Zt(e,r,f)}}function ci(e,r){var s=e.ref,l=e.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(f){Zt(e,r,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(f){Zt(e,r,f)}else s.current=null}function Jy(e){var r=e.type,s=e.memoizedProps,l=e.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(f){Zt(e,e.return,f)}}function md(e,r,s){try{var l=e.stateNode;IA(l,e.type,s,r),l[ge]=r}catch(f){Zt(e,e.return,f)}}function t_(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Dr(e.type)||e.tag===4}function pd(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||t_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Dr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function gd(e,r,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,r?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,r):(r=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,r.appendChild(e),s=s._reactRootContainer,s!=null||r.onclick!==null||(r.onclick=Cc));else if(l!==4&&(l===27&&Dr(e.type)&&(s=e.stateNode,r=null),e=e.child,e!==null))for(gd(e,r,s),e=e.sibling;e!==null;)gd(e,r,s),e=e.sibling}function yc(e,r,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,r?s.insertBefore(e,r):s.appendChild(e);else if(l!==4&&(l===27&&Dr(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(yc(e,r,s),e=e.sibling;e!==null;)yc(e,r,s),e=e.sibling}function e_(e){var r=e.stateNode,s=e.memoizedProps;try{for(var l=e.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);je(r,l,s),r[be]=e,r[ge]=s}catch(d){Zt(e,e.return,d)}}var Fi=!1,me=!1,yd=!1,n_=typeof WeakSet=="function"?WeakSet:Set,ke=null;function oA(e,r){if(e=e.containerInfo,jd=Vc,e=dg(e),ph(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break t}var v=0,E=-1,I=-1,j=0,W=0,J=e,H=null;e:for(;;){for(var F;J!==s||f!==0&&J.nodeType!==3||(E=v+f),J!==d||l!==0&&J.nodeType!==3||(I=v+l),J.nodeType===3&&(v+=J.nodeValue.length),(F=J.firstChild)!==null;)H=J,J=F;for(;;){if(J===e)break e;if(H===s&&++j===f&&(E=v),H===d&&++W===l&&(I=v),(F=J.nextSibling)!==null)break;J=H,H=J.parentNode}J=F}s=E===-1||I===-1?null:{start:E,end:I}}else s=null}s=s||{start:0,end:0}}else s=null;for(Hd={focusedElem:e,selectionRange:s},Vc=!1,ke=r;ke!==null;)if(r=ke,e=r.child,(r.subtreeFlags&1024)!==0&&e!==null)e.return=r,ke=e;else for(;ke!==null;){switch(r=ke,d=r.alternate,e=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,s=r,f=d.memoizedProps,d=d.memoizedState,l=s.stateNode;try{var Et=Va(s.type,f,s.elementType===s.type);e=l.getSnapshotBeforeUpdate(Et,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(_t){Zt(s,s.return,_t)}}break;case 3:if((e&1024)!==0){if(e=r.stateNode.containerInfo,s=e.nodeType,s===9)Gd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Gd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=r.sibling,e!==null){e.return=r.return,ke=e;break}ke=r.return}}function i_(e,r,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:br(e,s),l&4&&dl(5,s);break;case 1:if(br(e,s),l&4)if(e=s.stateNode,r===null)try{e.componentDidMount()}catch(v){Zt(s,s.return,v)}else{var f=Va(s.type,r.memoizedProps);r=r.memoizedState;try{e.componentDidUpdate(f,r,e.__reactInternalSnapshotBeforeUpdate)}catch(v){Zt(s,s.return,v)}}l&64&&Wy(s),l&512&&ml(s,s.return);break;case 3:if(br(e,s),l&64&&(e=s.updateQueue,e!==null)){if(r=null,s.child!==null)switch(s.child.tag){case 27:case 5:r=s.child.stateNode;break;case 1:r=s.child.stateNode}try{Ug(e,r)}catch(v){Zt(s,s.return,v)}}break;case 27:r===null&&l&4&&e_(s);case 26:case 5:br(e,s),r===null&&l&4&&Jy(s),l&512&&ml(s,s.return);break;case 12:br(e,s);break;case 13:br(e,s),l&4&&s_(e,s),l&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=gA.bind(null,s),kA(e,s))));break;case 22:if(l=s.memoizedState!==null||Fi,!l){r=r!==null&&r.memoizedState!==null||me,f=Fi;var d=me;Fi=l,(me=r)&&!d?wr(e,s,(s.subtreeFlags&8772)!==0):br(e,s),Fi=f,me=d}break;case 30:break;default:br(e,s)}}function r_(e){var r=e.alternate;r!==null&&(e.alternate=null,r_(r)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(r=e.stateNode,r!==null&&cr(r)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var re=null,sn=!1;function Gi(e,r,s){for(s=s.child;s!==null;)a_(e,r,s),s=s.sibling}function a_(e,r,s){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(ue,s)}catch{}switch(s.tag){case 26:me||ci(s,r),Gi(e,r,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:me||ci(s,r);var l=re,f=sn;Dr(s.type)&&(re=s.stateNode,sn=!1),Gi(e,r,s),wl(s.stateNode),re=l,sn=f;break;case 5:me||ci(s,r);case 6:if(l=re,f=sn,re=null,Gi(e,r,s),re=l,sn=f,re!==null)if(sn)try{(re.nodeType===9?re.body:re.nodeName==="HTML"?re.ownerDocument.body:re).removeChild(s.stateNode)}catch(d){Zt(s,r,d)}else try{re.removeChild(s.stateNode)}catch(d){Zt(s,r,d)}break;case 18:re!==null&&(sn?(e=re,K_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Nl(e)):K_(re,s.stateNode));break;case 4:l=re,f=sn,re=s.stateNode.containerInfo,sn=!0,Gi(e,r,s),re=l,sn=f;break;case 0:case 11:case 14:case 15:me||Er(2,s,r),me||Er(4,s,r),Gi(e,r,s);break;case 1:me||(ci(s,r),l=s.stateNode,typeof l.componentWillUnmount=="function"&&Zy(s,r,l)),Gi(e,r,s);break;case 21:Gi(e,r,s);break;case 22:me=(l=me)||s.memoizedState!==null,Gi(e,r,s),me=l;break;default:Gi(e,r,s)}}function s_(e,r){if(r.memoizedState===null&&(e=r.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Nl(e)}catch(s){Zt(r,r.return,s)}}function lA(e){switch(e.tag){case 13:case 19:var r=e.stateNode;return r===null&&(r=e.stateNode=new n_),r;case 22:return e=e.stateNode,r=e._retryCache,r===null&&(r=e._retryCache=new n_),r;default:throw Error(a(435,e.tag))}}function _d(e,r){var s=lA(e);r.forEach(function(l){var f=yA.bind(null,e,l);s.has(l)||(s.add(l),l.then(f,f))})}function mn(e,r){var s=r.deletions;if(s!==null)for(var l=0;l<s.length;l++){var f=s[l],d=e,v=r,E=v;t:for(;E!==null;){switch(E.tag){case 27:if(Dr(E.type)){re=E.stateNode,sn=!1;break t}break;case 5:re=E.stateNode,sn=!1;break t;case 3:case 4:re=E.stateNode.containerInfo,sn=!0;break t}E=E.return}if(re===null)throw Error(a(160));a_(d,v,f),re=null,sn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)o_(r,e),r=r.sibling}var Hn=null;function o_(e,r){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:mn(r,e),pn(e),l&4&&(Er(3,e,e.return),dl(3,e),Er(5,e,e.return));break;case 1:mn(r,e),pn(e),l&512&&(me||s===null||ci(s,s.return)),l&64&&Fi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var f=Hn;if(mn(r,e),pn(e),l&512&&(me||s===null||ci(s,s.return)),l&4){var d=s!==null?s.memoizedState:null;if(l=e.memoizedState,s===null)if(l===null)if(e.stateNode===null){t:{l=e.type,s=e.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[ca]||d[be]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),je(d,l,s),d[be]=e,he(d),l=d;break t;case"link":var v=ev("link","href",f).get(l+(s.href||""));if(v){for(var E=0;E<v.length;E++)if(d=v[E],d.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){v.splice(E,1);break e}}d=f.createElement(l),je(d,l,s),f.head.appendChild(d);break;case"meta":if(v=ev("meta","content",f).get(l+(s.content||""))){for(E=0;E<v.length;E++)if(d=v[E],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){v.splice(E,1);break e}}d=f.createElement(l),je(d,l,s),f.head.appendChild(d);break;default:throw Error(a(468,l))}d[be]=e,he(d),l=d}e.stateNode=l}else nv(f,e.type,e.stateNode);else e.stateNode=tv(f,l,e.memoizedProps);else d!==l?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,l===null?nv(f,e.type,e.stateNode):tv(f,l,e.memoizedProps)):l===null&&e.stateNode!==null&&md(e,e.memoizedProps,s.memoizedProps)}break;case 27:mn(r,e),pn(e),l&512&&(me||s===null||ci(s,s.return)),s!==null&&l&4&&md(e,e.memoizedProps,s.memoizedProps);break;case 5:if(mn(r,e),pn(e),l&512&&(me||s===null||ci(s,s.return)),e.flags&32){f=e.stateNode;try{An(f,"")}catch(F){Zt(e,e.return,F)}}l&4&&e.stateNode!=null&&(f=e.memoizedProps,md(e,f,s!==null?s.memoizedProps:f)),l&1024&&(yd=!0);break;case 6:if(mn(r,e),pn(e),l&4){if(e.stateNode===null)throw Error(a(162));l=e.memoizedProps,s=e.stateNode;try{s.nodeValue=l}catch(F){Zt(e,e.return,F)}}break;case 3:if(xc=null,f=Hn,Hn=Oc(r.containerInfo),mn(r,e),Hn=f,pn(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Nl(r.containerInfo)}catch(F){Zt(e,e.return,F)}yd&&(yd=!1,l_(e));break;case 4:l=Hn,Hn=Oc(e.stateNode.containerInfo),mn(r,e),pn(e),Hn=l;break;case 12:mn(r,e),pn(e);break;case 13:mn(r,e),pn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Ad=bn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,_d(e,l)));break;case 22:f=e.memoizedState!==null;var I=s!==null&&s.memoizedState!==null,j=Fi,W=me;if(Fi=j||f,me=W||I,mn(r,e),me=W,Fi=j,pn(e),l&8192)t:for(r=e.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(s===null||I||Fi||me||Pa(e)),s=null,r=e;;){if(r.tag===5||r.tag===26){if(s===null){I=s=r;try{if(d=I.stateNode,f)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{E=I.stateNode;var J=I.memoizedProps.style,H=J!=null&&J.hasOwnProperty("display")?J.display:null;E.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(F){Zt(I,I.return,F)}}}else if(r.tag===6){if(s===null){I=r;try{I.stateNode.nodeValue=f?"":I.memoizedProps}catch(F){Zt(I,I.return,F)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===e)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break t;for(;r.sibling===null;){if(r.return===null||r.return===e)break t;s===r&&(s=null),r=r.return}s===r&&(s=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=e.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,_d(e,s))));break;case 19:mn(r,e),pn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,_d(e,l)));break;case 30:break;case 21:break;default:mn(r,e),pn(e)}}function pn(e){var r=e.flags;if(r&2){try{for(var s,l=e.return;l!==null;){if(t_(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var f=s.stateNode,d=pd(e);yc(e,d,f);break;case 5:var v=s.stateNode;s.flags&32&&(An(v,""),s.flags&=-33);var E=pd(e);yc(e,E,v);break;case 3:case 4:var I=s.stateNode.containerInfo,j=pd(e);gd(e,j,I);break;default:throw Error(a(161))}}catch(W){Zt(e,e.return,W)}e.flags&=-3}r&4096&&(e.flags&=-4097)}function l_(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var r=e;l_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),e=e.sibling}}function br(e,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)i_(e,r.alternate,r),r=r.sibling}function Pa(e){for(e=e.child;e!==null;){var r=e;switch(r.tag){case 0:case 11:case 14:case 15:Er(4,r,r.return),Pa(r);break;case 1:ci(r,r.return);var s=r.stateNode;typeof s.componentWillUnmount=="function"&&Zy(r,r.return,s),Pa(r);break;case 27:wl(r.stateNode);case 26:case 5:ci(r,r.return),Pa(r);break;case 22:r.memoizedState===null&&Pa(r);break;case 30:Pa(r);break;default:Pa(r)}e=e.sibling}}function wr(e,r,s){for(s=s&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=e,d=r,v=d.flags;switch(d.tag){case 0:case 11:case 15:wr(f,d,s),dl(4,d);break;case 1:if(wr(f,d,s),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(j){Zt(l,l.return,j)}if(l=d,f=l.updateQueue,f!==null){var E=l.stateNode;try{var I=f.shared.hiddenCallbacks;if(I!==null)for(f.shared.hiddenCallbacks=null,f=0;f<I.length;f++)Lg(I[f],E)}catch(j){Zt(l,l.return,j)}}s&&v&64&&Wy(d),ml(d,d.return);break;case 27:e_(d);case 26:case 5:wr(f,d,s),s&&l===null&&v&4&&Jy(d),ml(d,d.return);break;case 12:wr(f,d,s);break;case 13:wr(f,d,s),s&&v&4&&s_(f,d);break;case 22:d.memoizedState===null&&wr(f,d,s),ml(d,d.return);break;case 30:break;default:wr(f,d,s)}r=r.sibling}}function vd(e,r){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(e=r.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Jo(s))}function Td(e,r){e=null,r.alternate!==null&&(e=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==e&&(r.refCount++,e!=null&&Jo(e))}function fi(e,r,s,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)u_(e,r,s,l),r=r.sibling}function u_(e,r,s,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:fi(e,r,s,l),f&2048&&dl(9,r);break;case 1:fi(e,r,s,l);break;case 3:fi(e,r,s,l),f&2048&&(e=null,r.alternate!==null&&(e=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==e&&(r.refCount++,e!=null&&Jo(e)));break;case 12:if(f&2048){fi(e,r,s,l),e=r.stateNode;try{var d=r.memoizedProps,v=d.id,E=d.onPostCommit;typeof E=="function"&&E(v,r.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){Zt(r,r.return,I)}}else fi(e,r,s,l);break;case 13:fi(e,r,s,l);break;case 23:break;case 22:d=r.stateNode,v=r.alternate,r.memoizedState!==null?d._visibility&2?fi(e,r,s,l):pl(e,r):d._visibility&2?fi(e,r,s,l):(d._visibility|=2,Us(e,r,s,l,(r.subtreeFlags&10256)!==0)),f&2048&&vd(v,r);break;case 24:fi(e,r,s,l),f&2048&&Td(r.alternate,r);break;default:fi(e,r,s,l)}}function Us(e,r,s,l,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=e,v=r,E=s,I=l,j=v.flags;switch(v.tag){case 0:case 11:case 15:Us(d,v,E,I,f),dl(8,v);break;case 23:break;case 22:var W=v.stateNode;v.memoizedState!==null?W._visibility&2?Us(d,v,E,I,f):pl(d,v):(W._visibility|=2,Us(d,v,E,I,f)),f&&j&2048&&vd(v.alternate,v);break;case 24:Us(d,v,E,I,f),f&&j&2048&&Td(v.alternate,v);break;default:Us(d,v,E,I,f)}r=r.sibling}}function pl(e,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var s=e,l=r,f=l.flags;switch(l.tag){case 22:pl(s,l),f&2048&&vd(l.alternate,l);break;case 24:pl(s,l),f&2048&&Td(l.alternate,l);break;default:pl(s,l)}r=r.sibling}}var gl=8192;function zs(e){if(e.subtreeFlags&gl)for(e=e.child;e!==null;)c_(e),e=e.sibling}function c_(e){switch(e.tag){case 26:zs(e),e.flags&gl&&e.memoizedState!==null&&KA(Hn,e.memoizedState,e.memoizedProps);break;case 5:zs(e);break;case 3:case 4:var r=Hn;Hn=Oc(e.stateNode.containerInfo),zs(e),Hn=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=gl,gl=16777216,zs(e),gl=r):zs(e));break;default:zs(e)}}function f_(e){var r=e.alternate;if(r!==null&&(e=r.child,e!==null)){r.child=null;do r=e.sibling,e.sibling=null,e=r;while(e!==null)}}function yl(e){var r=e.deletions;if((e.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var l=r[s];ke=l,d_(l,e)}f_(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)h_(e),e=e.sibling}function h_(e){switch(e.tag){case 0:case 11:case 15:yl(e),e.flags&2048&&Er(9,e,e.return);break;case 3:yl(e);break;case 12:yl(e);break;case 22:var r=e.stateNode;e.memoizedState!==null&&r._visibility&2&&(e.return===null||e.return.tag!==13)?(r._visibility&=-3,_c(e)):yl(e);break;default:yl(e)}}function _c(e){var r=e.deletions;if((e.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var l=r[s];ke=l,d_(l,e)}f_(e)}for(e=e.child;e!==null;){switch(r=e,r.tag){case 0:case 11:case 15:Er(8,r,r.return),_c(r);break;case 22:s=r.stateNode,s._visibility&2&&(s._visibility&=-3,_c(r));break;default:_c(r)}e=e.sibling}}function d_(e,r){for(;ke!==null;){var s=ke;switch(s.tag){case 0:case 11:case 15:Er(8,s,r);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Jo(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,ke=l;else t:for(s=e;ke!==null;){l=ke;var f=l.sibling,d=l.return;if(r_(l),l===s){ke=null;break t}if(f!==null){f.return=d,ke=f;break t}ke=d}}}var uA={getCacheForType:function(e){var r=$e(Se),s=r.data.get(e);return s===void 0&&(s=e(),r.data.set(e,s)),s}},cA=typeof WeakMap=="function"?WeakMap:Map,$t=0,te=null,Nt=null,Lt=0,Kt=0,gn=null,Ar=!1,Bs=!1,Ed=!1,$i=0,fe=0,Sr=0,La=0,bd=0,Mn=0,js=0,_l=null,on=null,wd=!1,Ad=0,vc=1/0,Tc=null,Rr=null,Be=0,Ir=null,Hs=null,qs=0,Sd=0,Rd=null,m_=null,vl=0,Id=null;function yn(){if(($t&2)!==0&&Lt!==0)return Lt&-Lt;if(X.T!==null){var e=Os;return e!==0?e:kd()}return lr()}function p_(){Mn===0&&(Mn=(Lt&536870912)===0||Ht?Co():536870912);var e=xn.current;return e!==null&&(e.flags|=32),Mn}function _n(e,r,s){(e===te&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)&&(Fs(e,0),Cr(e,Lt,Mn,!1)),Ai(e,s),(($t&2)===0||e!==te)&&(e===te&&(($t&2)===0&&(La|=s),fe===4&&Cr(e,Lt,Mn,!1)),hi(e))}function g_(e,r,s){if(($t&6)!==0)throw Error(a(327));var l=!s&&(r&124)===0&&(r&e.expiredLanes)===0||ua(e,r),f=l?dA(e,r):Od(e,r,!0),d=l;do{if(f===0){Bs&&!l&&Cr(e,r,0,!1);break}else{if(s=e.current.alternate,d&&!fA(s)){f=Od(e,r,!1),d=!1;continue}if(f===2){if(d=r,e.errorRecoveryDisabledLanes&d)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;t:{var E=e;f=_l;var I=E.current.memoizedState.isDehydrated;if(I&&(Fs(E,v).flags|=256),v=Od(E,v,!1),v!==2){if(Ed&&!I){E.errorRecoveryDisabledLanes|=d,La|=d,f=4;break t}d=on,on=f,d!==null&&(on===null?on=d:on.push.apply(on,d))}f=v}if(d=!1,f!==2)continue}}if(f===1){Fs(e,0),Cr(e,r,0,!0);break}t:{switch(l=e,d=f,d){case 0:case 1:throw Error(a(345));case 4:if((r&4194048)!==r)break;case 6:Cr(l,r,Mn,!Ar);break t;case 2:on=null;break;case 3:case 5:break;default:throw Error(a(329))}if((r&62914560)===r&&(f=Ad+300-bn(),10<f)){if(Cr(l,r,Mn,!Ar),os(l,0,!0)!==0)break t;l.timeoutHandle=G_(y_.bind(null,l,s,on,Tc,wd,r,Mn,La,js,Ar,d,2,-0,0),f);break t}y_(l,s,on,Tc,wd,r,Mn,La,js,Ar,d,0,-0,0)}}break}while(!0);hi(e)}function y_(e,r,s,l,f,d,v,E,I,j,W,J,H,F){if(e.timeoutHandle=-1,J=r.subtreeFlags,(J&8192||(J&16785408)===16785408)&&(Rl={stylesheets:null,count:0,unsuspend:$A},c_(r),J=QA(),J!==null)){e.cancelPendingCommit=J(A_.bind(null,e,r,d,s,l,f,v,E,I,W,1,H,F)),Cr(e,d,v,!j);return}A_(e,r,d,s,l,f,v,E,I)}function fA(e){for(var r=e;;){var s=r.tag;if((s===0||s===11||s===15)&&r.flags&16384&&(s=r.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var f=s[l],d=f.getSnapshot;f=f.value;try{if(!hn(d(),f))return!1}catch{return!1}}if(s=r.child,r.subtreeFlags&16384&&s!==null)s.return=r,r=s;else{if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Cr(e,r,s,l){r&=~bd,r&=~La,e.suspendedLanes|=r,e.pingedLanes&=~r,l&&(e.warmLanes|=r),l=e.expirationTimes;for(var f=r;0<f;){var d=31-Ge(f),v=1<<d;l[d]=-1,f&=~v}s!==0&&Wn(e,s,r)}function Ec(){return($t&6)===0?(Tl(0),!1):!0}function Cd(){if(Nt!==null){if(Kt===0)var e=Nt.return;else e=Nt,Ui=Na=null,Gh(e),Ps=null,cl=0,e=Nt;for(;e!==null;)Xy(e.alternate,e),e=e.return;Nt=null}}function Fs(e,r){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,DA(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Cd(),te=e,Nt=s=Vi(e.current,null),Lt=r,Kt=0,gn=null,Ar=!1,Bs=ua(e,r),Ed=!1,js=Mn=bd=La=Sr=fe=0,on=_l=null,wd=!1,(r&8)!==0&&(r|=r&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=r;0<l;){var f=31-Ge(l),d=1<<f;r|=e[f],l&=~d}return $i=r,qu(),s}function __(e,r){It=null,X.H=lc,r===el||r===Zu?(r=Vg(),Kt=3):r===xg?(r=Vg(),Kt=4):Kt=r===Py?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,gn=r,Nt===null&&(fe=1,dc(e,Cn(r,e.current)))}function v_(){var e=X.H;return X.H=lc,e===null?lc:e}function T_(){var e=X.A;return X.A=uA,e}function Dd(){fe=4,Ar||(Lt&4194048)!==Lt&&xn.current!==null||(Bs=!0),(Sr&134217727)===0&&(La&134217727)===0||te===null||Cr(te,Lt,Mn,!1)}function Od(e,r,s){var l=$t;$t|=2;var f=v_(),d=T_();(te!==e||Lt!==r)&&(Tc=null,Fs(e,r)),r=!1;var v=fe;t:do try{if(Kt!==0&&Nt!==null){var E=Nt,I=gn;switch(Kt){case 8:Cd(),v=6;break t;case 3:case 2:case 9:case 6:xn.current===null&&(r=!0);var j=Kt;if(Kt=0,gn=null,Gs(e,E,I,j),s&&Bs){v=0;break t}break;default:j=Kt,Kt=0,gn=null,Gs(e,E,I,j)}}hA(),v=fe;break}catch(W){__(e,W)}while(!0);return r&&e.shellSuspendCounter++,Ui=Na=null,$t=l,X.H=f,X.A=d,Nt===null&&(te=null,Lt=0,qu()),v}function hA(){for(;Nt!==null;)E_(Nt)}function dA(e,r){var s=$t;$t|=2;var l=v_(),f=T_();te!==e||Lt!==r?(Tc=null,vc=bn()+500,Fs(e,r)):Bs=ua(e,r);t:do try{if(Kt!==0&&Nt!==null){r=Nt;var d=gn;e:switch(Kt){case 1:Kt=0,gn=null,Gs(e,r,d,1);break;case 2:case 9:if(Mg(d)){Kt=0,gn=null,b_(r);break}r=function(){Kt!==2&&Kt!==9||te!==e||(Kt=7),hi(e)},d.then(r,r);break t;case 3:Kt=7;break t;case 4:Kt=5;break t;case 7:Mg(d)?(Kt=0,gn=null,b_(r)):(Kt=0,gn=null,Gs(e,r,d,7));break;case 5:var v=null;switch(Nt.tag){case 26:v=Nt.memoizedState;case 5:case 27:var E=Nt;if(!v||iv(v)){Kt=0,gn=null;var I=E.sibling;if(I!==null)Nt=I;else{var j=E.return;j!==null?(Nt=j,bc(j)):Nt=null}break e}}Kt=0,gn=null,Gs(e,r,d,5);break;case 6:Kt=0,gn=null,Gs(e,r,d,6);break;case 8:Cd(),fe=6;break t;default:throw Error(a(462))}}mA();break}catch(W){__(e,W)}while(!0);return Ui=Na=null,X.H=l,X.A=f,$t=s,Nt!==null?0:(te=null,Lt=0,qu(),fe)}function mA(){for(;Nt!==null&&!Ao();)E_(Nt)}function E_(e){var r=Qy(e.alternate,e,$i);e.memoizedProps=e.pendingProps,r===null?bc(e):Nt=r}function b_(e){var r=e,s=r.alternate;switch(r.tag){case 15:case 0:r=Hy(s,r,r.pendingProps,r.type,void 0,Lt);break;case 11:r=Hy(s,r,r.pendingProps,r.type.render,r.ref,Lt);break;case 5:Gh(r);default:Xy(s,r),r=Nt=wg(r,$i),r=Qy(s,r,$i)}e.memoizedProps=e.pendingProps,r===null?bc(e):Nt=r}function Gs(e,r,s,l){Ui=Na=null,Gh(r),Ps=null,cl=0;var f=r.return;try{if(iA(e,f,r,s,Lt)){fe=1,dc(e,Cn(s,e.current)),Nt=null;return}}catch(d){if(f!==null)throw Nt=f,d;fe=1,dc(e,Cn(s,e.current)),Nt=null;return}r.flags&32768?(Ht||l===1?e=!0:Bs||(Lt&536870912)!==0?e=!1:(Ar=e=!0,(l===2||l===9||l===3||l===6)&&(l=xn.current,l!==null&&l.tag===13&&(l.flags|=16384))),w_(r,e)):bc(r)}function bc(e){var r=e;do{if((r.flags&32768)!==0){w_(r,Ar);return}e=r.return;var s=aA(r.alternate,r,$i);if(s!==null){Nt=s;return}if(r=r.sibling,r!==null){Nt=r;return}Nt=r=e}while(r!==null);fe===0&&(fe=5)}function w_(e,r){do{var s=sA(e.alternate,e);if(s!==null){s.flags&=32767,Nt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!r&&(e=e.sibling,e!==null)){Nt=e;return}Nt=e=s}while(e!==null);fe=6,Nt=null}function A_(e,r,s,l,f,d,v,E,I){e.cancelPendingCommit=null;do wc();while(Be!==0);if(($t&6)!==0)throw Error(a(327));if(r!==null){if(r===e.current)throw Error(a(177));if(d=r.lanes|r.childLanes,d|=Th,Oo(e,s,d,v,E,I),e===te&&(Nt=te=null,Lt=0),Hs=r,Ir=e,qs=s,Sd=d,Rd=f,m_=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,_A(aa,function(){return D_(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,f=ot.p,ot.p=2,v=$t,$t|=4;try{oA(e,r,s)}finally{$t=v,ot.p=f,X.T=l}}Be=1,S_(),R_(),I_()}}function S_(){if(Be===1){Be=0;var e=Ir,r=Hs,s=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||s){s=X.T,X.T=null;var l=ot.p;ot.p=2;var f=$t;$t|=4;try{o_(r,e);var d=Hd,v=dg(e.containerInfo),E=d.focusedElem,I=d.selectionRange;if(v!==E&&E&&E.ownerDocument&&hg(E.ownerDocument.documentElement,E)){if(I!==null&&ph(E)){var j=I.start,W=I.end;if(W===void 0&&(W=j),"selectionStart"in E)E.selectionStart=j,E.selectionEnd=Math.min(W,E.value.length);else{var J=E.ownerDocument||document,H=J&&J.defaultView||window;if(H.getSelection){var F=H.getSelection(),Et=E.textContent.length,_t=Math.min(I.start,Et),Wt=I.end===void 0?_t:Math.min(I.end,Et);!F.extend&&_t>Wt&&(v=Wt,Wt=_t,_t=v);var L=fg(E,_t),x=fg(E,Wt);if(L&&x&&(F.rangeCount!==1||F.anchorNode!==L.node||F.anchorOffset!==L.offset||F.focusNode!==x.node||F.focusOffset!==x.offset)){var B=J.createRange();B.setStart(L.node,L.offset),F.removeAllRanges(),_t>Wt?(F.addRange(B),F.extend(x.node,x.offset)):(B.setEnd(x.node,x.offset),F.addRange(B))}}}}for(J=[],F=E;F=F.parentNode;)F.nodeType===1&&J.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<J.length;E++){var Z=J[E];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Vc=!!jd,Hd=jd=null}finally{$t=f,ot.p=l,X.T=s}}e.current=r,Be=2}}function R_(){if(Be===2){Be=0;var e=Ir,r=Hs,s=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||s){s=X.T,X.T=null;var l=ot.p;ot.p=2;var f=$t;$t|=4;try{i_(e,r.alternate,r)}finally{$t=f,ot.p=l,X.T=s}}Be=3}}function I_(){if(Be===4||Be===3){Be=0,_u();var e=Ir,r=Hs,s=qs,l=m_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Be=5:(Be=0,Hs=Ir=null,C_(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(Rr=null),ls(s),r=r.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(ue,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=X.T,f=ot.p,ot.p=2,X.T=null;try{for(var d=e.onRecoverableError,v=0;v<l.length;v++){var E=l[v];d(E.value,{componentStack:E.stack})}}finally{X.T=r,ot.p=f}}(qs&3)!==0&&wc(),hi(e),f=e.pendingLanes,(s&4194090)!==0&&(f&42)!==0?e===Id?vl++:(vl=0,Id=e):vl=0,Tl(0)}}function C_(e,r){(e.pooledCacheLanes&=r)===0&&(r=e.pooledCache,r!=null&&(e.pooledCache=null,Jo(r)))}function wc(e){return S_(),R_(),I_(),D_()}function D_(){if(Be!==5)return!1;var e=Ir,r=Sd;Sd=0;var s=ls(qs),l=X.T,f=ot.p;try{ot.p=32>s?32:s,X.T=null,s=Rd,Rd=null;var d=Ir,v=qs;if(Be=0,Hs=Ir=null,qs=0,($t&6)!==0)throw Error(a(331));var E=$t;if($t|=4,h_(d.current),u_(d,d.current,v,s),$t=E,Tl(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(ue,d)}catch{}return!0}finally{ot.p=f,X.T=l,C_(e,r)}}function O_(e,r,s){r=Cn(s,r),r=ad(e.stateNode,r,2),e=yr(e,r,2),e!==null&&(Ai(e,2),hi(e))}function Zt(e,r,s){if(e.tag===3)O_(e,e,s);else for(;r!==null;){if(r.tag===3){O_(r,e,s);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Rr===null||!Rr.has(l))){e=Cn(s,e),s=ky(2),l=yr(r,s,2),l!==null&&(Vy(s,l,r,e),Ai(l,2),hi(l));break}}r=r.return}}function Nd(e,r,s){var l=e.pingCache;if(l===null){l=e.pingCache=new cA;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(s)||(Ed=!0,f.add(s),e=pA.bind(null,e,r,s),r.then(e,e))}function pA(e,r,s){var l=e.pingCache;l!==null&&l.delete(r),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,te===e&&(Lt&s)===s&&(fe===4||fe===3&&(Lt&62914560)===Lt&&300>bn()-Ad?($t&2)===0&&Fs(e,0):bd|=s,js===Lt&&(js=0)),hi(e)}function N_(e,r){r===0&&(r=Do()),e=Rs(e,r),e!==null&&(Ai(e,r),hi(e))}function gA(e){var r=e.memoizedState,s=0;r!==null&&(s=r.retryLane),N_(e,s)}function yA(e,r){var s=0;switch(e.tag){case 13:var l=e.stateNode,f=e.memoizedState;f!==null&&(s=f.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(r),N_(e,s)}function _A(e,r){return ia(e,r)}var Ac=null,$s=null,xd=!1,Sc=!1,Md=!1,Ua=0;function hi(e){e!==$s&&e.next===null&&($s===null?Ac=$s=e:$s=$s.next=e),Sc=!0,xd||(xd=!0,TA())}function Tl(e,r){if(!Md&&Sc){Md=!0;do for(var s=!1,l=Ac;l!==null;){if(e!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var v=l.suspendedLanes,E=l.pingedLanes;d=(1<<31-Ge(42|e)+1)-1,d&=f&~(v&~E),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(s=!0,V_(l,d))}else d=Lt,d=os(l,l===te?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||ua(l,d)||(s=!0,V_(l,d));l=l.next}while(s);Md=!1}}function vA(){x_()}function x_(){Sc=xd=!1;var e=0;Ua!==0&&(CA()&&(e=Ua),Ua=0);for(var r=bn(),s=null,l=Ac;l!==null;){var f=l.next,d=M_(l,r);d===0?(l.next=null,s===null?Ac=f:s.next=f,f===null&&($s=s)):(s=l,(e!==0||(d&3)!==0)&&(Sc=!0)),l=f}Tl(e)}function M_(e,r){for(var s=e.suspendedLanes,l=e.pingedLanes,f=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var v=31-Ge(d),E=1<<v,I=f[v];I===-1?((E&s)===0||(E&l)!==0)&&(f[v]=Io(E,r)):I<=r&&(e.expiredLanes|=E),d&=~E}if(r=te,s=Lt,s=os(e,e===r?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,s===0||e===r&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&ra(l),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||ua(e,s)){if(r=s&-s,r===e.callbackPriority)return r;switch(l!==null&&ra(l),ls(s)){case 2:case 8:s=as;break;case 32:s=aa;break;case 268435456:s=ss;break;default:s=aa}return l=k_.bind(null,e),s=ia(s,l),e.callbackPriority=r,e.callbackNode=s,r}return l!==null&&l!==null&&ra(l),e.callbackPriority=2,e.callbackNode=null,2}function k_(e,r){if(Be!==0&&Be!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(wc()&&e.callbackNode!==s)return null;var l=Lt;return l=os(e,e===te?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(g_(e,l,r),M_(e,bn()),e.callbackNode!=null&&e.callbackNode===s?k_.bind(null,e):null)}function V_(e,r){if(wc())return null;g_(e,r,!0)}function TA(){OA(function(){($t&6)!==0?ia(So,vA):x_()})}function kd(){return Ua===0&&(Ua=Co()),Ua}function P_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ms(""+e)}function L_(e,r){var s=r.ownerDocument.createElement("input");return s.name=r.name,s.value=r.value,e.id&&s.setAttribute("form",e.id),r.parentNode.insertBefore(s,r),e=new FormData(e),s.parentNode.removeChild(s),e}function EA(e,r,s,l,f){if(r==="submit"&&s&&s.stateNode===f){var d=P_((f[ge]||null).action),v=l.submitter;v&&(r=(r=v[ge]||null)?P_(r.formAction):v.getAttribute("formAction"),r!==null&&(d=r,v=null));var E=new ps("action","action",null,l,f);e.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ua!==0){var I=v?L_(f,v):new FormData(f);td(s,{pending:!0,data:I,method:f.method,action:d},null,I)}}else typeof d=="function"&&(E.preventDefault(),I=v?L_(f,v):new FormData(f),td(s,{pending:!0,data:I,method:f.method,action:d},d,I))},currentTarget:f}]})}}for(var Vd=0;Vd<vh.length;Vd++){var Pd=vh[Vd],bA=Pd.toLowerCase(),wA=Pd[0].toUpperCase()+Pd.slice(1);jn(bA,"on"+wA)}jn(gg,"onAnimationEnd"),jn(yg,"onAnimationIteration"),jn(_g,"onAnimationStart"),jn("dblclick","onDoubleClick"),jn("focusin","onFocus"),jn("focusout","onBlur"),jn(Bw,"onTransitionRun"),jn(jw,"onTransitionStart"),jn(Hw,"onTransitionCancel"),jn(vg,"onTransitionEnd"),Ri("onMouseEnter",["mouseout","mouseover"]),Ri("onMouseLeave",["mouseout","mouseover"]),Ri("onPointerEnter",["pointerout","pointerover"]),Ri("onPointerLeave",["pointerout","pointerover"]),zn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),zn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),zn("onBeforeInput",["compositionend","keypress","textInput","paste"]),zn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),zn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),zn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var El="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(El));function U_(e,r){r=(r&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],f=l.event;l=l.listeners;t:{var d=void 0;if(r)for(var v=l.length-1;0<=v;v--){var E=l[v],I=E.instance,j=E.currentTarget;if(E=E.listener,I!==d&&f.isPropagationStopped())break t;d=E,f.currentTarget=j;try{d(f)}catch(W){hc(W)}f.currentTarget=null,d=I}else for(v=0;v<l.length;v++){if(E=l[v],I=E.instance,j=E.currentTarget,E=E.listener,I!==d&&f.isPropagationStopped())break t;d=E,f.currentTarget=j;try{d(f)}catch(W){hc(W)}f.currentTarget=null,d=I}}}}function xt(e,r){var s=r[xo];s===void 0&&(s=r[xo]=new Set);var l=e+"__bubble";s.has(l)||(z_(r,e,2,!1),s.add(l))}function Ld(e,r,s){var l=0;r&&(l|=4),z_(s,e,l,r)}var Rc="_reactListening"+Math.random().toString(36).slice(2);function Ud(e){if(!e[Rc]){e[Rc]=!0,Mo.forEach(function(s){s!=="selectionchange"&&(AA.has(s)||Ld(s,!1,e),Ld(s,!0,e))});var r=e.nodeType===9?e:e.ownerDocument;r===null||r[Rc]||(r[Rc]=!0,Ld("selectionchange",!1,r))}}function z_(e,r,s,l){switch(uv(r)){case 2:var f=WA;break;case 8:f=ZA;break;default:f=Zd}s=f.bind(null,r,s,e),f=void 0,!Rn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?e.addEventListener(r,s,{capture:!0,passive:f}):e.addEventListener(r,s,!0):f!==void 0?e.addEventListener(r,s,{passive:f}):e.addEventListener(r,s,!1)}function zd(e,r,s,l,f){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var E=l.stateNode.containerInfo;if(E===f)break;if(v===4)for(v=l.return;v!==null;){var I=v.tag;if((I===3||I===4)&&v.stateNode.containerInfo===f)return;v=v.return}for(;E!==null;){if(v=Si(E),v===null)return;if(I=v.tag,I===5||I===6||I===26||I===27){l=d=v;continue t}E=E.parentNode}}l=l.return}Cu(function(){var j=d,W=Sn(s),J=[];t:{var H=Tg.get(e);if(H!==void 0){var F=ps,Et=e;switch(e){case"keypress":if(ii(s)===0)break t;case"keydown":case"keyup":F=Es;break;case"focusin":Et="focus",F=_s;break;case"focusout":Et="blur",F=_s;break;case"beforeblur":case"afterblur":F=_s;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=In;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=fh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=Pu;break;case gg:case yg:case _g:F=vs;break;case vg:F=Uu;break;case"scroll":case"scrollend":F=Du;break;case"wheel":F=bs;break;case"copy":case"cut":case"paste":F=Ts;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Go;break;case"toggle":case"beforetoggle":F=Bu}var _t=(r&4)!==0,Wt=!_t&&(e==="scroll"||e==="scrollend"),L=_t?H!==null?H+"Capture":null:H;_t=[];for(var x=j,B;x!==null;){var Z=x;if(B=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||B===null||L===null||(Z=ya(x,L),Z!=null&&_t.push(bl(x,Z,B))),Wt)break;x=x.return}0<_t.length&&(H=new F(H,Et,null,s,W),J.push({event:H,listeners:_t}))}}if((r&7)===0){t:{if(H=e==="mouseover"||e==="pointerover",F=e==="mouseout"||e==="pointerout",H&&s!==Di&&(Et=s.relatedTarget||s.fromElement)&&(Si(Et)||Et[wn]))break t;if((F||H)&&(H=W.window===W?W:(H=W.ownerDocument)?H.defaultView||H.parentWindow:window,F?(Et=s.relatedTarget||s.toElement,F=j,Et=Et?Si(Et):null,Et!==null&&(Wt=u(Et),_t=Et.tag,Et!==Wt||_t!==5&&_t!==27&&_t!==6)&&(Et=null)):(F=null,Et=j),F!==Et)){if(_t=In,Z="onMouseLeave",L="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(_t=Go,Z="onPointerLeave",L="onPointerEnter",x="pointer"),Wt=F==null?H:Jn(F),B=Et==null?H:Jn(Et),H=new _t(Z,x+"leave",F,s,W),H.target=Wt,H.relatedTarget=B,Z=null,Si(W)===j&&(_t=new _t(L,x+"enter",Et,s,W),_t.target=B,_t.relatedTarget=Wt,Z=_t),Wt=Z,F&&Et)e:{for(_t=F,L=Et,x=0,B=_t;B;B=Ks(B))x++;for(B=0,Z=L;Z;Z=Ks(Z))B++;for(;0<x-B;)_t=Ks(_t),x--;for(;0<B-x;)L=Ks(L),B--;for(;x--;){if(_t===L||L!==null&&_t===L.alternate)break e;_t=Ks(_t),L=Ks(L)}_t=null}else _t=null;F!==null&&B_(J,H,F,_t,!1),Et!==null&&Wt!==null&&B_(J,Wt,Et,_t,!0)}}t:{if(H=j?Jn(j):window,F=H.nodeName&&H.nodeName.toLowerCase(),F==="select"||F==="input"&&H.type==="file")var ft=ag;else if(Ae(H))if(sg)ft=Lw;else{ft=Vw;var Ot=kw}else F=H.nodeName,!F||F.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?j&&Uo(j.elementType)&&(ft=ag):ft=Pw;if(ft&&(ft=ft(e,j))){ki(J,ft,s,W);break t}Ot&&Ot(e,H,j),e==="focusout"&&j&&H.type==="number"&&j.memoizedProps.value!=null&&hr(H,"number",H.value)}switch(Ot=j?Jn(j):window,e){case"focusin":(Ae(Ot)||Ot.contentEditable==="true")&&(ws=Ot,gh=j,Qo=null);break;case"focusout":Qo=gh=ws=null;break;case"mousedown":yh=!0;break;case"contextmenu":case"mouseup":case"dragend":yh=!1,mg(J,s,W);break;case"selectionchange":if(zw)break;case"keydown":case"keyup":mg(J,s,W)}var mt;if(si)t:{switch(e){case"compositionstart":var vt="onCompositionStart";break t;case"compositionend":vt="onCompositionEnd";break t;case"compositionupdate":vt="onCompositionUpdate";break t}vt=void 0}else Vt?Q(e,s)&&(vt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(vt="onCompositionStart");vt&&(_&&s.locale!=="ko"&&(Vt||vt!=="onCompositionStart"?vt==="onCompositionEnd"&&Vt&&(mt=Bo()):(ni=W,dr="value"in ni?ni.value:ni.textContent,Vt=!0)),Ot=Ic(j,vt),0<Ot.length&&(vt=new qo(vt,e,null,s,W),J.push({event:vt,listeners:Ot}),mt?vt.data=mt:(mt=st(s),mt!==null&&(vt.data=mt)))),(mt=y?we(e,s):Pt(e,s))&&(vt=Ic(j,"onBeforeInput"),0<vt.length&&(Ot=new qo("onBeforeInput","beforeinput",null,s,W),J.push({event:Ot,listeners:vt}),Ot.data=mt)),EA(J,e,j,s,W)}U_(J,r)})}function bl(e,r,s){return{instance:e,listener:r,currentTarget:s}}function Ic(e,r){for(var s=r+"Capture",l=[];e!==null;){var f=e,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=ya(e,s),f!=null&&l.unshift(bl(e,f,d)),f=ya(e,r),f!=null&&l.push(bl(e,f,d))),e.tag===3)return l;e=e.return}return[]}function Ks(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function B_(e,r,s,l,f){for(var d=r._reactName,v=[];s!==null&&s!==l;){var E=s,I=E.alternate,j=E.stateNode;if(E=E.tag,I!==null&&I===l)break;E!==5&&E!==26&&E!==27||j===null||(I=j,f?(j=ya(s,d),j!=null&&v.unshift(bl(s,j,I))):f||(j=ya(s,d),j!=null&&v.push(bl(s,j,I)))),s=s.return}v.length!==0&&e.push({event:r,listeners:v})}var SA=/\r\n?/g,RA=/\u0000|\uFFFD/g;function j_(e){return(typeof e=="string"?e:""+e).replace(SA,`
`).replace(RA,"")}function H_(e,r){return r=j_(r),j_(e)===r}function Cc(){}function Xt(e,r,s,l,f,d){switch(s){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||An(e,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&An(e,""+l);break;case"className":ti(e,"class",l);break;case"tabIndex":ti(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ti(e,s,l);break;case"style":Lo(e,l,d);break;case"data":if(r!=="object"){ti(e,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||s!=="href")){e.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=ms(""+l),e.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(r!=="input"&&Xt(e,r,"name",f.name,f,null),Xt(e,r,"formEncType",f.formEncType,f,null),Xt(e,r,"formMethod",f.formMethod,f,null),Xt(e,r,"formTarget",f.formTarget,f,null)):(Xt(e,r,"encType",f.encType,f,null),Xt(e,r,"method",f.method,f,null),Xt(e,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=ms(""+l),e.setAttribute(s,l);break;case"onClick":l!=null&&(e.onclick=Cc);break;case"onScroll":l!=null&&xt("scroll",e);break;case"onScrollEnd":l!=null&&xt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(f.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}s=ms(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""+l):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":l===!0?e.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,l):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(s,l):e.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(s):e.setAttribute(s,l);break;case"popover":xt("beforetoggle",e),xt("toggle",e),fr(e,"popover",l);break;case"xlinkActuate":Le(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Le(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Le(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Le(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Le(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Le(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Le(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Le(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Le(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":fr(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=uh.get(s)||s,fr(e,s,l))}}function Bd(e,r,s,l,f,d){switch(s){case"style":Lo(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(f.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof l=="string"?An(e,l):(typeof l=="number"||typeof l=="bigint")&&An(e,""+l);break;case"onScroll":l!=null&&xt("scroll",e);break;case"onScrollEnd":l!=null&&xt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Cc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!us.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(f=s.endsWith("Capture"),r=s.slice(2,f?s.length-7:void 0),d=e[ge]||null,d=d!=null?d[s]:null,typeof d=="function"&&e.removeEventListener(r,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(r,l,f);break t}s in e?e[s]=l:l===!0?e.setAttribute(s,""):fr(e,s,l)}}}function je(e,r,s){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xt("error",e),xt("load",e);var l=!1,f=!1,d;for(d in s)if(s.hasOwnProperty(d)){var v=s[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:Xt(e,r,d,v,s,null)}}f&&Xt(e,r,"srcSet",s.srcSet,s,null),l&&Xt(e,r,"src",s.src,s,null);return;case"input":xt("invalid",e);var E=d=v=f=null,I=null,j=null;for(l in s)if(s.hasOwnProperty(l)){var W=s[l];if(W!=null)switch(l){case"name":f=W;break;case"type":v=W;break;case"checked":I=W;break;case"defaultChecked":j=W;break;case"value":d=W;break;case"defaultValue":E=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(a(137,r));break;default:Xt(e,r,l,W,s,null)}}ma(e,d,E,I,j,v,f,!1),ds(e);return;case"select":xt("invalid",e),l=v=d=null;for(f in s)if(s.hasOwnProperty(f)&&(E=s[f],E!=null))switch(f){case"value":d=E;break;case"defaultValue":v=E;break;case"multiple":l=E;default:Xt(e,r,f,E,s,null)}r=d,s=v,e.multiple=!!l,r!=null?Ci(e,!!l,r,!1):s!=null&&Ci(e,!!l,s,!0);return;case"textarea":xt("invalid",e),d=f=l=null;for(v in s)if(s.hasOwnProperty(v)&&(E=s[v],E!=null))switch(v){case"value":l=E;break;case"defaultValue":f=E;break;case"children":d=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Xt(e,r,v,E,s,null)}pa(e,l,f,d),ds(e);return;case"option":for(I in s)if(s.hasOwnProperty(I)&&(l=s[I],l!=null))switch(I){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Xt(e,r,I,l,s,null)}return;case"dialog":xt("beforetoggle",e),xt("toggle",e),xt("cancel",e),xt("close",e);break;case"iframe":case"object":xt("load",e);break;case"video":case"audio":for(l=0;l<El.length;l++)xt(El[l],e);break;case"image":xt("error",e),xt("load",e);break;case"details":xt("toggle",e);break;case"embed":case"source":case"link":xt("error",e),xt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in s)if(s.hasOwnProperty(j)&&(l=s[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:Xt(e,r,j,l,s,null)}return;default:if(Uo(r)){for(W in s)s.hasOwnProperty(W)&&(l=s[W],l!==void 0&&Bd(e,r,W,l,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(l=s[E],l!=null&&Xt(e,r,E,l,s,null))}function IA(e,r,s,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,v=null,E=null,I=null,j=null,W=null;for(F in s){var J=s[F];if(s.hasOwnProperty(F)&&J!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":I=J;default:l.hasOwnProperty(F)||Xt(e,r,F,null,l,J)}}for(var H in l){var F=l[H];if(J=s[H],l.hasOwnProperty(H)&&(F!=null||J!=null))switch(H){case"type":d=F;break;case"name":f=F;break;case"checked":j=F;break;case"defaultChecked":W=F;break;case"value":v=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,r));break;default:F!==J&&Xt(e,r,H,F,l,J)}}fn(e,v,E,I,j,W,d,f);return;case"select":F=v=E=H=null;for(d in s)if(I=s[d],s.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":F=I;default:l.hasOwnProperty(d)||Xt(e,r,d,null,l,I)}for(f in l)if(d=l[f],I=s[f],l.hasOwnProperty(f)&&(d!=null||I!=null))switch(f){case"value":H=d;break;case"defaultValue":E=d;break;case"multiple":v=d;default:d!==I&&Xt(e,r,f,d,l,I)}r=E,s=v,l=F,H!=null?Ci(e,!!s,H,!1):!!l!=!!s&&(r!=null?Ci(e,!!s,r,!0):Ci(e,!!s,s?[]:"",!1));return;case"textarea":F=H=null;for(E in s)if(f=s[E],s.hasOwnProperty(E)&&f!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Xt(e,r,E,null,l,f)}for(v in l)if(f=l[v],d=s[v],l.hasOwnProperty(v)&&(f!=null||d!=null))switch(v){case"value":H=f;break;case"defaultValue":F=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==d&&Xt(e,r,v,f,l,d)}Qt(e,H,F);return;case"option":for(var Et in s)if(H=s[Et],s.hasOwnProperty(Et)&&H!=null&&!l.hasOwnProperty(Et))switch(Et){case"selected":e.selected=!1;break;default:Xt(e,r,Et,null,l,H)}for(I in l)if(H=l[I],F=s[I],l.hasOwnProperty(I)&&H!==F&&(H!=null||F!=null))switch(I){case"selected":e.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:Xt(e,r,I,H,l,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _t in s)H=s[_t],s.hasOwnProperty(_t)&&H!=null&&!l.hasOwnProperty(_t)&&Xt(e,r,_t,null,l,H);for(j in l)if(H=l[j],F=s[j],l.hasOwnProperty(j)&&H!==F&&(H!=null||F!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,r));break;default:Xt(e,r,j,H,l,F)}return;default:if(Uo(r)){for(var Wt in s)H=s[Wt],s.hasOwnProperty(Wt)&&H!==void 0&&!l.hasOwnProperty(Wt)&&Bd(e,r,Wt,void 0,l,H);for(W in l)H=l[W],F=s[W],!l.hasOwnProperty(W)||H===F||H===void 0&&F===void 0||Bd(e,r,W,H,l,F);return}}for(var L in s)H=s[L],s.hasOwnProperty(L)&&H!=null&&!l.hasOwnProperty(L)&&Xt(e,r,L,null,l,H);for(J in l)H=l[J],F=s[J],!l.hasOwnProperty(J)||H===F||H==null&&F==null||Xt(e,r,J,H,l,F)}var jd=null,Hd=null;function Dc(e){return e.nodeType===9?e:e.ownerDocument}function q_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function F_(e,r){if(e===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&r==="foreignObject"?0:e}function qd(e,r){return e==="textarea"||e==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Fd=null;function CA(){var e=window.event;return e&&e.type==="popstate"?e===Fd?!1:(Fd=e,!0):(Fd=null,!1)}var G_=typeof setTimeout=="function"?setTimeout:void 0,DA=typeof clearTimeout=="function"?clearTimeout:void 0,$_=typeof Promise=="function"?Promise:void 0,OA=typeof queueMicrotask=="function"?queueMicrotask:typeof $_<"u"?function(e){return $_.resolve(null).then(e).catch(NA)}:G_;function NA(e){setTimeout(function(){throw e})}function Dr(e){return e==="head"}function K_(e,r){var s=r,l=0,f=0;do{var d=s.nextSibling;if(e.removeChild(s),d&&d.nodeType===8)if(s=d.data,s==="/$"){if(0<l&&8>l){s=l;var v=e.ownerDocument;if(s&1&&wl(v.documentElement),s&2&&wl(v.body),s&4)for(s=v.head,wl(s),v=s.firstChild;v;){var E=v.nextSibling,I=v.nodeName;v[ca]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&v.rel.toLowerCase()==="stylesheet"||s.removeChild(v),v=E}}if(f===0){e.removeChild(d),Nl(r);return}f--}else s==="$"||s==="$?"||s==="$!"?f++:l=s.charCodeAt(0)-48;else l=0;s=d}while(s);Nl(r)}function Gd(e){var r=e.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var s=r;switch(r=r.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Gd(s),cr(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function xA(e,r,s,l){for(;e.nodeType===1;){var f=s;if(e.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[ca])switch(r){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(r==="input"&&e.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=qn(e.nextSibling),e===null)break}return null}function MA(e,r,s){if(r==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=qn(e.nextSibling),e===null))return null;return e}function $d(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function kA(e,r){var s=e.ownerDocument;if(e.data!=="$?"||s.readyState==="complete")r();else{var l=function(){r(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function qn(e){for(;e!=null;e=e.nextSibling){var r=e.nodeType;if(r===1||r===3)break;if(r===8){if(r=e.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return e}var Kd=null;function Q_(e){e=e.previousSibling;for(var r=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(r===0)return e;r--}else s==="/$"&&r++}e=e.previousSibling}return null}function Y_(e,r,s){switch(r=Dc(s),e){case"html":if(e=r.documentElement,!e)throw Error(a(452));return e;case"head":if(e=r.head,!e)throw Error(a(453));return e;case"body":if(e=r.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function wl(e){for(var r=e.attributes;r.length;)e.removeAttributeNode(r[0]);cr(e)}var kn=new Map,X_=new Set;function Oc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ki=ot.d;ot.d={f:VA,r:PA,D:LA,C:UA,L:zA,m:BA,X:HA,S:jA,M:qA};function VA(){var e=Ki.f(),r=Ec();return e||r}function PA(e){var r=Zn(e);r!==null&&r.tag===5&&r.type==="form"?gy(r):Ki.r(e)}var Qs=typeof document>"u"?null:document;function W_(e,r,s){var l=Qs;if(l&&typeof r=="string"&&r){var f=ye(r);f='link[rel="'+e+'"][href="'+f+'"]',typeof s=="string"&&(f+='[crossorigin="'+s+'"]'),X_.has(f)||(X_.add(f),e={rel:e,crossOrigin:s,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),je(r,"link",e),he(r),l.head.appendChild(r)))}}function LA(e){Ki.D(e),W_("dns-prefetch",e,null)}function UA(e,r){Ki.C(e,r),W_("preconnect",e,r)}function zA(e,r,s){Ki.L(e,r,s);var l=Qs;if(l&&e&&r){var f='link[rel="preload"][as="'+ye(r)+'"]';r==="image"&&s&&s.imageSrcSet?(f+='[imagesrcset="'+ye(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(f+='[imagesizes="'+ye(s.imageSizes)+'"]')):f+='[href="'+ye(e)+'"]';var d=f;switch(r){case"style":d=Ys(e);break;case"script":d=Xs(e)}kn.has(d)||(e=T({rel:"preload",href:r==="image"&&s&&s.imageSrcSet?void 0:e,as:r},s),kn.set(d,e),l.querySelector(f)!==null||r==="style"&&l.querySelector(Al(d))||r==="script"&&l.querySelector(Sl(d))||(r=l.createElement("link"),je(r,"link",e),he(r),l.head.appendChild(r)))}}function BA(e,r){Ki.m(e,r);var s=Qs;if(s&&e){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+ye(l)+'"][href="'+ye(e)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Xs(e)}if(!kn.has(d)&&(e=T({rel:"modulepreload",href:e},r),kn.set(d,e),s.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Sl(d)))return}l=s.createElement("link"),je(l,"link",e),he(l),s.head.appendChild(l)}}}function jA(e,r,s){Ki.S(e,r,s);var l=Qs;if(l&&e){var f=Je(l).hoistableStyles,d=Ys(e);r=r||"default";var v=f.get(d);if(!v){var E={loading:0,preload:null};if(v=l.querySelector(Al(d)))E.loading=5;else{e=T({rel:"stylesheet",href:e,"data-precedence":r},s),(s=kn.get(d))&&Qd(e,s);var I=v=l.createElement("link");he(I),je(I,"link",e),I._p=new Promise(function(j,W){I.onload=j,I.onerror=W}),I.addEventListener("load",function(){E.loading|=1}),I.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Nc(v,r,l)}v={type:"stylesheet",instance:v,count:1,state:E},f.set(d,v)}}}function HA(e,r){Ki.X(e,r);var s=Qs;if(s&&e){var l=Je(s).hoistableScripts,f=Xs(e),d=l.get(f);d||(d=s.querySelector(Sl(f)),d||(e=T({src:e,async:!0},r),(r=kn.get(f))&&Yd(e,r),d=s.createElement("script"),he(d),je(d,"link",e),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function qA(e,r){Ki.M(e,r);var s=Qs;if(s&&e){var l=Je(s).hoistableScripts,f=Xs(e),d=l.get(f);d||(d=s.querySelector(Sl(f)),d||(e=T({src:e,async:!0,type:"module"},r),(r=kn.get(f))&&Yd(e,r),d=s.createElement("script"),he(d),je(d,"link",e),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function Z_(e,r,s,l){var f=(f=wt.current)?Oc(f):null;if(!f)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(r=Ys(s.href),s=Je(f).hoistableStyles,l=s.get(r),l||(l={type:"style",instance:null,count:0,state:null},s.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Ys(s.href);var d=Je(f).hoistableStyles,v=d.get(e);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,v),(d=f.querySelector(Al(e)))&&!d._p&&(v.instance=d,v.state.loading=5),kn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},kn.set(e,s),d||FA(f,e,s,v.state))),r&&l===null)throw Error(a(528,""));return v}if(r&&l!==null)throw Error(a(529,""));return null;case"script":return r=s.async,s=s.src,typeof s=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Xs(s),s=Je(f).hoistableScripts,l=s.get(r),l||(l={type:"script",instance:null,count:0,state:null},s.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Ys(e){return'href="'+ye(e)+'"'}function Al(e){return'link[rel="stylesheet"]['+e+"]"}function J_(e){return T({},e,{"data-precedence":e.precedence,precedence:null})}function FA(e,r,s,l){e.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=e.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),je(r,"link",s),he(r),e.head.appendChild(r))}function Xs(e){return'[src="'+ye(e)+'"]'}function Sl(e){return"script[async]"+e}function tv(e,r,s){if(r.count++,r.instance===null)switch(r.type){case"style":var l=e.querySelector('style[data-href~="'+ye(s.href)+'"]');if(l)return r.instance=l,he(l),l;var f=T({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),he(l),je(l,"style",f),Nc(l,s.precedence,e),r.instance=l;case"stylesheet":f=Ys(s.href);var d=e.querySelector(Al(f));if(d)return r.state.loading|=4,r.instance=d,he(d),d;l=J_(s),(f=kn.get(f))&&Qd(l,f),d=(e.ownerDocument||e).createElement("link"),he(d);var v=d;return v._p=new Promise(function(E,I){v.onload=E,v.onerror=I}),je(d,"link",l),r.state.loading|=4,Nc(d,s.precedence,e),r.instance=d;case"script":return d=Xs(s.src),(f=e.querySelector(Sl(d)))?(r.instance=f,he(f),f):(l=s,(f=kn.get(d))&&(l=T({},s),Yd(l,f)),e=e.ownerDocument||e,f=e.createElement("script"),he(f),je(f,"link",l),e.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(a(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Nc(l,s.precedence,e));return r.instance}function Nc(e,r,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,v=0;v<l.length;v++){var E=l[v];if(E.dataset.precedence===r)d=E;else if(d!==f)break}d?d.parentNode.insertBefore(e,d.nextSibling):(r=s.nodeType===9?s.head:s,r.insertBefore(e,r.firstChild))}function Qd(e,r){e.crossOrigin==null&&(e.crossOrigin=r.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=r.referrerPolicy),e.title==null&&(e.title=r.title)}function Yd(e,r){e.crossOrigin==null&&(e.crossOrigin=r.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=r.referrerPolicy),e.integrity==null&&(e.integrity=r.integrity)}var xc=null;function ev(e,r,s){if(xc===null){var l=new Map,f=xc=new Map;f.set(s,l)}else f=xc,l=f.get(s),l||(l=new Map,f.set(s,l));if(l.has(e))return l;for(l.set(e,null),s=s.getElementsByTagName(e),f=0;f<s.length;f++){var d=s[f];if(!(d[ca]||d[be]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(r)||"";v=e+v;var E=l.get(v);E?E.push(d):l.set(v,[d])}}return l}function nv(e,r,s){e=e.ownerDocument||e,e.head.insertBefore(s,r==="title"?e.querySelector("head > title"):null)}function GA(e,r,s){if(s===1||r.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return e=r.disabled,typeof r.precedence=="string"&&e==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function iv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Rl=null;function $A(){}function KA(e,r,s){if(Rl===null)throw Error(a(475));var l=Rl;if(r.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=Ys(s.href),d=e.querySelector(Al(f));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=Mc.bind(l),e.then(l,l)),r.state.loading|=4,r.instance=d,he(d);return}d=e.ownerDocument||e,s=J_(s),(f=kn.get(f))&&Qd(s,f),d=d.createElement("link"),he(d);var v=d;v._p=new Promise(function(E,I){v.onload=E,v.onerror=I}),je(d,"link",s),r.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,e),(e=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=Mc.bind(l),e.addEventListener("load",r),e.addEventListener("error",r))}}function QA(){if(Rl===null)throw Error(a(475));var e=Rl;return e.stylesheets&&e.count===0&&Xd(e,e.stylesheets),0<e.count?function(r){var s=setTimeout(function(){if(e.stylesheets&&Xd(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(s)}}:null}function Mc(){if(this.count--,this.count===0){if(this.stylesheets)Xd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var kc=null;function Xd(e,r){e.stylesheets=null,e.unsuspend!==null&&(e.count++,kc=new Map,r.forEach(YA,e),kc=null,Mc.call(e))}function YA(e,r){if(!(r.state.loading&4)){var s=kc.get(e);if(s)var l=s.get(null);else{s=new Map,kc.set(e,s);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var v=f[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(s.set(v.dataset.precedence,v),l=v)}l&&s.set(null,l)}f=r.instance,v=f.getAttribute("data-precedence"),d=s.get(v)||l,d===l&&s.set(null,f),s.set(v,f),this.count++,l=Mc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),r.state.loading|=4}}var Il={$$typeof:G,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function XA(e,r,s,l,f,d,v,E){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wi(0),this.hiddenUpdates=wi(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function rv(e,r,s,l,f,d,v,E,I,j,W,J){return e=new XA(e,r,s,v,E,I,j,J),r=1,d===!0&&(r|=24),d=dn(3,null,null,r),e.current=d,d.stateNode=e,r=Nh(),r.refCount++,e.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:s,cache:r},Vh(d),e}function av(e){return e?(e=Is,e):Is}function sv(e,r,s,l,f,d){f=av(f),l.context===null?l.context=f:l.pendingContext=f,l=gr(r),l.payload={element:s},d=d===void 0?null:d,d!==null&&(l.callback=d),s=yr(e,l,r),s!==null&&(_n(s,e,r),il(s,e,r))}function ov(e,r){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<r?s:r}}function Wd(e,r){ov(e,r),(e=e.alternate)&&ov(e,r)}function lv(e){if(e.tag===13){var r=Rs(e,67108864);r!==null&&_n(r,e,67108864),Wd(e,67108864)}}var Vc=!0;function WA(e,r,s,l){var f=X.T;X.T=null;var d=ot.p;try{ot.p=2,Zd(e,r,s,l)}finally{ot.p=d,X.T=f}}function ZA(e,r,s,l){var f=X.T;X.T=null;var d=ot.p;try{ot.p=8,Zd(e,r,s,l)}finally{ot.p=d,X.T=f}}function Zd(e,r,s,l){if(Vc){var f=Jd(l);if(f===null)zd(e,r,l,Pc,s),cv(e,l);else if(tS(f,e,r,s,l))l.stopPropagation();else if(cv(e,l),r&4&&-1<JA.indexOf(e)){for(;f!==null;){var d=Zn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Un(d.pendingLanes);if(v!==0){var E=d;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var I=1<<31-Ge(v);E.entanglements[1]|=I,v&=~I}hi(d),($t&6)===0&&(vc=bn()+500,Tl(0))}}break;case 13:E=Rs(d,2),E!==null&&_n(E,d,2),Ec(),Wd(d,2)}if(d=Jd(l),d===null&&zd(e,r,l,Pc,s),d===f)break;f=d}f!==null&&l.stopPropagation()}else zd(e,r,l,null,s)}}function Jd(e){return e=Sn(e),tm(e)}var Pc=null;function tm(e){if(Pc=null,e=Si(e),e!==null){var r=u(e);if(r===null)e=null;else{var s=r.tag;if(s===13){if(e=h(r),e!==null)return e;e=null}else if(s===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;e=null}else r!==e&&(e=null)}}return Pc=e,null}function uv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ih()){case So:return 2;case as:return 8;case aa:case rh:return 32;case ss:return 268435456;default:return 32}default:return 32}}var em=!1,Or=null,Nr=null,xr=null,Cl=new Map,Dl=new Map,Mr=[],JA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function cv(e,r){switch(e){case"focusin":case"focusout":Or=null;break;case"dragenter":case"dragleave":Nr=null;break;case"mouseover":case"mouseout":xr=null;break;case"pointerover":case"pointerout":Cl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dl.delete(r.pointerId)}}function Ol(e,r,s,l,f,d){return e===null||e.nativeEvent!==d?(e={blockedOn:r,domEventName:s,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},r!==null&&(r=Zn(r),r!==null&&lv(r)),e):(e.eventSystemFlags|=l,r=e.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),e)}function tS(e,r,s,l,f){switch(r){case"focusin":return Or=Ol(Or,e,r,s,l,f),!0;case"dragenter":return Nr=Ol(Nr,e,r,s,l,f),!0;case"mouseover":return xr=Ol(xr,e,r,s,l,f),!0;case"pointerover":var d=f.pointerId;return Cl.set(d,Ol(Cl.get(d)||null,e,r,s,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Dl.set(d,Ol(Dl.get(d)||null,e,r,s,l,f)),!0}return!1}function fv(e){var r=Si(e.target);if(r!==null){var s=u(r);if(s!==null){if(r=s.tag,r===13){if(r=h(s),r!==null){e.blockedOn=r,Eu(e.priority,function(){if(s.tag===13){var l=yn();l=or(l);var f=Rs(s,l);f!==null&&_n(f,s,l),Wd(s,l)}});return}}else if(r===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Lc(e){if(e.blockedOn!==null)return!1;for(var r=e.targetContainers;0<r.length;){var s=Jd(e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);Di=l,s.target.dispatchEvent(l),Di=null}else return r=Zn(s),r!==null&&lv(r),e.blockedOn=s,!1;r.shift()}return!0}function hv(e,r,s){Lc(e)&&s.delete(r)}function eS(){em=!1,Or!==null&&Lc(Or)&&(Or=null),Nr!==null&&Lc(Nr)&&(Nr=null),xr!==null&&Lc(xr)&&(xr=null),Cl.forEach(hv),Dl.forEach(hv)}function Uc(e,r){e.blockedOn===r&&(e.blockedOn=null,em||(em=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,eS)))}var zc=null;function dv(e){zc!==e&&(zc=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){zc===e&&(zc=null);for(var r=0;r<e.length;r+=3){var s=e[r],l=e[r+1],f=e[r+2];if(typeof l!="function"){if(tm(l||s)===null)continue;break}var d=Zn(s);d!==null&&(e.splice(r,3),r-=3,td(d,{pending:!0,data:f,method:s.method,action:l},l,f))}}))}function Nl(e){function r(I){return Uc(I,e)}Or!==null&&Uc(Or,e),Nr!==null&&Uc(Nr,e),xr!==null&&Uc(xr,e),Cl.forEach(r),Dl.forEach(r);for(var s=0;s<Mr.length;s++){var l=Mr[s];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Mr.length&&(s=Mr[0],s.blockedOn===null);)fv(s),s.blockedOn===null&&Mr.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var f=s[l],d=s[l+1],v=f[ge]||null;if(typeof d=="function")v||dv(s);else if(v){var E=null;if(d&&d.hasAttribute("formAction")){if(f=d,v=d[ge]||null)E=v.formAction;else if(tm(f)!==null)continue}else E=v.action;typeof E=="function"?s[l+1]=E:(s.splice(l,3),l-=3),dv(s)}}}function nm(e){this._internalRoot=e}Bc.prototype.render=nm.prototype.render=function(e){var r=this._internalRoot;if(r===null)throw Error(a(409));var s=r.current,l=yn();sv(s,l,e,r,null,null)},Bc.prototype.unmount=nm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var r=e.containerInfo;sv(e.current,2,null,e,null,null),Ec(),r[wn]=null}};function Bc(e){this._internalRoot=e}Bc.prototype.unstable_scheduleHydration=function(e){if(e){var r=lr();e={blockedOn:null,target:e,priority:r};for(var s=0;s<Mr.length&&r!==0&&r<Mr[s].priority;s++);Mr.splice(s,0,e),s===0&&fv(e)}};var mv=t.version;if(mv!=="19.1.0")throw Error(a(527,mv,"19.1.0"));ot.findDOMNode=function(e){var r=e._reactInternals;if(r===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=p(r),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var nS={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jc.isDisabled&&jc.supportsFiber)try{ue=jc.inject(nS),Gt=jc}catch{}}return Ml.createRoot=function(e,r){if(!o(e))throw Error(a(299));var s=!1,l="",f=Oy,d=Ny,v=xy,E=null;return r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(E=r.unstable_transitionCallbacks)),r=rv(e,1,!1,null,null,s,l,f,d,v,E,null),e[wn]=r.current,Ud(e),new nm(r)},Ml.hydrateRoot=function(e,r,s){if(!o(e))throw Error(a(299));var l=!1,f="",d=Oy,v=Ny,E=xy,I=null,j=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(v=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(I=s.unstable_transitionCallbacks),s.formState!==void 0&&(j=s.formState)),r=rv(e,1,!0,r,s??null,l,f,d,v,E,I,j),r.context=av(null),s=r.current,l=yn(),l=or(l),f=gr(l),f.callback=null,yr(s,f,l),s=l,r.current.lanes=s,Ai(r,s),hi(r),e[wn]=r.current,Ud(e),new Bc(r)},Ml.version="19.1.0",Ml}var Av;function dS(){if(Av)return am.exports;Av=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),am.exports=hS(),am.exports}var mS=dS();const pS=()=>{};var Sv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT=function(i){const t=[];let n=0;for(let a=0;a<i.length;a++){let o=i.charCodeAt(a);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&a+1<i.length&&(i.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++a)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},gS=function(i){const t=[];let n=0,a=0;for(;n<i.length;){const o=i[n++];if(o<128)t[a++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];t[a++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],h=i[n++],m=i[n++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;t[a++]=String.fromCharCode(55296+(p>>10)),t[a++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],h=i[n++];t[a++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return t.join("")},dT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,m=h?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,T=u>>2,w=(u&3)<<4|m>>4;let R=(m&15)<<2|g>>6,M=g&63;p||(M=64,h||(R=64)),a.push(n[T],n[w],n[R],n[M])}return a.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(hT(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):gS(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const w=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||w==null)throw new yS;const R=u<<2|m>>4;if(a.push(R),g!==64){const M=m<<4&240|g>>2;if(a.push(M),w!==64){const V=g<<6&192|w;a.push(V)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class yS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _S=function(i){const t=hT(i);return dT.encodeByteArray(t,!0)},of=function(i){return _S(i).replace(/\./g,"")},mT=function(i){try{return dT.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TS=()=>vS().__FIREBASE_DEFAULTS__,ES=()=>{if(typeof process>"u"||typeof Sv>"u")return;const i=Sv.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},bS=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&mT(i[1]);return t&&JSON.parse(t)},Nf=()=>{try{return pS()||TS()||ES()||bS()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},pT=i=>{var t,n;return(n=(t=Nf())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[i]},wS=i=>{const t=pT(i);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),a]:[t.substring(0,n),a]},gT=()=>{var i;return(i=Nf())===null||i===void 0?void 0:i.config},yT=i=>{var t;return(t=Nf())===null||t===void 0?void 0:t[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,a))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SS(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=t||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[of(JSON.stringify(n)),of(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function We(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function RS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(We())}function IS(){var i;const t=(i=Nf())===null||i===void 0?void 0:i.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function CS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function _T(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function DS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function OS(){const i=We();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function NS(){return!IS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vT(){try{return typeof indexedDB=="object"}catch{return!1}}function TT(){return new Promise((i,t)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(a),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;t(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){t(n)}})}function xS(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MS="FirebaseError";class Yn extends Error{constructor(t,n,a){super(n),this.code=t,this.customData=a,this.name=MS,Object.setPrototypeOf(this,Yn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Za.prototype.create)}}class Za{constructor(t,n,a){this.service=t,this.serviceName=n,this.errors=a}create(t,...n){const a=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],h=u?kS(u,a):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new Yn(o,m,a)}}function kS(i,t){return i.replace(VS,(n,a)=>{const o=t[a];return o!=null?String(o):`<${a}?>`})}const VS=/\{\$([^}]+)}/g;function PS(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}function Gr(i,t){if(i===t)return!0;const n=Object.keys(i),a=Object.keys(t);for(const o of n){if(!a.includes(o))return!1;const u=i[o],h=t[o];if(Rv(u)&&Rv(h)){if(!Gr(u,h))return!1}else if(u!==h)return!1}for(const o of a)if(!n.includes(o))return!1;return!0}function Rv(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ru(i){const t=[];for(const[n,a]of Object.entries(i))Array.isArray(a)?a.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function Pl(i){const t={};return i.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[o,u]=a.split("=");t[decodeURIComponent(o)]=decodeURIComponent(u)}}),t}function Ll(i){const t=i.indexOf("?");if(!t)return"";const n=i.indexOf("#",t);return i.substring(t,n>0?n:void 0)}function LS(i,t){const n=new US(i,t);return n.subscribe.bind(n)}class US{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,a){let o;if(t===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");zS(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:a},o.next===void 0&&(o.next=um),o.error===void 0&&(o.error=um),o.complete===void 0&&(o.complete=um);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zS(i,t){if(typeof i!="object"||i===null)return!1;for(const n of t)if(n in i&&typeof i[n]=="function")return!0;return!1}function um(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS=1e3,jS=2,HS=4*60*60*1e3,qS=.5;function Iv(i,t=BS,n=jS){const a=t*Math.pow(n,i),o=Math.round(qS*a*(Math.random()-.5)*2);return Math.min(HS,a+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ze(i){return i&&i._delegate?i._delegate:i}class Kn{constructor(t,n,a){this.name=t,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const za="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const a=new AS;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const a=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if($S(t))try{this.getOrInitializeService({instanceIdentifier:za})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch{}}}}clearInstance(t=za){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=za){return this.instances.has(t)}getOptions(t=za){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);a===m&&h.resolve(o)}return o}onInit(t,n){var a;const o=this.normalizeInstanceIdentifier(n),u=(a=this.onInitCallbacks.get(o))!==null&&a!==void 0?a:new Set;u.add(t),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&t(h,o),()=>{u.delete(t)}}invokeOnInitCallbacks(t,n){const a=this.onInitCallbacks.get(n);if(a)for(const o of a)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:GS(t),options:n}),this.instances.set(t,a),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=za){return this.component?this.component.multipleInstances?t:za:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function GS(i){return i===za?void 0:i}function $S(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new FS(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Mt||(Mt={}));const QS={debug:Mt.DEBUG,verbose:Mt.VERBOSE,info:Mt.INFO,warn:Mt.WARN,error:Mt.ERROR,silent:Mt.SILENT},YS=Mt.INFO,XS={[Mt.DEBUG]:"log",[Mt.VERBOSE]:"log",[Mt.INFO]:"info",[Mt.WARN]:"warn",[Mt.ERROR]:"error"},WS=(i,t,...n)=>{if(t<i.logLevel)return;const a=new Date().toISOString(),o=XS[t];if(o)console[o](`[${a}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class xf{constructor(t){this.name=t,this._logLevel=YS,this._logHandler=WS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Mt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?QS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Mt.DEBUG,...t),this._logHandler(this,Mt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Mt.VERBOSE,...t),this._logHandler(this,Mt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Mt.INFO,...t),this._logHandler(this,Mt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Mt.WARN,...t),this._logHandler(this,Mt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Mt.ERROR,...t),this._logHandler(this,Mt.ERROR,...t)}}const ZS=(i,t)=>t.some(n=>i instanceof n);let Cv,Dv;function JS(){return Cv||(Cv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tR(){return Dv||(Dv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ET=new WeakMap,Sm=new WeakMap,bT=new WeakMap,cm=new WeakMap,rp=new WeakMap;function eR(i){const t=new Promise((n,a)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{n(Br(i.result)),o()},h=()=>{a(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return t.then(n=>{n instanceof IDBCursor&&ET.set(n,i)}).catch(()=>{}),rp.set(t,i),t}function nR(i){if(Sm.has(i))return;const t=new Promise((n,a)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{a(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});Sm.set(i,t)}let Rm={get(i,t,n){if(i instanceof IDBTransaction){if(t==="done")return Sm.get(i);if(t==="objectStoreNames")return i.objectStoreNames||bT.get(i);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Br(i[t])},set(i,t,n){return i[t]=n,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function iR(i){Rm=i(Rm)}function rR(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const a=i.call(fm(this),t,...n);return bT.set(a,t.sort?t.sort():[t]),Br(a)}:tR().includes(i)?function(...t){return i.apply(fm(this),t),Br(ET.get(this))}:function(...t){return Br(i.apply(fm(this),t))}}function aR(i){return typeof i=="function"?rR(i):(i instanceof IDBTransaction&&nR(i),ZS(i,JS())?new Proxy(i,Rm):i)}function Br(i){if(i instanceof IDBRequest)return eR(i);if(cm.has(i))return cm.get(i);const t=aR(i);return t!==i&&(cm.set(i,t),rp.set(t,i)),t}const fm=i=>rp.get(i);function wT(i,t,{blocked:n,upgrade:a,blocking:o,terminated:u}={}){const h=indexedDB.open(i,t),m=Br(h);return a&&h.addEventListener("upgradeneeded",p=>{a(Br(h.result),p.oldVersion,p.newVersion,Br(h.transaction),p)}),n&&h.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const sR=["get","getKey","getAll","getAllKeys","count"],oR=["put","add","delete","clear"],hm=new Map;function Ov(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(hm.get(t))return hm.get(t);const n=t.replace(/FromIndex$/,""),a=t!==n,o=oR.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(o||sR.includes(n)))return;const u=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return a&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return hm.set(t,u),u}iR(i=>({...i,get:(t,n,a)=>Ov(t,n)||i.get(t,n,a),has:(t,n)=>!!Ov(t,n)||i.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(uR(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function uR(i){const t=i.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Im="@firebase/app",Nv="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ji=new xf("@firebase/app"),cR="@firebase/app-compat",fR="@firebase/analytics-compat",hR="@firebase/analytics",dR="@firebase/app-check-compat",mR="@firebase/app-check",pR="@firebase/auth",gR="@firebase/auth-compat",yR="@firebase/database",_R="@firebase/data-connect",vR="@firebase/database-compat",TR="@firebase/functions",ER="@firebase/functions-compat",bR="@firebase/installations",wR="@firebase/installations-compat",AR="@firebase/messaging",SR="@firebase/messaging-compat",RR="@firebase/performance",IR="@firebase/performance-compat",CR="@firebase/remote-config",DR="@firebase/remote-config-compat",OR="@firebase/storage",NR="@firebase/storage-compat",xR="@firebase/firestore",MR="@firebase/vertexai",kR="@firebase/firestore-compat",VR="firebase",PR="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cm="[DEFAULT]",LR={[Im]:"fire-core",[cR]:"fire-core-compat",[hR]:"fire-analytics",[fR]:"fire-analytics-compat",[mR]:"fire-app-check",[dR]:"fire-app-check-compat",[pR]:"fire-auth",[gR]:"fire-auth-compat",[yR]:"fire-rtdb",[_R]:"fire-data-connect",[vR]:"fire-rtdb-compat",[TR]:"fire-fn",[ER]:"fire-fn-compat",[bR]:"fire-iid",[wR]:"fire-iid-compat",[AR]:"fire-fcm",[SR]:"fire-fcm-compat",[RR]:"fire-perf",[IR]:"fire-perf-compat",[CR]:"fire-rc",[DR]:"fire-rc-compat",[OR]:"fire-gcs",[NR]:"fire-gcs-compat",[xR]:"fire-fst",[kR]:"fire-fst-compat",[MR]:"fire-vertex","fire-js":"fire-js",[VR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lf=new Map,UR=new Map,Dm=new Map;function xv(i,t){try{i.container.addComponent(t)}catch(n){Ji.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,n)}}function _i(i){const t=i.name;if(Dm.has(t))return Ji.debug(`There were multiple attempts to register component ${t}.`),!1;Dm.set(t,i);for(const n of lf.values())xv(n,i);for(const n of UR.values())xv(n,i);return!0}function Ja(i,t){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(t)}function vn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},jr=new Za("app","Firebase",zR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(t,n,a){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Kn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw jr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yo=PR;function AT(i,t={}){let n=i;typeof t!="object"&&(t={name:t});const a=Object.assign({name:Cm,automaticDataCollectionEnabled:!1},t),o=a.name;if(typeof o!="string"||!o)throw jr.create("bad-app-name",{appName:String(o)});if(n||(n=gT()),!n)throw jr.create("no-options");const u=lf.get(o);if(u){if(Gr(n,u.options)&&Gr(a,u.config))return u;throw jr.create("duplicate-app",{appName:o})}const h=new KS(o);for(const p of Dm.values())h.addComponent(p);const m=new BR(n,a,h);return lf.set(o,m),m}function ap(i=Cm){const t=lf.get(i);if(!t&&i===Cm&&gT())return AT();if(!t)throw jr.create("no-app",{appName:i});return t}function Pn(i,t,n){var a;let o=(a=LR[i])!==null&&a!==void 0?a:i;n&&(o+=`-${n}`);const u=o.match(/\s|\//),h=t.match(/\s|\//);if(u||h){const m=[`Unable to register library "${o}" with version "${t}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&m.push("and"),h&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ji.warn(m.join(" "));return}_i(new Kn(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR="firebase-heartbeat-database",HR=1,Kl="firebase-heartbeat-store";let dm=null;function ST(){return dm||(dm=wT(jR,HR,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(Kl)}catch(n){console.warn(n)}}}}).catch(i=>{throw jr.create("idb-open",{originalErrorMessage:i.message})})),dm}async function qR(i){try{const n=(await ST()).transaction(Kl),a=await n.objectStore(Kl).get(RT(i));return await n.done,a}catch(t){if(t instanceof Yn)Ji.warn(t.message);else{const n=jr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Ji.warn(n.message)}}}async function Mv(i,t){try{const a=(await ST()).transaction(Kl,"readwrite");await a.objectStore(Kl).put(t,RT(i)),await a.done}catch(n){if(n instanceof Yn)Ji.warn(n.message);else{const a=jr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ji.warn(a.message)}}}function RT(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR=1024,GR=30;class $R{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new QR(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var t,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=kv();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>GR){const h=YR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Ji.warn(a)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=kv(),{heartbeatsToSend:a,unsentEntries:o}=KR(this._heartbeatsCache.heartbeats),u=of(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Ji.warn(n),""}}}function kv(){return new Date().toISOString().substring(0,10)}function KR(i,t=FR){const n=[];let a=i.slice();for(const o of i){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),Vv(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Vv(n)>t){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class QR{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vT()?TT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await qR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Mv(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Mv(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function Vv(i){return of(JSON.stringify({version:2,heartbeats:i})).length}function YR(i){if(i.length===0)return-1;let t=0,n=i[0].date;for(let a=1;a<i.length;a++)i[a].date<n&&(n=i[a].date,t=a);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XR(i){_i(new Kn("platform-logger",t=>new lR(t),"PRIVATE")),_i(new Kn("heartbeat",t=>new $R(t),"PRIVATE")),Pn(Im,Nv,i),Pn(Im,Nv,"esm2017"),Pn("fire-js","")}XR("");function sp(i,t){var n={};for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&t.indexOf(a)<0&&(n[a]=i[a]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(i);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(i,a[o])&&(n[a[o]]=i[a[o]]);return n}function IT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const WR=IT,CT=new Za("auth","Firebase",IT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uf=new xf("@firebase/auth");function ZR(i,...t){uf.logLevel<=Mt.WARN&&uf.warn(`Auth (${yo}): ${i}`,...t)}function Yc(i,...t){uf.logLevel<=Mt.ERROR&&uf.error(`Auth (${yo}): ${i}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ln(i,...t){throw lp(i,...t)}function $n(i,...t){return lp(i,...t)}function op(i,t,n){const a=Object.assign(Object.assign({},WR()),{[t]:n});return new Za("auth","Firebase",a).create(t,{appName:i.name})}function Wi(i){return op(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function JR(i,t,n){const a=n;if(!(t instanceof a))throw a.name!==t.constructor.name&&Ln(i,"argument-error"),op(i,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function lp(i,...t){if(typeof i!="string"){const n=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=i.name),i._errorFactory.create(n,...a)}return CT.create(i,...t)}function Tt(i,t,...n){if(!i)throw lp(t,...n)}function Yi(i){const t="INTERNAL ASSERTION FAILED: "+i;throw Yc(t),new Error(t)}function tr(i,t){i||Yi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Om(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function t1(){return Pv()==="http:"||Pv()==="https:"}function Pv(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(t1()||_T()||"connection"in navigator)?navigator.onLine:!0}function n1(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(t,n){this.shortDelay=t,this.longDelay=n,tr(n>t,"Short delay should be less than long delay!"),this.isMobile=RS()||DS()}get(){return e1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function up(i,t){tr(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{static initialize(t,n,a){this.fetchImpl=t,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Yi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Yi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Yi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],a1=new au(3e4,6e4);function Zr(i,t){return i.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:i.tenantId}):t}async function Jr(i,t,n,a,o={}){return OT(i,o,async()=>{let u={},h={};a&&(t==="GET"?h=a:u={body:JSON.stringify(a)});const m=ru(Object.assign({key:i.config.apiKey},h)).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g=Object.assign({method:t,headers:p},u);return CS()||(g.referrerPolicy="no-referrer"),DT.fetch()(await NT(i,i.config.apiHost,n,m),g)})}async function OT(i,t,n){i._canInitEmulator=!1;const a=Object.assign(Object.assign({},i1),t);try{const o=new o1(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw Hc(i,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Hc(i,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw Hc(i,"email-already-in-use",h);if(p==="USER_DISABLED")throw Hc(i,"user-disabled",h);const T=a[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw op(i,T,g);Ln(i,T)}}catch(o){if(o instanceof Yn)throw o;Ln(i,"network-request-failed",{message:String(o)})}}async function su(i,t,n,a,o={}){const u=await Jr(i,t,n,a,o);return"mfaPendingCredential"in u&&Ln(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function NT(i,t,n,a){const o=`${t}${n}?${a}`,u=i,h=u.config.emulator?up(i.config,o):`${i.config.apiScheme}://${o}`;return r1.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function s1(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class o1{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a($n(this.auth,"network-request-failed")),a1.get())})}}function Hc(i,t,n){const a={appName:i.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const o=$n(i,t,a);return o.customData._tokenResponse=n,o}function Lv(i){return i!==void 0&&i.enterprise!==void 0}class l1{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return s1(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function u1(i,t){return Jr(i,"GET","/v2/recaptchaConfig",Zr(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c1(i,t){return Jr(i,"POST","/v1/accounts:delete",t)}async function cf(i,t){return Jr(i,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jl(i){if(i)try{const t=new Date(Number(i));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function f1(i,t=!1){const n=Ze(i),a=await n.getIdToken(t),o=cp(a);Tt(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u==null?void 0:u.sign_in_provider;return{claims:o,token:a,authTime:jl(mm(o.auth_time)),issuedAtTime:jl(mm(o.iat)),expirationTime:jl(mm(o.exp)),signInProvider:h||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function mm(i){return Number(i)*1e3}function cp(i){const[t,n,a]=i.split(".");if(t===void 0||n===void 0||a===void 0)return Yc("JWT malformed, contained fewer than 3 sections"),null;try{const o=mT(n);return o?JSON.parse(o):(Yc("Failed to decode base64 JWT payload"),null)}catch(o){return Yc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Uv(i){const t=cp(i);return Tt(t,"internal-error"),Tt(typeof t.exp<"u","internal-error"),Tt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ql(i,t,n=!1){if(n)return t;try{return await t}catch(a){throw a instanceof Yn&&h1(a)&&i.auth.currentUser===i&&await i.auth.signOut(),a}}function h1({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const a=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),a}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=jl(this.lastLoginAt),this.creationTime=jl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ff(i){var t;const n=i.auth,a=await i.getIdToken(),o=await Ql(i,cf(n,{idToken:a}));Tt(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const h=!((t=u.providerUserInfo)===null||t===void 0)&&t.length?xT(u.providerUserInfo):[],m=p1(i.providerData,h),p=i.isAnonymous,g=!(i.email&&u.passwordHash)&&!(m!=null&&m.length),T=p?g:!1,w={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Nm(u.createdAt,u.lastLoginAt),isAnonymous:T};Object.assign(i,w)}async function m1(i){const t=Ze(i);await ff(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function p1(i,t){return[...i.filter(a=>!t.some(o=>o.providerId===a.providerId)),...t]}function xT(i){return i.map(t=>{var{providerId:n}=t,a=sp(t,["providerId"]);return{providerId:n,uid:a.rawId||"",displayName:a.displayName||null,email:a.email||null,phoneNumber:a.phoneNumber||null,photoURL:a.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g1(i,t){const n=await OT(i,{},async()=>{const a=ru({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,h=await NT(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",DT.fetch()(h,{method:"POST",headers:m,body:a})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function y1(i,t){return Jr(i,"POST","/v2/accounts:revokeToken",Zr(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Tt(t.idToken,"internal-error"),Tt(typeof t.idToken<"u","internal-error"),Tt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Uv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Tt(t.length!==0,"internal-error");const n=Uv(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Tt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:a,refreshToken:o,expiresIn:u}=await g1(t,n);this.updateTokensAndExpiration(a,o,Number(u))}updateTokensAndExpiration(t,n,a){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,n){const{refreshToken:a,accessToken:o,expirationTime:u}=n,h=new io;return a&&(Tt(typeof a=="string","internal-error",{appName:t}),h.refreshToken=a),o&&(Tt(typeof o=="string","internal-error",{appName:t}),h.accessToken=o),u&&(Tt(typeof u=="number","internal-error",{appName:t}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new io,this.toJSON())}_performRefresh(){return Yi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vr(i,t){Tt(typeof i=="string"||typeof i>"u","internal-error",{appName:t})}class Fn{constructor(t){var{uid:n,auth:a,stsTokenManager:o}=t,u=sp(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new d1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=a,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Nm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(t){const n=await Ql(this,this.stsTokenManager.getToken(this.auth,t));return Tt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return f1(this,t)}reload(){return m1(this)}_assign(t){this!==t&&(Tt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Fn(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){Tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),n&&await ff(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(vn(this.auth.app))return Promise.reject(Wi(this.auth));const t=await this.getIdToken();return await Ql(this,c1(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var a,o,u,h,m,p,g,T;const w=(a=n.displayName)!==null&&a!==void 0?a:void 0,R=(o=n.email)!==null&&o!==void 0?o:void 0,M=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,V=(h=n.photoURL)!==null&&h!==void 0?h:void 0,K=(m=n.tenantId)!==null&&m!==void 0?m:void 0,U=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,$=(g=n.createdAt)!==null&&g!==void 0?g:void 0,Y=(T=n.lastLoginAt)!==null&&T!==void 0?T:void 0,{uid:G,emailVerified:rt,isAnonymous:lt,providerData:dt,stsTokenManager:C}=n;Tt(G&&C,t,"internal-error");const A=io.fromJSON(this.name,C);Tt(typeof G=="string",t,"internal-error"),Vr(w,t.name),Vr(R,t.name),Tt(typeof rt=="boolean",t,"internal-error"),Tt(typeof lt=="boolean",t,"internal-error"),Vr(M,t.name),Vr(V,t.name),Vr(K,t.name),Vr(U,t.name),Vr($,t.name),Vr(Y,t.name);const S=new Fn({uid:G,auth:t,email:R,emailVerified:rt,displayName:w,isAnonymous:lt,photoURL:V,phoneNumber:M,tenantId:K,stsTokenManager:A,createdAt:$,lastLoginAt:Y});return dt&&Array.isArray(dt)&&(S.providerData=dt.map(O=>Object.assign({},O))),U&&(S._redirectEventId=U),S}static async _fromIdTokenResponse(t,n,a=!1){const o=new io;o.updateFromServerResponse(n);const u=new Fn({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:a});return await ff(u),u}static async _fromGetAccountInfoResponse(t,n,a){const o=n.users[0];Tt(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?xT(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new io;m.updateFromIdToken(a);const p=new Fn({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Nm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zv=new Map;function Xi(i){tr(i instanceof Function,"Expected a class definition");let t=zv.get(i);return t?(tr(t instanceof i,"Instance stored in cache mismatched with class"),t):(t=new i,zv.set(i,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}MT.type="NONE";const Bv=MT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xc(i,t,n){return`firebase:${i}:${t}:${n}`}class ro{constructor(t,n,a){this.persistence=t,this.auth=n,this.userKey=a;const{config:o,name:u}=this.auth;this.fullUserKey=Xc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Xc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await cf(this.auth,{idToken:t}).catch(()=>{});return n?Fn._fromGetAccountInfoResponse(this.auth,n,t):null}return Fn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,a="authUser"){if(!n.length)return new ro(Xi(Bv),t,a);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Xi(Bv);const h=Xc(a,t.config.apiKey,t.name);let m=null;for(const g of n)try{const T=await g._get(h);if(T){let w;if(typeof T=="string"){const R=await cf(t,{idToken:T}).catch(()=>{});if(!R)break;w=await Fn._fromGetAccountInfoResponse(t,R,T)}else w=Fn._fromJSON(t,T);g!==u&&(m=w),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new ro(u,t,a):(u=p[0],m&&await u._set(h,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new ro(u,t,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jv(i){const t=i.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(LT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(kT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(zT(t))return"Blackberry";if(BT(t))return"Webos";if(VT(t))return"Safari";if((t.includes("chrome/")||PT(t))&&!t.includes("edge/"))return"Chrome";if(UT(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=i.match(n);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function kT(i=We()){return/firefox\//i.test(i)}function VT(i=We()){const t=i.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function PT(i=We()){return/crios\//i.test(i)}function LT(i=We()){return/iemobile/i.test(i)}function UT(i=We()){return/android/i.test(i)}function zT(i=We()){return/blackberry/i.test(i)}function BT(i=We()){return/webos/i.test(i)}function fp(i=We()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function _1(i=We()){var t;return fp(i)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function v1(){return OS()&&document.documentMode===10}function jT(i=We()){return fp(i)||UT(i)||BT(i)||zT(i)||/windows phone/i.test(i)||LT(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HT(i,t=[]){let n;switch(i){case"Browser":n=jv(We());break;case"Worker":n=`${jv(We())}-${i}`;break;default:n=i}const a=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${yo}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const a=u=>new Promise((h,m)=>{try{const p=t(u);h(p)}catch(p){m(p)}});a.onAbort=n,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const a of this.queue)await a(t),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E1(i,t={}){return Jr(i,"GET","/v2/passwordPolicy",Zr(i,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1=6;class w1{constructor(t){var n,a,o,u;const h=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=h.minPasswordLength)!==null&&n!==void 0?n:b1,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(a=t.allowedNonAlphanumericCharacters)===null||a===void 0?void 0:a.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=t.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,a,o,u,h,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,p),this.validatePasswordCharacterOptions(t,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(a=p.meetsMaxPasswordLength)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(t,n){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=t.length>=a),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let o=0;o<t.length;o++)a=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,n,a,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(t,n,a,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Hv(this),this.idTokenSubscription=new Hv(this),this.beforeStateQueue=new T1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=CT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Xi(n)),this._initializationPromise=this.queue(async()=>{var a,o,u;if(!this._deleted&&(this.persistenceManager=await ro.create(this,t),(a=this._resolvePersistenceManagerAvailable)===null||a===void 0||a.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await cf(this,{idToken:t}),a=await Fn._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(vn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(m,m))}):this.directlySetCurrentUser(null)}const a=await this.assertedPersistence.getCurrentUser();let o=a,u=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(t);(!h||h===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=a,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Tt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await ff(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=n1()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(vn(this.app))return Promise.reject(Wi(this));const n=t?Ze(t):null;return n&&Tt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Tt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return vn(this.app)?Promise.reject(Wi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return vn(this.app)?Promise.reject(Wi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Xi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await E1(this),n=new w1(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Za("auth","Firebase",t())}onAuthStateChanged(t,n,a){return this.registerStateListener(this.authStateSubscription,t,n,a)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,a){return this.registerStateListener(this.idTokenSubscription,t,n,a)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await y1(this,a)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const a=await this.getOrInitRedirectPersistenceManager(n);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Xi(t)||this._popupRedirectResolver;Tt(n,this,"argument-error"),this.redirectPersistenceManager=await ro.create(this,[Xi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,a;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const a=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==a&&(this.lastNotifiedUid=a,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,a,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Tt(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,a,o);return()=>{h=!0,p()}}else{const p=t.addObserver(n);return()=>{h=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=HT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const a=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());a&&(n["X-Firebase-Client"]=a);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var t;if(vn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&ZR(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ta(i){return Ze(i)}class Hv{constructor(t){this.auth=t,this.observer=null,this.addObserver=LS(n=>this.observer=n)}get next(){return Tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function S1(i){Mf=i}function qT(i){return Mf.loadJS(i)}function R1(){return Mf.recaptchaEnterpriseScript}function I1(){return Mf.gapiScript}function C1(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class D1{constructor(){this.enterprise=new O1}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class O1{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const N1="recaptcha-enterprise",FT="NO_RECAPTCHA";class x1{constructor(t){this.type=N1,this.auth=ta(t)}async verify(t="verify",n=!1){async function a(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{u1(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new l1(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,h,m){const p=window.grecaptcha;Lv(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:t}).then(g=>{h(g)}).catch(()=>{h(FT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new D1().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{a(this.auth).then(m=>{if(!n&&Lv(window.grecaptcha))o(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=R1();p.length!==0&&(p+=m),qT(p).then(()=>{o(m,u,h)}).catch(g=>{h(g)})}}).catch(m=>{h(m)})})}}async function qv(i,t,n,a=!1,o=!1){const u=new x1(i);let h;if(o)h=FT;else try{h=await u.verify(n)}catch{h=await u.verify(n,!0)}const m=Object.assign({},t);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return a?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function xm(i,t,n,a,o){var u;if(!((u=i._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await qv(i,t,n,n==="getOobCode");return a(i,h)}else return a(i,t).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await qv(i,t,n,n==="getOobCode");return a(i,m)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M1(i,t){const n=Ja(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Gr(u,t??{}))return o;Ln(o,"already-initialized")}return n.initialize({options:t})}function k1(i,t){const n=(t==null?void 0:t.persistence)||[],a=(Array.isArray(n)?n:[n]).map(Xi);t!=null&&t.errorMap&&i._updateErrorMap(t.errorMap),i._initializeWithPersistence(a,t==null?void 0:t.popupRedirectResolver)}function V1(i,t,n){const a=ta(i);Tt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const o=!1,u=GT(t),{host:h,port:m}=P1(t),p=m===null?"":`:${m}`,g={url:`${u}//${h}${p}/`},T=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){Tt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Tt(Gr(g,a.config.emulator)&&Gr(T,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=g,a.emulatorConfig=T,a.settings.appVerificationDisabledForTesting=!0,L1()}function GT(i){const t=i.indexOf(":");return t<0?"":i.substr(0,t+1)}function P1(i){const t=GT(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(t.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const u=o[1];return{host:u,port:Fv(a.substr(u.length+1))}}else{const[u,h]=a.split(":");return{host:u,port:Fv(h)}}}function Fv(i){if(!i)return null;const t=Number(i);return isNaN(t)?null:t}function L1(){function i(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Yi("not implemented")}_getIdTokenResponse(t){return Yi("not implemented")}_linkToIdToken(t,n){return Yi("not implemented")}_getReauthenticationResolver(t){return Yi("not implemented")}}async function U1(i,t){return Jr(i,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z1(i,t){return su(i,"POST","/v1/accounts:signInWithPassword",Zr(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B1(i,t){return su(i,"POST","/v1/accounts:signInWithEmailLink",Zr(i,t))}async function j1(i,t){return su(i,"POST","/v1/accounts:signInWithEmailLink",Zr(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl extends hp{constructor(t,n,a,o=null){super("password",a),this._email=t,this._password=n,this._tenantId=o}static _fromEmailAndPassword(t,n){return new Yl(t,n,"password")}static _fromEmailAndCode(t,n,a=null){return new Yl(t,n,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xm(t,n,"signInWithPassword",z1);case"emailLink":return B1(t,{email:this._email,oobCode:this._password});default:Ln(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const a={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xm(t,a,"signUpPassword",U1);case"emailLink":return j1(t,{idToken:n,email:this._email,oobCode:this._password});default:Ln(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ao(i,t){return su(i,"POST","/v1/accounts:signInWithIdp",Zr(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1="http://localhost";class Fa extends hp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Fa(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Ln("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:o}=n,u=sp(n,["providerId","signInMethod"]);if(!a||!o)return null;const h=new Fa(a,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(t){const n=this.buildRequest();return ao(t,n)}_linkToIdToken(t,n){const a=this.buildRequest();return a.idToken=n,ao(t,a)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,ao(t,n)}buildRequest(){const t={requestUri:H1,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=ru(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q1(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function F1(i){const t=Pl(Ll(i)).link,n=t?Pl(Ll(t)).deep_link_id:null,a=Pl(Ll(i)).deep_link_id;return(a?Pl(Ll(a)).link:null)||a||n||t||i}class dp{constructor(t){var n,a,o,u,h,m;const p=Pl(Ll(t)),g=(n=p.apiKey)!==null&&n!==void 0?n:null,T=(a=p.oobCode)!==null&&a!==void 0?a:null,w=q1((o=p.mode)!==null&&o!==void 0?o:null);Tt(g&&T&&w,"argument-error"),this.apiKey=g,this.operation=w,this.code=T,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(h=p.languageCode)!==null&&h!==void 0?h:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(t){const n=F1(t);try{return new dp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(){this.providerId=_o.PROVIDER_ID}static credential(t,n){return Yl._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const a=dp.parseLink(n);return Tt(a,"argument-error"),Yl._fromEmailAndCode(t,a.code,a.tenantId)}}_o.PROVIDER_ID="password";_o.EMAIL_PASSWORD_SIGN_IN_METHOD="password";_o.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou extends mp{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends ou{constructor(){super("facebook.com")}static credential(t){return Fa._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Pr.credentialFromTaggedObject(t)}static credentialFromError(t){return Pr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Pr.credential(t.oauthAccessToken)}catch{return null}}}Pr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Pr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi extends ou{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Fa._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Qi.credentialFromTaggedObject(t)}static credentialFromError(t){return Qi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:a}=t;if(!n&&!a)return null;try{return Qi.credential(n,a)}catch{return null}}}Qi.GOOGLE_SIGN_IN_METHOD="google.com";Qi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr extends ou{constructor(){super("github.com")}static credential(t){return Fa._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Lr.credentialFromTaggedObject(t)}static credentialFromError(t){return Lr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Lr.credential(t.oauthAccessToken)}catch{return null}}}Lr.GITHUB_SIGN_IN_METHOD="github.com";Lr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur extends ou{constructor(){super("twitter.com")}static credential(t,n){return Fa._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Ur.credentialFromTaggedObject(t)}static credentialFromError(t){return Ur.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=t;if(!n||!a)return null;try{return Ur.credential(n,a)}catch{return null}}}Ur.TWITTER_SIGN_IN_METHOD="twitter.com";Ur.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G1(i,t){return su(i,"POST","/v1/accounts:signUp",Zr(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,a,o=!1){const u=await Fn._fromIdTokenResponse(t,a,o),h=Gv(a);return new Ga({user:u,providerId:h,_tokenResponse:a,operationType:n})}static async _forOperation(t,n,a){await t._updateTokensIfNecessary(a,!0);const o=Gv(a);return new Ga({user:t,providerId:o,_tokenResponse:a,operationType:n})}}function Gv(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf extends Yn{constructor(t,n,a,o){var u;super(n.code,n.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,hf.prototype),this.customData={appName:t.name,tenantId:(u=t.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,n,a,o){return new hf(t,n,a,o)}}function $T(i,t,n,a){return(t==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?hf._fromErrorAndOperation(i,u,t,a):u})}async function $1(i,t,n=!1){const a=await Ql(i,t._linkToIdToken(i.auth,await i.getIdToken()),n);return Ga._forOperation(i,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K1(i,t,n=!1){const{auth:a}=i;if(vn(a.app))return Promise.reject(Wi(a));const o="reauthenticate";try{const u=await Ql(i,$T(a,o,t,i),n);Tt(u.idToken,a,"internal-error");const h=cp(u.idToken);Tt(h,a,"internal-error");const{sub:m}=h;return Tt(i.uid===m,a,"user-mismatch"),Ga._forOperation(i,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Ln(a,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KT(i,t,n=!1){if(vn(i.app))return Promise.reject(Wi(i));const a="signIn",o=await $T(i,a,t),u=await Ga._fromIdTokenResponse(i,a,o);return n||await i._updateCurrentUser(u.user),u}async function Q1(i,t){return KT(ta(i),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QT(i){const t=ta(i);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Y1(i,t,n){if(vn(i.app))return Promise.reject(Wi(i));const a=ta(i),h=await xm(a,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",G1).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&QT(i),p}),m=await Ga._fromIdTokenResponse(a,"signIn",h);return await a._updateCurrentUser(m.user),m}function X1(i,t,n){return vn(i.app)?Promise.reject(Wi(i)):Q1(Ze(i),_o.credential(t,n)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&QT(i),a})}function W1(i,t,n,a){return Ze(i).onIdTokenChanged(t,n,a)}function Z1(i,t,n){return Ze(i).beforeAuthStateChanged(t,n)}function J1(i,t,n,a){return Ze(i).onAuthStateChanged(t,n,a)}function tI(i){return Ze(i).signOut()}const df="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(df,"1"),this.storage.removeItem(df),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI=1e3,nI=10;class XT extends YT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=jT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),o=this.localCache[n];a!==o&&t(n,o,a)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const a=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(a);!n&&this.localCache[a]===h||this.notifyListeners(a,h)},u=this.storage.getItem(a);v1()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,nI):o()}notifyListeners(t,n){this.localCache[t]=n;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:a}),!0)})},eI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}XT.type="LOCAL";const iI=XT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT extends YT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}WT.type="SESSION";const ZT=WT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rI(i){return Promise.all(i.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const a=new kf(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:a,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const m=Array.from(h).map(async g=>g(n.origin,u)),p=await rI(m);n.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}kf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pp(i="",t=10){let n="";for(let a=0;a<t;a++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const g=pp("",20);o.port1.start();const T=setTimeout(()=>{p(new Error("unsupported_event"))},a);h={messageChannel:o,onMessage(w){const R=w;if(R.data.eventId===g)switch(R.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(R.data.response);break;default:clearTimeout(T),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:t,eventId:g,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mi(){return window}function sI(i){mi().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JT(){return typeof mi().WorkerGlobalScope<"u"&&typeof mi().importScripts=="function"}async function oI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function lI(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function uI(){return JT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE="firebaseLocalStorageDb",cI=1,mf="firebaseLocalStorage",eE="fbase_key";class lu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Vf(i,t){return i.transaction([mf],t?"readwrite":"readonly").objectStore(mf)}function fI(){const i=indexedDB.deleteDatabase(tE);return new lu(i).toPromise()}function Mm(){const i=indexedDB.open(tE,cI);return new Promise((t,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const a=i.result;try{a.createObjectStore(mf,{keyPath:eE})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const a=i.result;a.objectStoreNames.contains(mf)?t(a):(a.close(),await fI(),t(await Mm()))})})}async function $v(i,t,n){const a=Vf(i,!0).put({[eE]:t,value:n});return new lu(a).toPromise()}async function hI(i,t){const n=Vf(i,!1).get(t),a=await new lu(n).toPromise();return a===void 0?null:a.value}function Kv(i,t){const n=Vf(i,!0).delete(t);return new lu(n).toPromise()}const dI=800,mI=3;class nE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Mm(),this.db)}async _withRetries(t){let n=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(n++>mI)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return JT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=kf._getInstance(uI()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await oI(),!this.activeServiceWorker)return;this.sender=new aI(this.activeServiceWorker);const a=await this.sender._send("ping",{},800);a&&!((t=a[0])===null||t===void 0)&&t.fulfilled&&!((n=a[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||lI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Mm();return await $v(t,df,"1"),await Kv(t,df),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>$v(a,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(a=>hI(a,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Kv(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=Vf(o,!1).getAll();return new lu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),dI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}nE.type="LOCAL";const pI=nE;new au(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iE(i,t){return t?Xi(t):(Tt(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp extends hp{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ao(t,this._buildIdpRequest())}_linkToIdToken(t,n){return ao(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return ao(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function gI(i){return KT(i.auth,new gp(i),i.bypassAuthState)}function yI(i){const{auth:t,user:n}=i;return Tt(n,t,"internal-error"),K1(n,new gp(i),i.bypassAuthState)}async function _I(i){const{auth:t,user:n}=i;return Tt(n,t,"internal-error"),$1(n,new gp(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(t,n,a,o,u=!1){this.auth=t,this.resolver=a,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:a,postBody:o,tenantId:u,error:h,type:m}=t;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:n,sessionId:a,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return gI;case"linkViaPopup":case"linkViaRedirect":return _I;case"reauthViaPopup":case"reauthViaRedirect":return yI;default:Ln(this.auth,"internal-error")}}resolve(t){tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI=new au(2e3,1e4);async function aE(i,t,n){if(vn(i.app))return Promise.reject($n(i,"operation-not-supported-in-this-environment"));const a=ta(i);JR(i,t,mp);const o=iE(a,n);return new Ba(a,"signInViaPopup",t,o).executeNotNull()}class Ba extends rE{constructor(t,n,a,o,u){super(t,n,o,u),this.provider=a,this.authWindow=null,this.pollId=null,Ba.currentPopupAction&&Ba.currentPopupAction.cancel(),Ba.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Tt(t,this.auth,"internal-error"),t}async onExecution(){tr(this.filter.length===1,"Popup operations only handle one event");const t=pp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject($n(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject($n(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ba.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,a;if(!((a=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||a===void 0)&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject($n(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,vI.get())};t()}}Ba.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI="pendingRedirect",Wc=new Map;class EI extends rE{constructor(t,n,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}async execute(){let t=Wc.get(this.auth._key());if(!t){try{const a=await bI(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(n){t=()=>Promise.reject(n)}Wc.set(this.auth._key(),t)}return this.bypassAuthState||Wc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function bI(i,t){const n=SI(t),a=AI(i);if(!await a._isAvailable())return!1;const o=await a._get(n)==="true";return await a._remove(n),o}function wI(i,t){Wc.set(i._key(),t)}function AI(i){return Xi(i._redirectPersistence)}function SI(i){return Xc(TI,i.config.apiKey,i.name)}async function RI(i,t,n=!1){if(vn(i.app))return Promise.reject(Wi(i));const a=ta(i),o=iE(a,t),h=await new EI(a,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await a._persistUserIfCurrent(h.user),await a._setRedirectUser(null,t)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II=10*60*1e3;class CI{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(n=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!DI(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var a;if(t.error&&!sE(t)){const o=((a=t.error.code)===null||a===void 0?void 0:a.split("auth/")[1])||"internal-error";n.onError($n(this.auth,o))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const a=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=II&&this.cachedEventUids.clear(),this.cachedEventUids.has(Qv(t))}saveEventToCache(t){this.cachedEventUids.add(Qv(t)),this.lastProcessedEventTime=Date.now()}}function Qv(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(t=>t).join("-")}function sE({type:i,error:t}){return i==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function DI(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sE(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OI(i,t={}){return Jr(i,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xI=/^https?/;async function MI(i){if(i.config.emulator)return;const{authorizedDomains:t}=await OI(i);for(const n of t)try{if(kI(n))return}catch{}Ln(i,"unauthorized-domain")}function kI(i){const t=Om(),{protocol:n,hostname:a}=new URL(t);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&a===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===a}if(!xI.test(n))return!1;if(NI.test(i))return a===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VI=new au(3e4,6e4);function Yv(){const i=mi().___jsl;if(i!=null&&i.H){for(const t of Object.keys(i.H))if(i.H[t].r=i.H[t].r||[],i.H[t].L=i.H[t].L||[],i.H[t].r=[...i.H[t].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function PI(i){return new Promise((t,n)=>{var a,o,u;function h(){Yv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Yv(),n($n(i,"network-request-failed"))},timeout:VI.get()})}if(!((o=(a=mi().gapi)===null||a===void 0?void 0:a.iframes)===null||o===void 0)&&o.Iframe)t(gapi.iframes.getContext());else if(!((u=mi().gapi)===null||u===void 0)&&u.load)h();else{const m=C1("iframefcb");return mi()[m]=()=>{gapi.load?h():n($n(i,"network-request-failed"))},qT(`${I1()}?onload=${m}`).catch(p=>n(p))}}).catch(t=>{throw Zc=null,t})}let Zc=null;function LI(i){return Zc=Zc||PI(i),Zc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI=new au(5e3,15e3),zI="__/auth/iframe",BI="emulator/auth/iframe",jI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},HI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qI(i){const t=i.config;Tt(t.authDomain,i,"auth-domain-config-required");const n=t.emulator?up(t,BI):`https://${i.config.authDomain}/${zI}`,a={apiKey:t.apiKey,appName:i.name,v:yo},o=HI.get(i.config.apiHost);o&&(a.eid=o);const u=i._getFrameworks();return u.length&&(a.fw=u.join(",")),`${n}?${ru(a).slice(1)}`}async function FI(i){const t=await LI(i),n=mi().gapi;return Tt(n,i,"internal-error"),t.open({where:document.body,url:qI(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jI,dontclear:!0},a=>new Promise(async(o,u)=>{await a.restyle({setHideOnLeave:!1});const h=$n(i,"network-request-failed"),m=mi().setTimeout(()=>{u(h)},UI.get());function p(){mi().clearTimeout(m),o(a)}a.ping(p).then(p,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$I=500,KI=600,QI="_blank",YI="http://localhost";class Xv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function XI(i,t,n,a=$I,o=KI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-a)/2,0).toString();let m="";const p=Object.assign(Object.assign({},GI),{width:a.toString(),height:o.toString(),top:u,left:h}),g=We().toLowerCase();n&&(m=PT(g)?QI:n),kT(g)&&(t=t||YI,p.scrollbars="yes");const T=Object.entries(p).reduce((R,[M,V])=>`${R}${M}=${V},`,"");if(_1(g)&&m!=="_self")return WI(t||"",m),new Xv(null);const w=window.open(t||"",m,T);Tt(w,i,"popup-blocked");try{w.focus()}catch{}return new Xv(w)}function WI(i,t){const n=document.createElement("a");n.href=i,n.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI="__/auth/handler",JI="emulator/auth/handler",tC=encodeURIComponent("fac");async function Wv(i,t,n,a,o,u){Tt(i.config.authDomain,i,"auth-domain-config-required"),Tt(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:a,v:yo,eventId:o};if(t instanceof mp){t.setDefaultLanguage(i.languageCode),h.providerId=t.providerId||"",PS(t.getCustomParameters())||(h.customParameters=JSON.stringify(t.getCustomParameters()));for(const[T,w]of Object.entries({}))h[T]=w}if(t instanceof ou){const T=t.getScopes().filter(w=>w!=="");T.length>0&&(h.scopes=T.join(","))}i.tenantId&&(h.tid=i.tenantId);const m=h;for(const T of Object.keys(m))m[T]===void 0&&delete m[T];const p=await i._getAppCheckToken(),g=p?`#${tC}=${encodeURIComponent(p)}`:"";return`${eC(i)}?${ru(m).slice(1)}${g}`}function eC({config:i}){return i.emulator?up(i,JI):`https://${i.authDomain}/${ZI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pm="webStorageSupport";class nC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ZT,this._completeRedirectFn=RI,this._overrideRedirectResult=wI}async _openPopup(t,n,a,o){var u;tr((u=this.eventManagers[t._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const h=await Wv(t,n,a,Om(),o);return XI(t,h,pp())}async _openRedirect(t,n,a,o){await this._originValidation(t);const u=await Wv(t,n,a,Om(),o);return sI(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(tr(u,"If manager is not set, promise should be"),u)}const a=this.initAndGetManager(t);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}async initAndGetManager(t){const n=await FI(t),a=new CI(t);return n.register("authEvent",o=>(Tt(o==null?void 0:o.authEvent,t,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=n,a}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(pm,{type:pm},o=>{var u;const h=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[pm];h!==void 0&&n(!!h),Ln(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=MI(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return jT()||VT()||fp()}}const iC=nC;var Zv="@firebase/auth",Jv="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(a=>{t((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aC(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function sC(i){_i(new Kn("auth",(t,{options:n})=>{const a=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=a.options;Tt(h&&!h.includes(":"),"invalid-api-key",{appName:a.name});const p={apiKey:h,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:HT(i)},g=new A1(a,o,u,p);return k1(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,a)=>{t.getProvider("auth-internal").initialize()})),_i(new Kn("auth-internal",t=>{const n=ta(t.getProvider("auth").getImmediate());return(a=>new rC(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Pn(Zv,Jv,aC(i)),Pn(Zv,Jv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC=5*60,lC=yT("authIdTokenMaxAge")||oC;let t0=null;const uC=i=>async t=>{const n=t&&await t.getIdTokenResult(),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>lC)return;const o=n==null?void 0:n.token;t0!==o&&(t0=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function cC(i=ap()){const t=Ja(i,"auth");if(t.isInitialized())return t.getImmediate();const n=M1(i,{popupRedirectResolver:iC,persistence:[pI,iI,ZT]}),a=yT("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(a,location.origin);if(location.origin===u.origin){const h=uC(u.toString());Z1(n,h,()=>h(n.currentUser)),W1(n,m=>h(m))}}const o=pT("auth");return o&&V1(n,`http://${o}`),n}function fC(){var i,t;return(t=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&t!==void 0?t:document}S1({loadJS(i){return new Promise((t,n)=>{const a=document.createElement("script");a.setAttribute("src",i),a.onload=t,a.onerror=o=>{const u=$n("internal-error");u.customData=o,n(u)},a.type="text/javascript",a.charset="UTF-8",fC().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});sC("Browser");var hC="firebase",dC="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pn(hC,dC,"app");const oE="@firebase/installations",yp="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE=1e4,uE=`w:${yp}`,cE="FIS_v2",mC="https://firebaseinstallations.googleapis.com/v1",pC=60*60*1e3,gC="installations",yC="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},$a=new Za(gC,yC,_C);function fE(i){return i instanceof Yn&&i.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hE({projectId:i}){return`${mC}/projects/${i}/installations`}function dE(i){return{token:i.token,requestStatus:2,expiresIn:TC(i.expiresIn),creationTime:Date.now()}}async function mE(i,t){const a=(await t.json()).error;return $a.create("request-failed",{requestName:i,serverCode:a.code,serverMessage:a.message,serverStatus:a.status})}function pE({apiKey:i}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i})}function vC(i,{refreshToken:t}){const n=pE(i);return n.append("Authorization",EC(t)),n}async function gE(i){const t=await i();return t.status>=500&&t.status<600?i():t}function TC(i){return Number(i.replace("s","000"))}function EC(i){return`${cE} ${i}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bC({appConfig:i,heartbeatServiceProvider:t},{fid:n}){const a=hE(i),o=pE(i),u=t.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const h={fid:n,authVersion:cE,appId:i.appId,sdkVersion:uE},m={method:"POST",headers:o,body:JSON.stringify(h)},p=await gE(()=>fetch(a,m));if(p.ok){const g=await p.json();return{fid:g.fid||n,registrationStatus:2,refreshToken:g.refreshToken,authToken:dE(g.authToken)}}else throw await mE("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yE(i){return new Promise(t=>{setTimeout(t,i)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wC(i){return btoa(String.fromCharCode(...i)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC=/^[cdef][\w-]{21}$/,km="";function SC(){try{const i=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(i),i[0]=112+i[0]%16;const n=RC(i);return AC.test(n)?n:km}catch{return km}}function RC(i){return wC(i).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pf(i){return`${i.appName}!${i.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E=new Map;function vE(i,t){const n=Pf(i);TE(n,t),IC(n,t)}function TE(i,t){const n=_E.get(i);if(n)for(const a of n)a(t)}function IC(i,t){const n=CC();n&&n.postMessage({key:i,fid:t}),DC()}let ja=null;function CC(){return!ja&&"BroadcastChannel"in self&&(ja=new BroadcastChannel("[Firebase] FID Change"),ja.onmessage=i=>{TE(i.data.key,i.data.fid)}),ja}function DC(){_E.size===0&&ja&&(ja.close(),ja=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC="firebase-installations-database",NC=1,Ka="firebase-installations-store";let gm=null;function _p(){return gm||(gm=wT(OC,NC,{upgrade:(i,t)=>{switch(t){case 0:i.createObjectStore(Ka)}}})),gm}async function pf(i,t){const n=Pf(i),o=(await _p()).transaction(Ka,"readwrite"),u=o.objectStore(Ka),h=await u.get(n);return await u.put(t,n),await o.done,(!h||h.fid!==t.fid)&&vE(i,t.fid),t}async function EE(i){const t=Pf(i),a=(await _p()).transaction(Ka,"readwrite");await a.objectStore(Ka).delete(t),await a.done}async function Lf(i,t){const n=Pf(i),o=(await _p()).transaction(Ka,"readwrite"),u=o.objectStore(Ka),h=await u.get(n),m=t(h);return m===void 0?await u.delete(n):await u.put(m,n),await o.done,m&&(!h||h.fid!==m.fid)&&vE(i,m.fid),m}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vp(i){let t;const n=await Lf(i.appConfig,a=>{const o=xC(a),u=MC(i,o);return t=u.registrationPromise,u.installationEntry});return n.fid===km?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function xC(i){const t=i||{fid:SC(),registrationStatus:0};return bE(t)}function MC(i,t){if(t.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject($a.create("app-offline"));return{installationEntry:t,registrationPromise:o}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},a=kC(i,n);return{installationEntry:n,registrationPromise:a}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:VC(i)}:{installationEntry:t}}async function kC(i,t){try{const n=await bC(i,t);return pf(i.appConfig,n)}catch(n){throw fE(n)&&n.customData.serverCode===409?await EE(i.appConfig):await pf(i.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function VC(i){let t=await e0(i.appConfig);for(;t.registrationStatus===1;)await yE(100),t=await e0(i.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:a}=await vp(i);return a||n}return t}function e0(i){return Lf(i,t=>{if(!t)throw $a.create("installation-not-found");return bE(t)})}function bE(i){return PC(i)?{fid:i.fid,registrationStatus:0}:i}function PC(i){return i.registrationStatus===1&&i.registrationTime+lE<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LC({appConfig:i,heartbeatServiceProvider:t},n){const a=UC(i,n),o=vC(i,n),u=t.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const h={installation:{sdkVersion:uE,appId:i.appId}},m={method:"POST",headers:o,body:JSON.stringify(h)},p=await gE(()=>fetch(a,m));if(p.ok){const g=await p.json();return dE(g)}else throw await mE("Generate Auth Token",p)}function UC(i,{fid:t}){return`${hE(i)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tp(i,t=!1){let n;const a=await Lf(i.appConfig,u=>{if(!wE(u))throw $a.create("not-registered");const h=u.authToken;if(!t&&jC(h))return u;if(h.requestStatus===1)return n=zC(i,t),u;{if(!navigator.onLine)throw $a.create("app-offline");const m=qC(u);return n=BC(i,m),m}});return n?await n:a.authToken}async function zC(i,t){let n=await n0(i.appConfig);for(;n.authToken.requestStatus===1;)await yE(100),n=await n0(i.appConfig);const a=n.authToken;return a.requestStatus===0?Tp(i,t):a}function n0(i){return Lf(i,t=>{if(!wE(t))throw $a.create("not-registered");const n=t.authToken;return FC(n)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function BC(i,t){try{const n=await LC(i,t),a=Object.assign(Object.assign({},t),{authToken:n});return await pf(i.appConfig,a),n}catch(n){if(fE(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await EE(i.appConfig);else{const a=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await pf(i.appConfig,a)}throw n}}function wE(i){return i!==void 0&&i.registrationStatus===2}function jC(i){return i.requestStatus===2&&!HC(i)}function HC(i){const t=Date.now();return t<i.creationTime||i.creationTime+i.expiresIn<t+pC}function qC(i){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},i),{authToken:t})}function FC(i){return i.requestStatus===1&&i.requestTime+lE<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GC(i){const t=i,{installationEntry:n,registrationPromise:a}=await vp(t);return a?a.catch(console.error):Tp(t).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $C(i,t=!1){const n=i;return await KC(n),(await Tp(n,t)).token}async function KC(i){const{registrationPromise:t}=await vp(i);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QC(i){if(!i||!i.options)throw ym("App Configuration");if(!i.name)throw ym("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!i.options[n])throw ym(n);return{appName:i.name,projectId:i.options.projectId,apiKey:i.options.apiKey,appId:i.options.appId}}function ym(i){return $a.create("missing-app-config-values",{valueName:i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE="installations",YC="installations-internal",XC=i=>{const t=i.getProvider("app").getImmediate(),n=QC(t),a=Ja(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:a,_delete:()=>Promise.resolve()}},WC=i=>{const t=i.getProvider("app").getImmediate(),n=Ja(t,AE).getImmediate();return{getId:()=>GC(n),getToken:o=>$C(n,o)}};function ZC(){_i(new Kn(AE,XC,"PUBLIC")),_i(new Kn(YC,WC,"PRIVATE"))}ZC();Pn(oE,yp);Pn(oE,yp,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gf="analytics",JC="firebase_id",t2="origin",e2=60*1e3,n2="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ep="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const un=new xf("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Tn=new Za("analytics","Analytics",i2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r2(i){if(!i.startsWith(Ep)){const t=Tn.create("invalid-gtag-resource",{gtagURL:i});return un.warn(t.message),""}return i}function SE(i){return Promise.all(i.map(t=>t.catch(n=>n)))}function a2(i,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(i,t)),n}function s2(i,t){const n=a2("firebase-js-sdk-policy",{createScriptURL:r2}),a=document.createElement("script"),o=`${Ep}?l=${i}&id=${t}`;a.src=n?n==null?void 0:n.createScriptURL(o):o,a.async=!0,document.head.appendChild(a)}function o2(i){let t=[];return Array.isArray(window[i])?t=window[i]:window[i]=t,t}async function l2(i,t,n,a,o,u){const h=a[o];try{if(h)await t[h];else{const p=(await SE(n)).find(g=>g.measurementId===o);p&&await t[p.appId]}}catch(m){un.error(m)}i("config",o,u)}async function u2(i,t,n,a,o){try{let u=[];if(o&&o.send_to){let h=o.send_to;Array.isArray(h)||(h=[h]);const m=await SE(n);for(const p of h){const g=m.find(w=>w.measurementId===p),T=g&&t[g.appId];if(T)u.push(T);else{u=[];break}}}u.length===0&&(u=Object.values(t)),await Promise.all(u),i("event",a,o||{})}catch(u){un.error(u)}}function c2(i,t,n,a){async function o(u,...h){try{if(u==="event"){const[m,p]=h;await u2(i,t,n,m,p)}else if(u==="config"){const[m,p]=h;await l2(i,t,n,a,m,p)}else if(u==="consent"){const[m,p]=h;i("consent",m,p)}else if(u==="get"){const[m,p,g]=h;i("get",m,p,g)}else if(u==="set"){const[m]=h;i("set",m)}else i(u,...h)}catch(m){un.error(m)}}return o}function f2(i,t,n,a,o){let u=function(...h){window[a].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=c2(u,i,t,n),{gtagCore:u,wrappedGtag:window[o]}}function h2(i){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(Ep)&&n.src.includes(i))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2=30,m2=1e3;class p2{constructor(t={},n=m2){this.throttleMetadata=t,this.intervalMillis=n}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,n){this.throttleMetadata[t]=n}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const RE=new p2;function g2(i){return new Headers({Accept:"application/json","x-goog-api-key":i})}async function y2(i){var t;const{appId:n,apiKey:a}=i,o={method:"GET",headers:g2(a)},u=n2.replace("{app-id}",n),h=await fetch(u,o);if(h.status!==200&&h.status!==304){let m="";try{const p=await h.json();!((t=p.error)===null||t===void 0)&&t.message&&(m=p.error.message)}catch{}throw Tn.create("config-fetch-failed",{httpStatus:h.status,responseMessage:m})}return h.json()}async function _2(i,t=RE,n){const{appId:a,apiKey:o,measurementId:u}=i.options;if(!a)throw Tn.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:a};throw Tn.create("no-api-key")}const h=t.getThrottleMetadata(a)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new E2;return setTimeout(async()=>{m.abort()},e2),IE({appId:a,apiKey:o,measurementId:u},h,m,t)}async function IE(i,{throttleEndTimeMillis:t,backoffCount:n},a,o=RE){var u;const{appId:h,measurementId:m}=i;try{await v2(a,t)}catch(p){if(m)return un.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:h,measurementId:m};throw p}try{const p=await y2(i);return o.deleteThrottleMetadata(h),p}catch(p){const g=p;if(!T2(g)){if(o.deleteThrottleMetadata(h),m)return un.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${g==null?void 0:g.message}]`),{appId:h,measurementId:m};throw p}const T=Number((u=g==null?void 0:g.customData)===null||u===void 0?void 0:u.httpStatus)===503?Iv(n,o.intervalMillis,d2):Iv(n,o.intervalMillis),w={throttleEndTimeMillis:Date.now()+T,backoffCount:n+1};return o.setThrottleMetadata(h,w),un.debug(`Calling attemptFetch again in ${T} millis`),IE(i,w,a,o)}}function v2(i,t){return new Promise((n,a)=>{const o=Math.max(t-Date.now(),0),u=setTimeout(n,o);i.addEventListener(()=>{clearTimeout(u),a(Tn.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function T2(i){if(!(i instanceof Yn)||!i.customData)return!1;const t=Number(i.customData.httpStatus);return t===429||t===500||t===503||t===504}class E2{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function b2(i,t,n,a,o){if(o&&o.global){i("event",n,a);return}else{const u=await t,h=Object.assign(Object.assign({},a),{send_to:u});i("event",n,h)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w2(){if(vT())try{await TT()}catch(i){return un.warn(Tn.create("indexeddb-unavailable",{errorInfo:i==null?void 0:i.toString()}).message),!1}else return un.warn(Tn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function A2(i,t,n,a,o,u,h){var m;const p=_2(i);p.then(M=>{n[M.measurementId]=M.appId,i.options.measurementId&&M.measurementId!==i.options.measurementId&&un.warn(`The measurement ID in the local Firebase config (${i.options.measurementId}) does not match the measurement ID fetched from the server (${M.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(M=>un.error(M)),t.push(p);const g=w2().then(M=>{if(M)return a.getId()}),[T,w]=await Promise.all([p,g]);h2(u)||s2(u,T.measurementId),o("js",new Date);const R=(m=h==null?void 0:h.config)!==null&&m!==void 0?m:{};return R[t2]="firebase",R.update=!0,w!=null&&(R[JC]=w),o("config",T.measurementId,R),T.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(t){this.app=t}_delete(){return delete Hl[this.app.options.appId],Promise.resolve()}}let Hl={},i0=[];const r0={};let _m="dataLayer",R2="gtag",a0,CE,s0=!1;function I2(){const i=[];if(_T()&&i.push("This is a browser extension environment."),xS()||i.push("Cookies are not available."),i.length>0){const t=i.map((a,o)=>`(${o+1}) ${a}`).join(" "),n=Tn.create("invalid-analytics-context",{errorInfo:t});un.warn(n.message)}}function C2(i,t,n){I2();const a=i.options.appId;if(!a)throw Tn.create("no-app-id");if(!i.options.apiKey)if(i.options.measurementId)un.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${i.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Tn.create("no-api-key");if(Hl[a]!=null)throw Tn.create("already-exists",{id:a});if(!s0){o2(_m);const{wrappedGtag:u,gtagCore:h}=f2(Hl,i0,r0,_m,R2);CE=u,a0=h,s0=!0}return Hl[a]=A2(i,i0,r0,t,a0,_m,n),new S2(i)}function D2(i=ap()){i=Ze(i);const t=Ja(i,gf);return t.isInitialized()?t.getImmediate():O2(i)}function O2(i,t={}){const n=Ja(i,gf);if(n.isInitialized()){const o=n.getImmediate();if(Gr(t,n.getOptions()))return o;throw Tn.create("already-initialized")}return n.initialize({options:t})}function N2(i,t,n,a){i=Ze(i),b2(CE,Hl[i.app.options.appId],t,n,a).catch(o=>un.error(o))}const o0="@firebase/analytics",l0="0.10.12";function x2(){_i(new Kn(gf,(t,{options:n})=>{const a=t.getProvider("app").getImmediate(),o=t.getProvider("installations-internal").getImmediate();return C2(a,o,n)},"PUBLIC")),_i(new Kn("analytics-internal",i,"PRIVATE")),Pn(o0,l0),Pn(o0,l0,"esm2017");function i(t){try{const n=t.getProvider(gf).getImmediate();return{logEvent:(a,o,u)=>N2(n,a,o,u)}}catch(n){throw Tn.create("interop-component-reg-failed",{reason:n})}}}x2();var u0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Hr,DE;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(C,A){function S(){}S.prototype=A.prototype,C.D=A.prototype,C.prototype=new S,C.prototype.constructor=C,C.C=function(O,k,P){for(var D=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)D[Ee-2]=arguments[Ee];return A.prototype[k].apply(O,D)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(a,n),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,A,S){S||(S=0);var O=Array(16);if(typeof A=="string")for(var k=0;16>k;++k)O[k]=A.charCodeAt(S++)|A.charCodeAt(S++)<<8|A.charCodeAt(S++)<<16|A.charCodeAt(S++)<<24;else for(k=0;16>k;++k)O[k]=A[S++]|A[S++]<<8|A[S++]<<16|A[S++]<<24;A=C.g[0],S=C.g[1],k=C.g[2];var P=C.g[3],D=A+(P^S&(k^P))+O[0]+3614090360&4294967295;A=S+(D<<7&4294967295|D>>>25),D=P+(k^A&(S^k))+O[1]+3905402710&4294967295,P=A+(D<<12&4294967295|D>>>20),D=k+(S^P&(A^S))+O[2]+606105819&4294967295,k=P+(D<<17&4294967295|D>>>15),D=S+(A^k&(P^A))+O[3]+3250441966&4294967295,S=k+(D<<22&4294967295|D>>>10),D=A+(P^S&(k^P))+O[4]+4118548399&4294967295,A=S+(D<<7&4294967295|D>>>25),D=P+(k^A&(S^k))+O[5]+1200080426&4294967295,P=A+(D<<12&4294967295|D>>>20),D=k+(S^P&(A^S))+O[6]+2821735955&4294967295,k=P+(D<<17&4294967295|D>>>15),D=S+(A^k&(P^A))+O[7]+4249261313&4294967295,S=k+(D<<22&4294967295|D>>>10),D=A+(P^S&(k^P))+O[8]+1770035416&4294967295,A=S+(D<<7&4294967295|D>>>25),D=P+(k^A&(S^k))+O[9]+2336552879&4294967295,P=A+(D<<12&4294967295|D>>>20),D=k+(S^P&(A^S))+O[10]+4294925233&4294967295,k=P+(D<<17&4294967295|D>>>15),D=S+(A^k&(P^A))+O[11]+2304563134&4294967295,S=k+(D<<22&4294967295|D>>>10),D=A+(P^S&(k^P))+O[12]+1804603682&4294967295,A=S+(D<<7&4294967295|D>>>25),D=P+(k^A&(S^k))+O[13]+4254626195&4294967295,P=A+(D<<12&4294967295|D>>>20),D=k+(S^P&(A^S))+O[14]+2792965006&4294967295,k=P+(D<<17&4294967295|D>>>15),D=S+(A^k&(P^A))+O[15]+1236535329&4294967295,S=k+(D<<22&4294967295|D>>>10),D=A+(k^P&(S^k))+O[1]+4129170786&4294967295,A=S+(D<<5&4294967295|D>>>27),D=P+(S^k&(A^S))+O[6]+3225465664&4294967295,P=A+(D<<9&4294967295|D>>>23),D=k+(A^S&(P^A))+O[11]+643717713&4294967295,k=P+(D<<14&4294967295|D>>>18),D=S+(P^A&(k^P))+O[0]+3921069994&4294967295,S=k+(D<<20&4294967295|D>>>12),D=A+(k^P&(S^k))+O[5]+3593408605&4294967295,A=S+(D<<5&4294967295|D>>>27),D=P+(S^k&(A^S))+O[10]+38016083&4294967295,P=A+(D<<9&4294967295|D>>>23),D=k+(A^S&(P^A))+O[15]+3634488961&4294967295,k=P+(D<<14&4294967295|D>>>18),D=S+(P^A&(k^P))+O[4]+3889429448&4294967295,S=k+(D<<20&4294967295|D>>>12),D=A+(k^P&(S^k))+O[9]+568446438&4294967295,A=S+(D<<5&4294967295|D>>>27),D=P+(S^k&(A^S))+O[14]+3275163606&4294967295,P=A+(D<<9&4294967295|D>>>23),D=k+(A^S&(P^A))+O[3]+4107603335&4294967295,k=P+(D<<14&4294967295|D>>>18),D=S+(P^A&(k^P))+O[8]+1163531501&4294967295,S=k+(D<<20&4294967295|D>>>12),D=A+(k^P&(S^k))+O[13]+2850285829&4294967295,A=S+(D<<5&4294967295|D>>>27),D=P+(S^k&(A^S))+O[2]+4243563512&4294967295,P=A+(D<<9&4294967295|D>>>23),D=k+(A^S&(P^A))+O[7]+1735328473&4294967295,k=P+(D<<14&4294967295|D>>>18),D=S+(P^A&(k^P))+O[12]+2368359562&4294967295,S=k+(D<<20&4294967295|D>>>12),D=A+(S^k^P)+O[5]+4294588738&4294967295,A=S+(D<<4&4294967295|D>>>28),D=P+(A^S^k)+O[8]+2272392833&4294967295,P=A+(D<<11&4294967295|D>>>21),D=k+(P^A^S)+O[11]+1839030562&4294967295,k=P+(D<<16&4294967295|D>>>16),D=S+(k^P^A)+O[14]+4259657740&4294967295,S=k+(D<<23&4294967295|D>>>9),D=A+(S^k^P)+O[1]+2763975236&4294967295,A=S+(D<<4&4294967295|D>>>28),D=P+(A^S^k)+O[4]+1272893353&4294967295,P=A+(D<<11&4294967295|D>>>21),D=k+(P^A^S)+O[7]+4139469664&4294967295,k=P+(D<<16&4294967295|D>>>16),D=S+(k^P^A)+O[10]+3200236656&4294967295,S=k+(D<<23&4294967295|D>>>9),D=A+(S^k^P)+O[13]+681279174&4294967295,A=S+(D<<4&4294967295|D>>>28),D=P+(A^S^k)+O[0]+3936430074&4294967295,P=A+(D<<11&4294967295|D>>>21),D=k+(P^A^S)+O[3]+3572445317&4294967295,k=P+(D<<16&4294967295|D>>>16),D=S+(k^P^A)+O[6]+76029189&4294967295,S=k+(D<<23&4294967295|D>>>9),D=A+(S^k^P)+O[9]+3654602809&4294967295,A=S+(D<<4&4294967295|D>>>28),D=P+(A^S^k)+O[12]+3873151461&4294967295,P=A+(D<<11&4294967295|D>>>21),D=k+(P^A^S)+O[15]+530742520&4294967295,k=P+(D<<16&4294967295|D>>>16),D=S+(k^P^A)+O[2]+3299628645&4294967295,S=k+(D<<23&4294967295|D>>>9),D=A+(k^(S|~P))+O[0]+4096336452&4294967295,A=S+(D<<6&4294967295|D>>>26),D=P+(S^(A|~k))+O[7]+1126891415&4294967295,P=A+(D<<10&4294967295|D>>>22),D=k+(A^(P|~S))+O[14]+2878612391&4294967295,k=P+(D<<15&4294967295|D>>>17),D=S+(P^(k|~A))+O[5]+4237533241&4294967295,S=k+(D<<21&4294967295|D>>>11),D=A+(k^(S|~P))+O[12]+1700485571&4294967295,A=S+(D<<6&4294967295|D>>>26),D=P+(S^(A|~k))+O[3]+2399980690&4294967295,P=A+(D<<10&4294967295|D>>>22),D=k+(A^(P|~S))+O[10]+4293915773&4294967295,k=P+(D<<15&4294967295|D>>>17),D=S+(P^(k|~A))+O[1]+2240044497&4294967295,S=k+(D<<21&4294967295|D>>>11),D=A+(k^(S|~P))+O[8]+1873313359&4294967295,A=S+(D<<6&4294967295|D>>>26),D=P+(S^(A|~k))+O[15]+4264355552&4294967295,P=A+(D<<10&4294967295|D>>>22),D=k+(A^(P|~S))+O[6]+2734768916&4294967295,k=P+(D<<15&4294967295|D>>>17),D=S+(P^(k|~A))+O[13]+1309151649&4294967295,S=k+(D<<21&4294967295|D>>>11),D=A+(k^(S|~P))+O[4]+4149444226&4294967295,A=S+(D<<6&4294967295|D>>>26),D=P+(S^(A|~k))+O[11]+3174756917&4294967295,P=A+(D<<10&4294967295|D>>>22),D=k+(A^(P|~S))+O[2]+718787259&4294967295,k=P+(D<<15&4294967295|D>>>17),D=S+(P^(k|~A))+O[9]+3951481745&4294967295,C.g[0]=C.g[0]+A&4294967295,C.g[1]=C.g[1]+(k+(D<<21&4294967295|D>>>11))&4294967295,C.g[2]=C.g[2]+k&4294967295,C.g[3]=C.g[3]+P&4294967295}a.prototype.u=function(C,A){A===void 0&&(A=C.length);for(var S=A-this.blockSize,O=this.B,k=this.h,P=0;P<A;){if(k==0)for(;P<=S;)o(this,C,P),P+=this.blockSize;if(typeof C=="string"){for(;P<A;)if(O[k++]=C.charCodeAt(P++),k==this.blockSize){o(this,O),k=0;break}}else for(;P<A;)if(O[k++]=C[P++],k==this.blockSize){o(this,O),k=0;break}}this.h=k,this.o+=A},a.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var A=1;A<C.length-8;++A)C[A]=0;var S=8*this.o;for(A=C.length-8;A<C.length;++A)C[A]=S&255,S/=256;for(this.u(C),C=Array(16),A=S=0;4>A;++A)for(var O=0;32>O;O+=8)C[S++]=this.g[A]>>>O&255;return C};function u(C,A){var S=m;return Object.prototype.hasOwnProperty.call(S,C)?S[C]:S[C]=A(C)}function h(C,A){this.h=A;for(var S=[],O=!0,k=C.length-1;0<=k;k--){var P=C[k]|0;O&&P==A||(S[k]=P,O=!1)}this.g=S}var m={};function p(C){return-128<=C&&128>C?u(C,function(A){return new h([A|0],0>A?-1:0)}):new h([C|0],0>C?-1:0)}function g(C){if(isNaN(C)||!isFinite(C))return w;if(0>C)return U(g(-C));for(var A=[],S=1,O=0;C>=S;O++)A[O]=C/S|0,S*=4294967296;return new h(A,0)}function T(C,A){if(C.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(C.charAt(0)=="-")return U(T(C.substring(1),A));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=g(Math.pow(A,8)),O=w,k=0;k<C.length;k+=8){var P=Math.min(8,C.length-k),D=parseInt(C.substring(k,k+P),A);8>P?(P=g(Math.pow(A,P)),O=O.j(P).add(g(D))):(O=O.j(S),O=O.add(g(D)))}return O}var w=p(0),R=p(1),M=p(16777216);i=h.prototype,i.m=function(){if(K(this))return-U(this).m();for(var C=0,A=1,S=0;S<this.g.length;S++){var O=this.i(S);C+=(0<=O?O:4294967296+O)*A,A*=4294967296}return C},i.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(V(this))return"0";if(K(this))return"-"+U(this).toString(C);for(var A=g(Math.pow(C,6)),S=this,O="";;){var k=rt(S,A).g;S=$(S,k.j(A));var P=((0<S.g.length?S.g[0]:S.h)>>>0).toString(C);if(S=k,V(S))return P+O;for(;6>P.length;)P="0"+P;O=P+O}},i.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function V(C){if(C.h!=0)return!1;for(var A=0;A<C.g.length;A++)if(C.g[A]!=0)return!1;return!0}function K(C){return C.h==-1}i.l=function(C){return C=$(this,C),K(C)?-1:V(C)?0:1};function U(C){for(var A=C.g.length,S=[],O=0;O<A;O++)S[O]=~C.g[O];return new h(S,~C.h).add(R)}i.abs=function(){return K(this)?U(this):this},i.add=function(C){for(var A=Math.max(this.g.length,C.g.length),S=[],O=0,k=0;k<=A;k++){var P=O+(this.i(k)&65535)+(C.i(k)&65535),D=(P>>>16)+(this.i(k)>>>16)+(C.i(k)>>>16);O=D>>>16,P&=65535,D&=65535,S[k]=D<<16|P}return new h(S,S[S.length-1]&-2147483648?-1:0)};function $(C,A){return C.add(U(A))}i.j=function(C){if(V(this)||V(C))return w;if(K(this))return K(C)?U(this).j(U(C)):U(U(this).j(C));if(K(C))return U(this.j(U(C)));if(0>this.l(M)&&0>C.l(M))return g(this.m()*C.m());for(var A=this.g.length+C.g.length,S=[],O=0;O<2*A;O++)S[O]=0;for(O=0;O<this.g.length;O++)for(var k=0;k<C.g.length;k++){var P=this.i(O)>>>16,D=this.i(O)&65535,Ee=C.i(k)>>>16,ee=C.i(k)&65535;S[2*O+2*k]+=D*ee,Y(S,2*O+2*k),S[2*O+2*k+1]+=P*ee,Y(S,2*O+2*k+1),S[2*O+2*k+1]+=D*Ee,Y(S,2*O+2*k+1),S[2*O+2*k+2]+=P*Ee,Y(S,2*O+2*k+2)}for(O=0;O<A;O++)S[O]=S[2*O+1]<<16|S[2*O];for(O=A;O<2*A;O++)S[O]=0;return new h(S,0)};function Y(C,A){for(;(C[A]&65535)!=C[A];)C[A+1]+=C[A]>>>16,C[A]&=65535,A++}function G(C,A){this.g=C,this.h=A}function rt(C,A){if(V(A))throw Error("division by zero");if(V(C))return new G(w,w);if(K(C))return A=rt(U(C),A),new G(U(A.g),U(A.h));if(K(A))return A=rt(C,U(A)),new G(U(A.g),A.h);if(30<C.g.length){if(K(C)||K(A))throw Error("slowDivide_ only works with positive integers.");for(var S=R,O=A;0>=O.l(C);)S=lt(S),O=lt(O);var k=dt(S,1),P=dt(O,1);for(O=dt(O,2),S=dt(S,2);!V(O);){var D=P.add(O);0>=D.l(C)&&(k=k.add(S),P=D),O=dt(O,1),S=dt(S,1)}return A=$(C,k.j(A)),new G(k,A)}for(k=w;0<=C.l(A);){for(S=Math.max(1,Math.floor(C.m()/A.m())),O=Math.ceil(Math.log(S)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),P=g(S),D=P.j(A);K(D)||0<D.l(C);)S-=O,P=g(S),D=P.j(A);V(P)&&(P=R),k=k.add(P),C=$(C,D)}return new G(k,C)}i.A=function(C){return rt(this,C).h},i.and=function(C){for(var A=Math.max(this.g.length,C.g.length),S=[],O=0;O<A;O++)S[O]=this.i(O)&C.i(O);return new h(S,this.h&C.h)},i.or=function(C){for(var A=Math.max(this.g.length,C.g.length),S=[],O=0;O<A;O++)S[O]=this.i(O)|C.i(O);return new h(S,this.h|C.h)},i.xor=function(C){for(var A=Math.max(this.g.length,C.g.length),S=[],O=0;O<A;O++)S[O]=this.i(O)^C.i(O);return new h(S,this.h^C.h)};function lt(C){for(var A=C.g.length+1,S=[],O=0;O<A;O++)S[O]=C.i(O)<<1|C.i(O-1)>>>31;return new h(S,C.h)}function dt(C,A){var S=A>>5;A%=32;for(var O=C.g.length-S,k=[],P=0;P<O;P++)k[P]=0<A?C.i(P+S)>>>A|C.i(P+S+1)<<32-A:C.i(P+S);return new h(k,C.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,DE=a,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=T,Hr=h}).apply(typeof u0<"u"?u0:typeof self<"u"?self:typeof window<"u"?window:{});var qc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var OE,Ul,NE,Jc,Vm,xE,ME,kE;(function(){var i,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof qc=="object"&&qc];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=n(this);function o(c,y){if(y)t:{var _=a;c=c.split(".");for(var b=0;b<c.length-1;b++){var z=c[b];if(!(z in _))break t;_=_[z]}c=c[c.length-1],b=_[c],y=y(b),y!=b&&y!=null&&t(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,b=!1,z={next:function(){if(!b&&_<c.length){var Q=_++;return{value:y(Q,c[Q]),done:!1}}return b=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function T(c,y,_){return c.call.apply(c.bind,arguments)}function w(c,y,_){if(!c)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,b),c.apply(y,z)}}return function(){return c.apply(y,arguments)}}function R(c,y,_){return R=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:w,R.apply(null,arguments)}function M(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var b=_.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function V(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(b,z,Q){for(var st=Array(arguments.length-2),Vt=2;Vt<arguments.length;Vt++)st[Vt-2]=arguments[Vt];return y.prototype[z].apply(b,st)}}function K(c){const y=c.length;if(0<y){const _=Array(y);for(let b=0;b<y;b++)_[b]=c[b];return _}return[]}function U(c,y){for(let _=1;_<arguments.length;_++){const b=arguments[_];if(p(b)){const z=c.length||0,Q=b.length||0;c.length=z+Q;for(let st=0;st<Q;st++)c[z+st]=b[st]}else c.push(b)}}class ${constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function Y(c){return/^[\s\xa0]*$/.test(c)}function G(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function rt(c){return rt[" "](c),c}rt[" "]=function(){};var lt=G().indexOf("Gecko")!=-1&&!(G().toLowerCase().indexOf("webkit")!=-1&&G().indexOf("Edge")==-1)&&!(G().indexOf("Trident")!=-1||G().indexOf("MSIE")!=-1)&&G().indexOf("Edge")==-1;function dt(c,y,_){for(const b in c)y.call(_,c[b],b,c)}function C(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function A(c){const y={};for(const _ in c)y[_]=c[_];return y}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(c,y){let _,b;for(let z=1;z<arguments.length;z++){b=arguments[z];for(_ in b)c[_]=b[_];for(let Q=0;Q<S.length;Q++)_=S[Q],Object.prototype.hasOwnProperty.call(b,_)&&(c[_]=b[_])}}function k(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function P(c){m.setTimeout(()=>{throw c},0)}function D(){var c=jt;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Ee{constructor(){this.h=this.g=null}add(y,_){const b=ee.get();b.set(y,_),this.h?this.h.next=b:this.g=b,this.h=b}}var ee=new $(()=>new X,c=>c.reset());class X{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ot,ht=!1,jt=new Ee,N=()=>{const c=m.Promise.resolve(void 0);ot=()=>{c.then(et)}};var et=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(_){P(_)}var y=ee;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}ht=!1};function ut(){this.s=this.s,this.C=this.C}ut.prototype.s=!1,ut.prototype.ma=function(){this.s||(this.s=!0,this.N())},ut.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function at(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}at.prototype.h=function(){this.defaultPrevented=!0};var pt=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,y),m.removeEventListener("test",_,y)}catch{}return c}();function Dt(c,y){if(at.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(lt){t:{try{rt(y.nodeName);var z=!0;break t}catch{}z=!1}z||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:wt[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Dt.aa.h.call(this)}}V(Dt,at);var wt={2:"touch",3:"pen",4:"mouse"};Dt.prototype.h=function(){Dt.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Oe="closure_listenable_"+(1e6*Math.random()|0),Jt=0;function Xn(c,y,_,b,z){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!b,this.ha=z,this.key=++Jt,this.da=this.fa=!1}function sr(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function bi(c){this.src=c,this.g={},this.h=0}bi.prototype.add=function(c,y,_,b,z){var Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);var st=ia(c,y,b,z);return-1<st?(y=c[st],_||(y.fa=!1)):(y=new Xn(y,this.src,Q,!!b,z),y.fa=_,c.push(y)),y};function na(c,y){var _=y.type;if(_ in c.g){var b=c.g[_],z=Array.prototype.indexOf.call(b,y,void 0),Q;(Q=0<=z)&&Array.prototype.splice.call(b,z,1),Q&&(sr(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function ia(c,y,_,b){for(var z=0;z<c.length;++z){var Q=c[z];if(!Q.da&&Q.listener==y&&Q.capture==!!_&&Q.ha==b)return z}return-1}var ra="closure_lm_"+(1e6*Math.random()|0),Ao={};function _u(c,y,_,b,z){if(Array.isArray(y)){for(var Q=0;Q<y.length;Q++)_u(c,y[Q],_,b,z);return null}return _=vu(_),c&&c[Oe]?c.K(y,_,g(b)?!!b.capture:!1,z):bn(c,y,_,!1,b,z)}function bn(c,y,_,b,z,Q){if(!y)throw Error("Invalid event type");var st=g(z)?!!z.capture:!!z,Vt=ss(c);if(Vt||(c[ra]=Vt=new bi(c)),_=Vt.add(y,_,b,st,Q),_.proxy)return _;if(b=ih(),_.proxy=b,b.src=c,b.listener=_,c.addEventListener)pt||(z=st),z===void 0&&(z=!1),c.addEventListener(y.toString(),b,z);else if(c.attachEvent)c.attachEvent(aa(y.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return _}function ih(){function c(_){return y.call(c.src,c.listener,_)}const y=rh;return c}function So(c,y,_,b,z){if(Array.isArray(y))for(var Q=0;Q<y.length;Q++)So(c,y[Q],_,b,z);else b=g(b)?!!b.capture:!!b,_=vu(_),c&&c[Oe]?(c=c.i,y=String(y).toString(),y in c.g&&(Q=c.g[y],_=ia(Q,_,b,z),-1<_&&(sr(Q[_]),Array.prototype.splice.call(Q,_,1),Q.length==0&&(delete c.g[y],c.h--)))):c&&(c=ss(c))&&(y=c.g[y.toString()],c=-1,y&&(c=ia(y,_,b,z)),(_=-1<c?y[c]:null)&&as(_))}function as(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Oe])na(y.i,c);else{var _=c.type,b=c.proxy;y.removeEventListener?y.removeEventListener(_,b,c.capture):y.detachEvent?y.detachEvent(aa(_),b):y.addListener&&y.removeListener&&y.removeListener(b),(_=ss(y))?(na(_,c),_.h==0&&(_.src=null,y[ra]=null)):sr(c)}}}function aa(c){return c in Ao?Ao[c]:Ao[c]="on"+c}function rh(c,y){if(c.da)c=!0;else{y=new Dt(y,this);var _=c.listener,b=c.ha||c.src;c.fa&&as(c),c=_.call(b,y)}return c}function ss(c){return c=c[ra],c instanceof bi?c:null}var Ro="__closure_events_fn_"+(1e9*Math.random()>>>0);function vu(c){return typeof c=="function"?c:(c[Ro]||(c[Ro]=function(y){return c.handleEvent(y)}),c[Ro])}function ue(){ut.call(this),this.i=new bi(this),this.M=this,this.F=null}V(ue,ut),ue.prototype[Oe]=!0,ue.prototype.removeEventListener=function(c,y,_,b){So(this,c,y,_,b)};function Gt(c,y){var _,b=c.F;if(b)for(_=[];b;b=b.F)_.push(b);if(c=c.M,b=y.type||y,typeof y=="string")y=new at(y,c);else if(y instanceof at)y.target=y.target||c;else{var z=y;y=new at(b,c),O(y,z)}if(z=!0,_)for(var Q=_.length-1;0<=Q;Q--){var st=y.g=_[Q];z=cn(st,b,!0,y)&&z}if(st=y.g=c,z=cn(st,b,!0,y)&&z,z=cn(st,b,!1,y)&&z,_)for(Q=0;Q<_.length;Q++)st=y.g=_[Q],z=cn(st,b,!1,y)&&z}ue.prototype.N=function(){if(ue.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],b=0;b<_.length;b++)sr(_[b]);delete c.g[y],c.h--}}this.F=null},ue.prototype.K=function(c,y,_,b){return this.i.add(String(c),y,!1,_,b)},ue.prototype.L=function(c,y,_,b){return this.i.add(String(c),y,!0,_,b)};function cn(c,y,_,b){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var z=!0,Q=0;Q<y.length;++Q){var st=y[Q];if(st&&!st.da&&st.capture==_){var Vt=st.listener,we=st.ha||st.src;st.fa&&na(c.i,st),z=Vt.call(we,b)!==!1&&z}}return z&&!b.defaultPrevented}function Ge(c,y,_){if(typeof c=="function")_&&(c=R(c,_));else if(c&&typeof c.handleEvent=="function")c=R(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function Tu(c){c.g=Ge(()=>{c.g=null,c.i&&(c.i=!1,Tu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class ah extends ut{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Tu(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function sa(c){ut.call(this),this.h=c,this.g={}}V(sa,ut);var oa=[];function la(c){dt(c.g,function(y,_){this.g.hasOwnProperty(_)&&as(y)},c),c.g={}}sa.prototype.N=function(){sa.aa.N.call(this),la(this)},sa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Un=m.JSON.stringify,os=m.JSON.parse,ua=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Io(){}Io.prototype.h=null;function Co(c){return c.h||(c.h=c.i())}function Do(){}var wi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ai(){at.call(this,"d")}V(Ai,at);function Oo(){at.call(this,"c")}V(Oo,at);var Wn={},No=null;function or(){return No=No||new ue}Wn.La="serverreachability";function ls(c){at.call(this,Wn.La,c)}V(ls,at);function lr(c){const y=or();Gt(y,new ls(y))}Wn.STAT_EVENT="statevent";function Eu(c,y){at.call(this,Wn.STAT_EVENT,c),this.stat=y}V(Eu,at);function ie(c){const y=or();Gt(y,new Eu(y,c))}Wn.Ma="timingevent";function be(c,y){at.call(this,Wn.Ma,c),this.size=y}V(be,at);function ge(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function wn(){this.g=!0}wn.prototype.xa=function(){this.g=!1};function xo(c,y,_,b,z,Q){c.info(function(){if(c.g)if(Q)for(var st="",Vt=Q.split("&"),we=0;we<Vt.length;we++){var Pt=Vt[we].split("=");if(1<Pt.length){var xe=Pt[0];Pt=Pt[1];var Ae=xe.split("_");st=2<=Ae.length&&Ae[1]=="type"?st+(xe+"="+Pt+"&"):st+(xe+"=redacted&")}}else st=null;else st=Q;return"XMLHTTP REQ ("+b+") [attempt "+z+"]: "+y+`
`+_+`
`+st})}function sh(c,y,_,b,z,Q,st){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+z+"]: "+y+`
`+_+`
`+Q+" "+st})}function ur(c,y,_,b){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+ca(c,_)+(b?" "+b:"")})}function bu(c,y){c.info(function(){return"TIMEOUT: "+y})}wn.prototype.info=function(){};function ca(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var b=_[c];if(!(2>b.length)){var z=b[1];if(Array.isArray(z)&&!(1>z.length)){var Q=z[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var st=1;st<z.length;st++)z[st]=""}}}}return Un(_)}catch{return y}}var cr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Si={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Zn;function Jn(){}V(Jn,Io),Jn.prototype.g=function(){return new XMLHttpRequest},Jn.prototype.i=function(){return{}},Zn=new Jn;function Je(c,y,_,b){this.j=c,this.i=y,this.l=_,this.R=b||1,this.U=new sa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new he}function he(){this.i=null,this.g="",this.h=!1}var Mo={},us={};function zn(c,y,_){c.L=1,c.v=pa(fn(y)),c.m=_,c.P=!0,Ri(c,null)}function Ri(c,y){c.F=Date.now(),fa(c),c.A=fn(c.v);var _=c.A,b=c.R;Array.isArray(b)||(b=[String(b)]),zo(_.i,"t",b),c.C=0,_=c.j.J,c.h=new he,c.g=Uu(c.j,_?y:null,!c.m),0<c.O&&(c.M=new ah(R(c.Y,c,c.g),c.O)),y=c.U,_=c.g,b=c.ca;var z="readystatechange";Array.isArray(z)||(z&&(oa[0]=z.toString()),z=oa);for(var Q=0;Q<z.length;Q++){var st=_u(_,z[Q],b||y.handleEvent,!1,y.h||y);if(!st)break;y.g[st.key]=st}y=c.H?A(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),lr(),xo(c.i,c.u,c.A,c.l,c.R,c.m)}Je.prototype.ca=function(c){c=c.target;const y=this.M;y&&In(c)==3?y.j():this.Y(c)},Je.prototype.Y=function(c){try{if(c==this.g)t:{const Ae=In(this.g);var y=this.g.Ba();const ki=this.g.Z();if(!(3>Ae)&&(Ae!=3||this.g&&(this.h.h||this.g.oa()||Ou(this.g)))){this.J||Ae!=4||y==7||(y==8||0>=ki?lr(3):lr(2)),fr(this);var _=this.g.Z();this.X=_;e:if(wu(this)){var b=Ou(this.g);c="";var z=b.length,Q=In(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Le(this),ti(this);var st="";break e}this.h.i=new m.TextDecoder}for(y=0;y<z;y++)this.h.h=!0,c+=this.h.i.decode(b[y],{stream:!(Q&&y==z-1)});b.length=0,this.h.g+=c,this.C=0,st=this.h.g}else st=this.g.oa();if(this.o=_==200,sh(this.i,this.u,this.A,this.l,this.R,Ae,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Vt,we=this.g;if((Vt=we.g?we.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Y(Vt)){var Pt=Vt;break e}}Pt=null}if(_=Pt)ur(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ha(this,_);else{this.o=!1,this.s=3,ie(12),Le(this),ti(this);break t}}if(this.P){_=!0;let Ue;for(;!this.J&&this.C<st.length;)if(Ue=Au(this,st),Ue==us){Ae==4&&(this.s=4,ie(14),_=!1),ur(this.i,this.l,null,"[Incomplete Response]");break}else if(Ue==Mo){this.s=4,ie(15),ur(this.i,this.l,st,"[Invalid Chunk]"),_=!1;break}else ur(this.i,this.l,Ue,null),ha(this,Ue);if(wu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ae!=4||st.length!=0||this.h.h||(this.s=1,ie(16),_=!1),this.o=this.o&&_,!_)ur(this.i,this.l,st,"[Invalid Chunked Response]"),Le(this),ti(this);else if(0<st.length&&!this.W){this.W=!0;var xe=this.j;xe.g==this&&xe.ba&&!xe.M&&(xe.j.info("Great, no buffering proxy detected. Bytes received: "+st.length),wa(xe),xe.M=!0,ie(11))}}else ur(this.i,this.l,st,null),ha(this,st);Ae==4&&Le(this),this.o&&!this.J&&(Ae==4?Vu(this.j,this):(this.o=!1,fa(this)))}else fh(this.g),_==400&&0<st.indexOf("Unknown SID")?(this.s=3,ie(12)):(this.s=0,ie(13)),Le(this),ti(this)}}}catch{}finally{}};function wu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Au(c,y){var _=c.C,b=y.indexOf(`
`,_);return b==-1?us:(_=Number(y.substring(_,b)),isNaN(_)?Mo:(b+=1,b+_>y.length?us:(y=y.slice(b,b+_),c.C=b+_,y)))}Je.prototype.cancel=function(){this.J=!0,Le(this)};function fa(c){c.S=Date.now()+c.I,Su(c,c.I)}function Su(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ge(R(c.ba,c),y)}function fr(c){c.B&&(m.clearTimeout(c.B),c.B=null)}Je.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(bu(this.i,this.A),this.L!=2&&(lr(),ie(17)),Le(this),this.s=2,ti(this)):Su(this,this.S-c)};function ti(c){c.j.G==0||c.J||Vu(c.j,c)}function Le(c){fr(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,la(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function ha(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||ko(_.h,c))){if(!c.K&&ko(_.h,c)&&_.G==3){try{var b=_.Da.g.parse(y)}catch{b=null}if(Array.isArray(b)&&b.length==3){var z=b;if(z[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Es(_),vs(_);else break t;Fo(_),ie(18)}}else _.za=z[1],0<_.za-_.T&&37500>z[2]&&_.F&&_.v==0&&!_.C&&(_.C=ge(R(_.Za,_),6e3));if(1>=fs(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Mi(_,11)}else if((c.K||_.g==c)&&Es(_),!Y(y))for(z=_.Da.g.parse(y),y=0;y<z.length;y++){let Pt=z[y];if(_.T=Pt[0],Pt=Pt[1],_.G==2)if(Pt[0]=="c"){_.K=Pt[1],_.ia=Pt[2];const xe=Pt[3];xe!=null&&(_.la=xe,_.j.info("VER="+_.la));const Ae=Pt[4];Ae!=null&&(_.Aa=Ae,_.j.info("SVER="+_.Aa));const ki=Pt[5];ki!=null&&typeof ki=="number"&&0<ki&&(b=1.5*ki,_.L=b,_.j.info("backChannelRequestTimeoutMs_="+b)),b=_;const Ue=c.g;if(Ue){const oi=Ue.g?Ue.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(oi){var Q=b.h;Q.g||oi.indexOf("spdy")==-1&&oi.indexOf("quic")==-1&&oi.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(hs(Q,Q.h),Q.h=null))}if(b.D){const $o=Ue.g?Ue.g.getResponseHeader("X-HTTP-Session-Id"):null;$o&&(b.ya=$o,Qt(b.I,b.D,$o))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),b=_;var st=c;if(b.qa=Lu(b,b.J?b.ia:null,b.W),st.K){tn(b.h,st);var Vt=st,we=b.L;we&&(Vt.I=we),Vt.B&&(fr(Vt),fa(Vt)),b.g=st}else Mu(b);0<_.i.length&&Ts(_)}else Pt[0]!="stop"&&Pt[0]!="close"||Mi(_,7);else _.G==3&&(Pt[0]=="stop"||Pt[0]=="close"?Pt[0]=="stop"?Mi(_,7):Ho(_):Pt[0]!="noop"&&_.l&&_.l.ta(Pt),_.v=0)}}lr(4)}catch{}}var Ru=class{constructor(c,y){this.g=c,this.map=y}};function Ii(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function cs(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function fs(c){return c.h?1:c.g?c.g.size:0}function ko(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function hs(c,y){c.g?c.g.add(y):c.h=y}function tn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Ii.prototype.cancel=function(){if(this.i=Vo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Vo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return K(c.i)}function oh(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],_=c.length,b=0;b<_;b++)y.push(c[b]);return y}y=[],_=0;for(b in c)y[_++]=c[b];return y}function ds(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const b in c)y[_++]=b;return y}}}function Po(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=ds(c),b=oh(c),z=b.length,Q=0;Q<z;Q++)y.call(void 0,b[Q],_&&_[Q],c)}var da=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function lh(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var b=c[_].indexOf("="),z=null;if(0<=b){var Q=c[_].substring(0,b);z=c[_].substring(b+1)}else Q=c[_];y(Q,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function ye(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof ye){this.h=c.h,ma(this,c.j),this.o=c.o,this.g=c.g,hr(this,c.s),this.l=c.l;var y=c.i,_=new Di;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),Ci(this,_),this.m=c.m}else c&&(y=String(c).match(da))?(this.h=!1,ma(this,y[1]||"",!0),this.o=An(y[2]||""),this.g=An(y[3]||"",!0),hr(this,y[4]),this.l=An(y[5]||"",!0),Ci(this,y[6]||"",!0),this.m=An(y[7]||"")):(this.h=!1,this.i=new Di(null,this.h))}ye.prototype.toString=function(){var c=[],y=this.j;y&&c.push(ga(y,Lo,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(ga(y,Lo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(ga(_,_.charAt(0)=="/"?uh:Uo,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",ga(_,ms)),c.join("")};function fn(c){return new ye(c)}function ma(c,y,_){c.j=_?An(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function hr(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Ci(c,y,_){y instanceof Di?(c.i=y,Cu(c.i,c.h)):(_||(y=ga(y,ch)),c.i=new Di(y,c.h))}function Qt(c,y,_){c.i.set(y,_)}function pa(c){return Qt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function An(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ga(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,Iu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Iu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Lo=/[#\/\?@]/g,Uo=/[#\?:]/g,uh=/[#\?]/g,ch=/[#\?@]/g,ms=/#/g;function Di(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Sn(c){c.g||(c.g=new Map,c.h=0,c.i&&lh(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}i=Di.prototype,i.add=function(c,y){Sn(this),this.i=null,c=ei(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function Oi(c,y){Sn(c),y=ei(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Ni(c,y){return Sn(c),y=ei(c,y),c.g.has(y)}i.forEach=function(c,y){Sn(this),this.g.forEach(function(_,b){_.forEach(function(z){c.call(y,z,b,this)},this)},this)},i.na=function(){Sn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let b=0;b<y.length;b++){const z=c[b];for(let Q=0;Q<z.length;Q++)_.push(y[b])}return _},i.V=function(c){Sn(this);let y=[];if(typeof c=="string")Ni(this,c)&&(y=y.concat(this.g.get(ei(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},i.set=function(c,y){return Sn(this),this.i=null,c=ei(this,c),Ni(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function zo(c,y,_){Oi(c,y),0<_.length&&(c.i=null,c.g.set(ei(c,y),K(_)),c.h+=_.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var b=y[_];const Q=encodeURIComponent(String(b)),st=this.V(b);for(b=0;b<st.length;b++){var z=Q;st[b]!==""&&(z+="="+encodeURIComponent(String(st[b]))),c.push(z)}}return this.i=c.join("&")};function ei(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Cu(c,y){y&&!c.j&&(Sn(c),c.i=null,c.g.forEach(function(_,b){var z=b.toLowerCase();b!=z&&(Oi(this,b),zo(this,z,_))},c)),c.j=y}function ya(c,y){const _=new wn;if(m.Image){const b=new Image;b.onload=M(Rn,_,"TestLoadImage: loaded",!0,y,b),b.onerror=M(Rn,_,"TestLoadImage: error",!1,y,b),b.onabort=M(Rn,_,"TestLoadImage: abort",!1,y,b),b.ontimeout=M(Rn,_,"TestLoadImage: timeout",!1,y,b),m.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else y(!1)}function Bn(c,y){const _=new wn,b=new AbortController,z=setTimeout(()=>{b.abort(),Rn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:b.signal}).then(Q=>{clearTimeout(z),Q.ok?Rn(_,"TestPingServer: ok",!0,y):Rn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),Rn(_,"TestPingServer: error",!1,y)})}function Rn(c,y,_,b,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),b(_)}catch{}}function _a(){this.g=new ua}function ni(c,y,_){const b=_||"";try{Po(c,function(z,Q){let st=z;g(z)&&(st=Un(z)),y.push(b+Q+"="+encodeURIComponent(st))})}catch(z){throw y.push(b+"type="+encodeURIComponent("_badmap")),z}}function dr(c){this.l=c.Ub||null,this.j=c.eb||!1}V(dr,Io),dr.prototype.g=function(){return new xi(this.l,this.j)},dr.prototype.i=function(c){return function(){return c}}({});function xi(c,y){ue.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}V(xi,ue),i=xi.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,ri(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ii(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ri(this)),this.g&&(this.readyState=3,ri(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Bo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Bo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?ii(this):ri(this),this.readyState==3&&Bo(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,ii(this))},i.Qa=function(c){this.g&&(this.response=c,ii(this))},i.ga=function(){this.g&&ii(this)};function ii(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ri(c)}i.setRequestHeader=function(c,y){this.u.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function ri(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(xi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function jo(c){let y="";return dt(c,function(_,b){y+=b,y+=":",y+=_,y+=`\r
`}),y}function Ne(c,y,_){t:{for(b in _){var b=!1;break t}b=!0}b||(_=jo(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Qt(c,y,_))}function qt(c){ue.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}V(qt,ue);var ps=/^https?$/i,va=["POST","PUT"];i=qt.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,y,_,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Zn.g(),this.v=this.o?Co(this.o):Co(Zn),this.g.onreadystatechange=R(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Q){Du(this,Q);return}if(c=_||"",_=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var z in b)_.set(z,b[z]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const Q of b.keys())_.set(Q,b.get(Q));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(_.keys()).find(Q=>Q.toLowerCase()=="content-type"),z=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(va,y,void 0))||b||z||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,st]of _)this.g.setRequestHeader(Q,st);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ta(this),this.u=!0,this.g.send(c),this.u=!1}catch(Q){Du(this,Q)}};function Du(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,gs(c),ai(c)}function gs(c){c.A||(c.A=!0,Gt(c,"complete"),Gt(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Gt(this,"complete"),Gt(this,"abort"),ai(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ai(this,!0)),qt.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?ys(this):this.bb())},i.bb=function(){ys(this)};function ys(c){if(c.h&&typeof h<"u"&&(!c.v[1]||In(c)!=4||c.Z()!=2)){if(c.u&&In(c)==4)Ge(c.Ea,0,c);else if(Gt(c,"readystatechange"),In(c)==4){c.h=!1;try{const st=c.Z();t:switch(st){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var _;if(!(_=y)){var b;if(b=st===0){var z=String(c.D).match(da)[1]||null;!z&&m.self&&m.self.location&&(z=m.self.location.protocol.slice(0,-1)),b=!ps.test(z?z.toLowerCase():"")}_=b}if(_)Gt(c,"complete"),Gt(c,"success");else{c.m=6;try{var Q=2<In(c)?c.g.statusText:""}catch{Q=""}c.l=Q+" ["+c.Z()+"]",gs(c)}}finally{ai(c)}}}}function ai(c,y){if(c.g){Ta(c);const _=c.g,b=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Gt(c,"ready");try{_.onreadystatechange=b}catch{}}}function Ta(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function In(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<In(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),os(y)}};function Ou(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function fh(c){const y={};c=(c.g&&2<=In(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(Y(c[b]))continue;var _=k(c[b]);const z=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Q=y[z]||[];y[z]=Q,Q.push(_)}C(y,function(b){return b.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ea(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function _s(c){this.Aa=0,this.i=[],this.j=new wn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ea("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ea("baseRetryDelayMs",5e3,c),this.cb=Ea("retryDelaySeedMs",1e4,c),this.Wa=Ea("forwardChannelMaxRetries",2,c),this.wa=Ea("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Ii(c&&c.concurrentRequestLimit),this.Da=new _a,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=_s.prototype,i.la=8,i.G=1,i.connect=function(c,y,_,b){ie(0),this.W=c,this.H=y||{},_&&b!==void 0&&(this.H.OSID=_,this.H.OAID=b),this.F=this.X,this.I=Lu(this,null,this.W),Ts(this)};function Ho(c){if(Nu(c),c.G==3){var y=c.U++,_=fn(c.I);if(Qt(_,"SID",c.K),Qt(_,"RID",y),Qt(_,"TYPE","terminate"),ba(c,_),y=new Je(c,c.j,y),y.L=2,y.v=pa(fn(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=y.v,_=!0),_||(y.g=Uu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),fa(y)}Pu(c)}function vs(c){c.g&&(wa(c),c.g.cancel(),c.g=null)}function Nu(c){vs(c),c.u&&(m.clearTimeout(c.u),c.u=null),Es(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Ts(c){if(!cs(c.h)&&!c.s){c.s=!0;var y=c.Ga;ot||N(),ht||(ot(),ht=!0),jt.add(y,c),c.B=0}}function hh(c,y){return fs(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ge(R(c.Ga,c,y),Go(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const z=new Je(this,this.j,c);let Q=this.o;if(this.S&&(Q?(Q=A(Q),O(Q,this.S)):Q=this.S),this.m!==null||this.O||(z.H=Q,Q=null),this.P)t:{for(var y=0,_=0;_<this.i.length;_++){e:{var b=this.i[_];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(y+=b,4096<y){y=_;break t}if(y===4096||_===this.i.length-1){y=_+1;break t}}y=1e3}else y=1e3;y=xu(this,z,y),_=fn(this.I),Qt(_,"RID",c),Qt(_,"CVER",22),this.D&&Qt(_,"X-HTTP-Session-Id",this.D),ba(this,_),Q&&(this.O?y="headers="+encodeURIComponent(String(jo(Q)))+"&"+y:this.m&&Ne(_,this.m,Q)),hs(this.h,z),this.Ua&&Qt(_,"TYPE","init"),this.P?(Qt(_,"$req",y),Qt(_,"SID","null"),z.T=!0,zn(z,_,null)):zn(z,_,y),this.G=2}}else this.G==3&&(c?qo(this,c):this.i.length==0||cs(this.h)||qo(this))};function qo(c,y){var _;y?_=y.l:_=c.U++;const b=fn(c.I);Qt(b,"SID",c.K),Qt(b,"RID",_),Qt(b,"AID",c.T),ba(c,b),c.m&&c.o&&Ne(b,c.m,c.o),_=new Je(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=xu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),hs(c.h,_),zn(_,b,y)}function ba(c,y){c.H&&dt(c.H,function(_,b){Qt(y,b,_)}),c.l&&Po({},function(_,b){Qt(y,b,_)})}function xu(c,y,_){_=Math.min(c.i.length,_);var b=c.l?R(c.l.Na,c.l,c):null;t:{var z=c.i;let Q=-1;for(;;){const st=["count="+_];Q==-1?0<_?(Q=z[0].g,st.push("ofs="+Q)):Q=0:st.push("ofs="+Q);let Vt=!0;for(let we=0;we<_;we++){let Pt=z[we].g;const xe=z[we].map;if(Pt-=Q,0>Pt)Q=Math.max(0,z[we].g-100),Vt=!1;else try{ni(xe,st,"req"+Pt+"_")}catch{b&&b(xe)}}if(Vt){b=st.join("&");break t}}}return c=c.i.splice(0,_),y.D=c,b}function Mu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;ot||N(),ht||(ot(),ht=!0),jt.add(y,c),c.v=0}}function Fo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ge(R(c.Fa,c),Go(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,ku(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ge(R(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ie(10),vs(this),ku(this))};function wa(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function ku(c){c.g=new Je(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=fn(c.qa);Qt(y,"RID","rpc"),Qt(y,"SID",c.K),Qt(y,"AID",c.T),Qt(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Qt(y,"TO",c.ja),Qt(y,"TYPE","xmlhttp"),ba(c,y),c.m&&c.o&&Ne(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=pa(fn(y)),_.m=null,_.P=!0,Ri(_,c)}i.Za=function(){this.C!=null&&(this.C=null,vs(this),Fo(this),ie(19))};function Es(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Vu(c,y){var _=null;if(c.g==y){Es(c),wa(c),c.g=null;var b=2}else if(ko(c.h,y))_=y.D,tn(c.h,y),b=1;else return;if(c.G!=0){if(y.o)if(b==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var z=c.B;b=or(),Gt(b,new be(b,_)),Ts(c)}else Mu(c);else if(z=y.s,z==3||z==0&&0<y.X||!(b==1&&hh(c,y)||b==2&&Fo(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),z){case 1:Mi(c,5);break;case 4:Mi(c,10);break;case 3:Mi(c,6);break;default:Mi(c,2)}}}function Go(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function Mi(c,y){if(c.j.info("Error code "+y),y==2){var _=R(c.fb,c),b=c.Xa;const z=!b;b=new ye(b||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||ma(b,"https"),pa(b),z?ya(b.toString(),_):Bn(b.toString(),_)}else ie(2);c.G=0,c.l&&c.l.sa(y),Pu(c),Nu(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ie(2)):(this.j.info("Failed to ping google.com"),ie(1))};function Pu(c){if(c.G=0,c.ka=[],c.l){const y=Vo(c.h);(y.length!=0||c.i.length!=0)&&(U(c.ka,y),U(c.ka,c.i),c.h.i.length=0,K(c.i),c.i.length=0),c.l.ra()}}function Lu(c,y,_){var b=_ instanceof ye?fn(_):new ye(_);if(b.g!="")y&&(b.g=y+"."+b.g),hr(b,b.s);else{var z=m.location;b=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;var Q=new ye(null);b&&ma(Q,b),y&&(Q.g=y),z&&hr(Q,z),_&&(Q.l=_),b=Q}return _=c.D,y=c.ya,_&&y&&Qt(b,_,y),Qt(b,"VER",c.la),ba(c,b),b}function Uu(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new qt(new dr({eb:_})):new qt(c.pa),y.Ha(c.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function zu(){}i=zu.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function bs(){}bs.prototype.g=function(c,y){return new en(c,y)};function en(c,y){ue.call(this),this.g=new _s(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!Y(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!Y(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new si(this)}V(en,ue),en.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){Ho(this.g)},en.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Un(c),c=_);y.i.push(new Ru(y.Ya++,c)),y.G==3&&Ts(y)},en.prototype.N=function(){this.g.l=null,delete this.j,Ho(this.g),delete this.g,en.aa.N.call(this)};function Bu(c){Ai.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){t:{for(const _ in y){c=_;break t}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}V(Bu,Ai);function ju(){Oo.call(this),this.status=1}V(ju,Oo);function si(c){this.g=c}V(si,zu),si.prototype.ua=function(){Gt(this.g,"a")},si.prototype.ta=function(c){Gt(this.g,new Bu(c))},si.prototype.sa=function(c){Gt(this.g,new ju)},si.prototype.ra=function(){Gt(this.g,"b")},bs.prototype.createWebChannel=bs.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,kE=function(){return new bs},ME=function(){return or()},xE=Wn,Vm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},cr.NO_ERROR=0,cr.TIMEOUT=8,cr.HTTP_ERROR=6,Jc=cr,Si.COMPLETE="complete",NE=Si,Do.EventType=wi,wi.OPEN="a",wi.CLOSE="b",wi.ERROR="c",wi.MESSAGE="d",ue.prototype.listen=ue.prototype.K,Ul=Do,qt.prototype.listenOnce=qt.prototype.L,qt.prototype.getLastError=qt.prototype.Ka,qt.prototype.getLastErrorCode=qt.prototype.Ba,qt.prototype.getStatus=qt.prototype.Z,qt.prototype.getResponseJson=qt.prototype.Oa,qt.prototype.getResponseText=qt.prototype.oa,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Ha,OE=qt}).apply(typeof qc<"u"?qc:typeof self<"u"?self:typeof window<"u"?window:{});const c0="@firebase/firestore",f0="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ye.UNAUTHENTICATED=new Ye(null),Ye.GOOGLE_CREDENTIALS=new Ye("google-credentials-uid"),Ye.FIRST_PARTY=new Ye("first-party-uid"),Ye.MOCK_USER=new Ye("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vo="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qa=new xf("@firebase/firestore");function Ws(){return Qa.logLevel}function ct(i,...t){if(Qa.logLevel<=Mt.DEBUG){const n=t.map(bp);Qa.debug(`Firestore (${vo}): ${i}`,...n)}}function er(i,...t){if(Qa.logLevel<=Mt.ERROR){const n=t.map(bp);Qa.error(`Firestore (${vo}): ${i}`,...n)}}function oo(i,...t){if(Qa.logLevel<=Mt.WARN){const n=t.map(bp);Qa.warn(`Firestore (${vo}): ${i}`,...n)}}function bp(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(i="Unexpected state"){const t=`FIRESTORE (${vo}) INTERNAL ASSERTION FAILED: `+i;throw er(t),new Error(t)}function Ft(i,t){i||bt()}function St(i,t){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class gt extends Yn{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class M2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Ye.UNAUTHENTICATED))}shutdown(){}}class k2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class V2{constructor(t){this.t=t,this.currentUser=Ye.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Ft(this.o===void 0);let a=this.i;const o=p=>this.i!==a?(a=this.i,n(p)):Promise.resolve();let u=new qr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new qr,t.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=u;t.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{ct("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ct("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new qr)}},0),h()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(a=>this.i!==t?(ct("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Ft(typeof a.accessToken=="string"),new VE(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ft(t===null||typeof t=="string"),new Ye(t)}}class P2{constructor(t,n,a){this.l=t,this.h=n,this.P=a,this.type="FirstParty",this.user=Ye.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class L2{constructor(t,n,a){this.l=t,this.h=n,this.P=a}getToken(){return Promise.resolve(new P2(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Ye.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class h0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class U2{constructor(t,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,vn(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,n){Ft(this.o===void 0);const a=u=>{u.error!=null&&ct("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.R;return this.R=u.token,ct("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>a(u))};const o=u=>{ct("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):ct("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new h0(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Ft(typeof n.token=="string"),this.R=n.token,new h0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z2(i){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let a=0;a<i;a++)n[a]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PE(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=z2(40);for(let u=0;u<o.length;++u)a.length<20&&o[u]<n&&(a+=t.charAt(o[u]%62))}return a}}function Ct(i,t){return i<t?-1:i>t?1:0}function Pm(i,t){let n=0;for(;n<i.length&&n<t.length;){const a=i.codePointAt(n),o=t.codePointAt(n);if(a!==o){if(a<128&&o<128)return Ct(a,o);{const u=PE(),h=B2(u.encode(d0(i,n)),u.encode(d0(t,n)));return h!==0?h:Ct(a,o)}}n+=a>65535?2:1}return Ct(i.length,t.length)}function d0(i,t){return i.codePointAt(t)>65535?i.substring(t,t+2):i.substring(t,t+1)}function B2(i,t){for(let n=0;n<i.length&&n<t.length;++n)if(i[n]!==t[n])return Ct(i[n],t[n]);return Ct(i.length,t.length)}function lo(i,t,n){return i.length===t.length&&i.every((a,o)=>n(a,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0=-62135596800,p0=1e6;class Ce{static now(){return Ce.fromMillis(Date.now())}static fromDate(t){return Ce.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),a=Math.floor((t-1e3*n)*p0);return new Ce(n,a)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new gt(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new gt(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<m0)throw new gt(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new gt(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/p0}_compareTo(t){return this.seconds===t.seconds?Ct(this.nanoseconds,t.nanoseconds):Ct(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-m0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{static fromTimestamp(t){return new At(t)}static min(){return new At(new Ce(0,0))}static max(){return new At(new Ce(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0="__name__";class di{constructor(t,n,a){n===void 0?n=0:n>t.length&&bt(),a===void 0?a=t.length-n:a>t.length-n&&bt(),this.segments=t,this.offset=n,this.len=a}get length(){return this.len}isEqual(t){return di.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof di?t.forEach(a=>{n.push(a)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,a=this.limit();n<a;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const a=Math.min(t.length,n.length);for(let o=0;o<a;o++){const u=di.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return Ct(t.length,n.length)}static compareSegments(t,n){const a=di.isNumericId(t),o=di.isNumericId(n);return a&&!o?-1:!a&&o?1:a&&o?di.extractNumericId(t).compare(di.extractNumericId(n)):Pm(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Hr.fromString(t.substring(4,t.length-2))}}class ae extends di{construct(t,n,a){return new ae(t,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const a of t){if(a.indexOf("//")>=0)throw new gt(nt.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter(o=>o.length>0))}return new ae(n)}static emptyPath(){return new ae([])}}const j2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qe extends di{construct(t,n,a){return new qe(t,n,a)}static isValidIdentifier(t){return j2.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qe.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===g0}static keyField(){return new qe([g0])}static fromServerFormat(t){const n=[];let a="",o=0;const u=()=>{if(a.length===0)throw new gt(nt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let h=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new gt(nt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new gt(nt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(a+=m,o++):(u(),o++)}if(u(),h)throw new gt(nt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new qe(n)}static emptyPath(){return new qe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(t){this.path=t}static fromPath(t){return new yt(ae.fromString(t))}static fromName(t){return new yt(ae.fromString(t).popFirst(5))}static empty(){return new yt(ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ae.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ae.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new yt(new ae(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xl=-1;function H2(i,t){const n=i.toTimestamp().seconds,a=i.toTimestamp().nanoseconds+1,o=At.fromTimestamp(a===1e9?new Ce(n+1,0):new Ce(n,a));return new $r(o,yt.empty(),t)}function q2(i){return new $r(i.readTime,i.key,Xl)}class $r{constructor(t,n,a){this.readTime=t,this.documentKey=n,this.largestBatchId=a}static min(){return new $r(At.min(),yt.empty(),Xl)}static max(){return new $r(At.max(),yt.empty(),Xl)}}function F2(i,t){let n=i.readTime.compareTo(t.readTime);return n!==0?n:(n=yt.comparator(i.documentKey,t.documentKey),n!==0?n:Ct(i.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function To(i){if(i.code!==nt.FAILED_PRECONDITION||i.message!==G2)throw i;ct("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&bt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new tt((a,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(a,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(a,o)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof tt?n:tt.resolve(n)}catch(n){return tt.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):tt.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):tt.reject(n)}static resolve(t){return new tt((n,a)=>{n(t)})}static reject(t){return new tt((n,a)=>{a(t)})}static waitFor(t){return new tt((n,a)=>{let o=0,u=0,h=!1;t.forEach(m=>{++o,m.next(()=>{++u,h&&u===o&&n()},p=>a(p))}),h=!0,u===o&&n()})}static or(t){let n=tt.resolve(!1);for(const a of t)n=n.next(o=>o?tt.resolve(o):a());return n}static forEach(t,n){const a=[];return t.forEach((o,u)=>{a.push(n.call(this,o,u))}),this.waitFor(a)}static mapArray(t,n){return new tt((a,o)=>{const u=t.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(t[g]).next(T=>{h[g]=T,++m,m===u&&a(h)},T=>o(T))}})}static doWhile(t,n){return new tt((a,o)=>{const u=()=>{t()===!0?n().next(()=>{u()},o):a()};u()})}}function K2(i){const t=i.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Eo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=a=>this.oe(a),this._e=a=>n.writeSequenceNumber(a))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}Uf.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wp=-1;function zf(i){return i==null}function yf(i){return i===0&&1/i==-1/0}function Q2(i){return typeof i=="number"&&Number.isInteger(i)&&!yf(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE="";function Y2(i){let t="";for(let n=0;n<i.length;n++)t.length>0&&(t=y0(t)),t=X2(i.get(n),t);return y0(t)}function X2(i,t){let n=t;const a=i.length;for(let o=0;o<a;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case UE:n+="";break;default:n+=u}}return n}function y0(i){return i+UE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _0(i){let t=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&t++;return t}function ts(i,t){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&t(n,i[n])}function zE(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(t,n){this.comparator=t,this.root=n||He.EMPTY}insert(t,n){return new le(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,He.BLACK,null,null))}remove(t){return new le(this.comparator,this.root.remove(t,this.comparator).copy(null,null,He.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(t,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(t){let n=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(t,a.key);if(o===0)return n+a.left.size;o<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,a)=>(t(n,a),!1))}toString(){const t=[];return this.inorderTraversal((n,a)=>(t.push(`${n}:${a}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Fc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Fc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Fc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Fc(this.root,t,this.comparator,!0)}}class Fc{constructor(t,n,a,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?a(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class He{constructor(t,n,a,o,u){this.key=t,this.value=n,this.color=a??He.RED,this.left=o??He.EMPTY,this.right=u??He.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,a,o,u){return new He(t??this.key,n??this.value,a??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,a){let o=this;const u=a(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,a),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return He.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let a,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return He.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,He.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,He.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw bt();const t=this.left.check();if(t!==this.right.check())throw bt();return t+(this.isRed()?0:1)}}He.EMPTY=null,He.RED=!0,He.BLACK=!1;He.EMPTY=new class{constructor(){this.size=0}get key(){throw bt()}get value(){throw bt()}get color(){throw bt()}get left(){throw bt()}get right(){throw bt()}copy(t,n,a,o,u){return this}insert(t,n,a){return new He(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(t){this.comparator=t,this.data=new le(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,a)=>(t(n),!1))}forEachInRange(t,n){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new v0(this.data.getIterator())}getIteratorFrom(t){return new v0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(a=>{n=n.add(a)}),n}isEqual(t){if(!(t instanceof De)||this.size!==t.size)return!1;const n=this.data.getIterator(),a=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new De(this.comparator);return n.data=t,n}}class v0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(t){this.fields=t,t.sort(qe.comparator)}static empty(){return new Gn([])}unionWith(t){let n=new De(qe.comparator);for(const a of this.fields)n=n.add(a);for(const a of t)n=n.add(a);return new Gn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return lo(this.fields,t.fields,(n,a)=>n.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new BE("Invalid base64 string: "+u):u}}(t);return new Fe(n)}static fromUint8Array(t){const n=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(t);return new Fe(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const a=new Uint8Array(n.length);for(let o=0;o<n.length;o++)a[o]=n.charCodeAt(o);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ct(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Fe.EMPTY_BYTE_STRING=new Fe("");const W2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Kr(i){if(Ft(!!i),typeof i=="string"){let t=0;const n=W2.exec(i);if(Ft(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const a=new Date(i);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:pe(i.seconds),nanos:pe(i.nanos)}}function pe(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Qr(i){return typeof i=="string"?Fe.fromBase64String(i):Fe.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE="server_timestamp",HE="__type__",qE="__previous_value__",FE="__local_write_time__";function Ap(i){var t,n;return((n=(((t=i==null?void 0:i.mapValue)===null||t===void 0?void 0:t.fields)||{})[HE])===null||n===void 0?void 0:n.stringValue)===jE}function Bf(i){const t=i.mapValue.fields[qE];return Ap(t)?Bf(t):t}function Wl(i){const t=Kr(i.mapValue.fields[FE].timestampValue);return new Ce(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(t,n,a,o,u,h,m,p,g){this.databaseId=t,this.appId=n,this.persistenceKey=a,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g}}const _f="(default)";class Zl{constructor(t,n){this.projectId=t,this.database=n||_f}static empty(){return new Zl("","")}get isDefaultDatabase(){return this.database===_f}isEqual(t){return t instanceof Zl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE="__type__",J2="__max__",Gc={mapValue:{}},$E="__vector__",vf="value";function Yr(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Ap(i)?4:eD(i)?9007199254740991:tD(i)?10:11:bt()}function vi(i,t){if(i===t)return!0;const n=Yr(i);if(n!==Yr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===t.booleanValue;case 4:return Wl(i).isEqual(Wl(t));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=Kr(o.timestampValue),m=Kr(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(i,t);case 5:return i.stringValue===t.stringValue;case 6:return function(o,u){return Qr(o.bytesValue).isEqual(Qr(u.bytesValue))}(i,t);case 7:return i.referenceValue===t.referenceValue;case 8:return function(o,u){return pe(o.geoPointValue.latitude)===pe(u.geoPointValue.latitude)&&pe(o.geoPointValue.longitude)===pe(u.geoPointValue.longitude)}(i,t);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return pe(o.integerValue)===pe(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=pe(o.doubleValue),m=pe(u.doubleValue);return h===m?yf(h)===yf(m):isNaN(h)&&isNaN(m)}return!1}(i,t);case 9:return lo(i.arrayValue.values||[],t.arrayValue.values||[],vi);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(_0(h)!==_0(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!vi(h[p],m[p])))return!1;return!0}(i,t);default:return bt()}}function Jl(i,t){return(i.values||[]).find(n=>vi(n,t))!==void 0}function uo(i,t){if(i===t)return 0;const n=Yr(i),a=Yr(t);if(n!==a)return Ct(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ct(i.booleanValue,t.booleanValue);case 2:return function(u,h){const m=pe(u.integerValue||u.doubleValue),p=pe(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(i,t);case 3:return T0(i.timestampValue,t.timestampValue);case 4:return T0(Wl(i),Wl(t));case 5:return Pm(i.stringValue,t.stringValue);case 6:return function(u,h){const m=Qr(u),p=Qr(h);return m.compareTo(p)}(i.bytesValue,t.bytesValue);case 7:return function(u,h){const m=u.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const T=Ct(m[g],p[g]);if(T!==0)return T}return Ct(m.length,p.length)}(i.referenceValue,t.referenceValue);case 8:return function(u,h){const m=Ct(pe(u.latitude),pe(h.latitude));return m!==0?m:Ct(pe(u.longitude),pe(h.longitude))}(i.geoPointValue,t.geoPointValue);case 9:return E0(i.arrayValue,t.arrayValue);case 10:return function(u,h){var m,p,g,T;const w=u.fields||{},R=h.fields||{},M=(m=w[vf])===null||m===void 0?void 0:m.arrayValue,V=(p=R[vf])===null||p===void 0?void 0:p.arrayValue,K=Ct(((g=M==null?void 0:M.values)===null||g===void 0?void 0:g.length)||0,((T=V==null?void 0:V.values)===null||T===void 0?void 0:T.length)||0);return K!==0?K:E0(M,V)}(i.mapValue,t.mapValue);case 11:return function(u,h){if(u===Gc.mapValue&&h===Gc.mapValue)return 0;if(u===Gc.mapValue)return 1;if(h===Gc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=h.fields||{},T=Object.keys(g);p.sort(),T.sort();for(let w=0;w<p.length&&w<T.length;++w){const R=Pm(p[w],T[w]);if(R!==0)return R;const M=uo(m[p[w]],g[T[w]]);if(M!==0)return M}return Ct(p.length,T.length)}(i.mapValue,t.mapValue);default:throw bt()}}function T0(i,t){if(typeof i=="string"&&typeof t=="string"&&i.length===t.length)return Ct(i,t);const n=Kr(i),a=Kr(t),o=Ct(n.seconds,a.seconds);return o!==0?o:Ct(n.nanos,a.nanos)}function E0(i,t){const n=i.values||[],a=t.values||[];for(let o=0;o<n.length&&o<a.length;++o){const u=uo(n[o],a[o]);if(u)return u}return Ct(n.length,a.length)}function co(i){return Lm(i)}function Lm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const a=Kr(n);return`time(${a.seconds},${a.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return Qr(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return yt.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let a="[",o=!0;for(const u of n.values||[])o?o=!1:a+=",",a+=Lm(u);return a+"]"}(i.arrayValue):"mapValue"in i?function(n){const a=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of a)u?u=!1:o+=",",o+=`${h}:${Lm(n.fields[h])}`;return o+"}"}(i.mapValue):bt()}function tf(i){switch(Yr(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Bf(i);return t?16+tf(t):16;case 5:return 2*i.stringValue.length;case 6:return Qr(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((o,u)=>o+tf(u),0)}(i.arrayValue);case 10:case 11:return function(a){let o=0;return ts(a.fields,(u,h)=>{o+=u.length+tf(h)}),o}(i.mapValue);default:throw bt()}}function Um(i){return!!i&&"integerValue"in i}function Sp(i){return!!i&&"arrayValue"in i}function b0(i){return!!i&&"nullValue"in i}function w0(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function ef(i){return!!i&&"mapValue"in i}function tD(i){var t,n;return((n=(((t=i==null?void 0:i.mapValue)===null||t===void 0?void 0:t.fields)||{})[GE])===null||n===void 0?void 0:n.stringValue)===$E}function ql(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const t={mapValue:{fields:{}}};return ts(i.mapValue.fields,(n,a)=>t.mapValue.fields[n]=ql(a)),t}if(i.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=ql(i.arrayValue.values[n]);return t}return Object.assign({},i)}function eD(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===J2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(t){this.value=t}static empty(){return new Vn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let a=0;a<t.length-1;++a)if(n=(n.mapValue.fields||{})[t.get(a)],!ef(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=ql(n)}setAll(t){let n=qe.emptyPath(),a={},o=[];t.forEach((h,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,a,o),a={},o=[],n=m.popLast()}h?a[m.lastSegment()]=ql(h):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,a,o)}delete(t){const n=this.field(t.popLast());ef(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return vi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<t.length;++a){let o=n.mapValue.fields[t.get(a)];ef(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(a)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,a){ts(n,(o,u)=>t[o]=u);for(const o of a)delete t[o]}clone(){return new Vn(ql(this.value))}}function KE(i){const t=[];return ts(i.fields,(n,a)=>{const o=new qe([n]);if(ef(a)){const u=KE(a.mapValue).fields;if(u.length===0)t.push(o);else for(const h of u)t.push(o.child(h))}else t.push(o)}),new Gn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(t,n,a,o,u,h,m){this.key=t,this.documentType=n,this.version=a,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(t){return new Xe(t,0,At.min(),At.min(),At.min(),Vn.empty(),0)}static newFoundDocument(t,n,a,o){return new Xe(t,1,n,At.min(),a,o,0)}static newNoDocument(t,n){return new Xe(t,2,n,At.min(),At.min(),Vn.empty(),0)}static newUnknownDocument(t,n){return new Xe(t,3,n,At.min(),At.min(),Vn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Vn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Xe&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(t,n){this.position=t,this.inclusive=n}}function A0(i,t,n){let a=0;for(let o=0;o<i.position.length;o++){const u=t[o],h=i.position[o];if(u.field.isKeyField()?a=yt.comparator(yt.fromName(h.referenceValue),n.key):a=uo(h,n.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function S0(i,t){if(i===null)return t===null;if(t===null||i.inclusive!==t.inclusive||i.position.length!==t.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!vi(i.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(t,n="asc"){this.field=t,this.dir=n}}function nD(i,t){return i.dir===t.dir&&i.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{}class Ie extends QE{constructor(t,n,a){super(),this.field=t,this.op=n,this.value=a}static create(t,n,a){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,a):new rD(t,n,a):n==="array-contains"?new oD(t,a):n==="in"?new lD(t,a):n==="not-in"?new uD(t,a):n==="array-contains-any"?new cD(t,a):new Ie(t,n,a)}static createKeyFieldInFilter(t,n,a){return n==="in"?new aD(t,a):new sD(t,a)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(uo(n,this.value)):n!==null&&Yr(this.value)===Yr(n)&&this.matchesComparison(uo(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return bt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ti extends QE{constructor(t,n){super(),this.filters=t,this.op=n,this.ce=null}static create(t,n){return new Ti(t,n)}matches(t){return YE(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function YE(i){return i.op==="and"}function XE(i){return iD(i)&&YE(i)}function iD(i){for(const t of i.filters)if(t instanceof Ti)return!1;return!0}function zm(i){if(i instanceof Ie)return i.field.canonicalString()+i.op.toString()+co(i.value);if(XE(i))return i.filters.map(t=>zm(t)).join(",");{const t=i.filters.map(n=>zm(n)).join(",");return`${i.op}(${t})`}}function WE(i,t){return i instanceof Ie?function(a,o){return o instanceof Ie&&a.op===o.op&&a.field.isEqual(o.field)&&vi(a.value,o.value)}(i,t):i instanceof Ti?function(a,o){return o instanceof Ti&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce((u,h,m)=>u&&WE(h,o.filters[m]),!0):!1}(i,t):void bt()}function ZE(i){return i instanceof Ie?function(n){return`${n.field.canonicalString()} ${n.op} ${co(n.value)}`}(i):i instanceof Ti?function(n){return n.op.toString()+" {"+n.getFilters().map(ZE).join(" ,")+"}"}(i):"Filter"}class rD extends Ie{constructor(t,n,a){super(t,n,a),this.key=yt.fromName(a.referenceValue)}matches(t){const n=yt.comparator(t.key,this.key);return this.matchesComparison(n)}}class aD extends Ie{constructor(t,n){super(t,"in",n),this.keys=JE("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class sD extends Ie{constructor(t,n){super(t,"not-in",n),this.keys=JE("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function JE(i,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(a=>yt.fromName(a.referenceValue))}class oD extends Ie{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Sp(n)&&Jl(n.arrayValue,this.value)}}class lD extends Ie{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Jl(this.value.arrayValue,n)}}class uD extends Ie{constructor(t,n){super(t,"not-in",n)}matches(t){if(Jl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!Jl(this.value.arrayValue,n)}}class cD extends Ie{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Sp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(a=>Jl(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(t,n=null,a=[],o=[],u=null,h=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=a,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.le=null}}function R0(i,t=null,n=[],a=[],o=null,u=null,h=null){return new fD(i,t,n,a,o,u,h)}function Rp(i){const t=St(i);if(t.le===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(a=>zm(a)).join(","),n+="|ob:",n+=t.orderBy.map(a=>function(u){return u.field.canonicalString()+u.dir}(a)).join(","),zf(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(a=>co(a)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(a=>co(a)).join(",")),t.le=n}return t.le}function Ip(i,t){if(i.limit!==t.limit||i.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!nD(i.orderBy[n],t.orderBy[n]))return!1;if(i.filters.length!==t.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!WE(i.filters[n],t.filters[n]))return!1;return i.collectionGroup===t.collectionGroup&&!!i.path.isEqual(t.path)&&!!S0(i.startAt,t.startAt)&&S0(i.endAt,t.endAt)}function Bm(i){return yt.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(t,n=null,a=[],o=[],u=null,h="F",m=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function hD(i,t,n,a,o,u,h,m){return new jf(i,t,n,a,o,u,h,m)}function Cp(i){return new jf(i)}function I0(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function dD(i){return i.collectionGroup!==null}function Fl(i){const t=St(i);if(t.he===null){t.he=[];const n=new Set;for(const u of t.explicitOrderBy)t.he.push(u),n.add(u.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new De(qe.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(t).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||t.he.push(new Ef(u,a))}),n.has(qe.keyField().canonicalString())||t.he.push(new Ef(qe.keyField(),a))}return t.he}function pi(i){const t=St(i);return t.Pe||(t.Pe=mD(t,Fl(i))),t.Pe}function mD(i,t){if(i.limitType==="F")return R0(i.path,i.collectionGroup,t,i.filters,i.limit,i.startAt,i.endAt);{t=t.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Ef(o.field,u)});const n=i.endAt?new Tf(i.endAt.position,i.endAt.inclusive):null,a=i.startAt?new Tf(i.startAt.position,i.startAt.inclusive):null;return R0(i.path,i.collectionGroup,t,i.filters,i.limit,n,a)}}function jm(i,t,n){return new jf(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),t,n,i.startAt,i.endAt)}function Hf(i,t){return Ip(pi(i),pi(t))&&i.limitType===t.limitType}function tb(i){return`${Rp(pi(i))}|lt:${i.limitType}`}function Zs(i){return`Query(target=${function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map(o=>ZE(o)).join(", ")}]`),zf(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map(o=>co(o)).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map(o=>co(o)).join(",")),`Target(${a})`}(pi(i))}; limitType=${i.limitType})`}function qf(i,t){return t.isFoundDocument()&&function(a,o){const u=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):yt.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)}(i,t)&&function(a,o){for(const u of Fl(a))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,t)&&function(a,o){for(const u of a.filters)if(!u.matches(o))return!1;return!0}(i,t)&&function(a,o){return!(a.startAt&&!function(h,m,p){const g=A0(h,m,p);return h.inclusive?g<=0:g<0}(a.startAt,Fl(a),o)||a.endAt&&!function(h,m,p){const g=A0(h,m,p);return h.inclusive?g>=0:g>0}(a.endAt,Fl(a),o))}(i,t)}function pD(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function eb(i){return(t,n)=>{let a=!1;for(const o of Fl(i)){const u=gD(o,t,n);if(u!==0)return u;a=a||o.field.isKeyField()}return 0}}function gD(i,t,n){const a=i.field.isKeyField()?yt.comparator(t.key,n.key):function(u,h,m){const p=h.data.field(u),g=m.data.field(u);return p!==null&&g!==null?uo(p,g):bt()}(i.field,t,n);switch(i.dir){case"asc":return a;case"desc":return-1*a;default:return bt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),a=this.inner[n];if(a!==void 0){for(const[o,u]of a)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const a=this.mapKeyFn(t),o=this.inner[a];if(o===void 0)return this.inner[a]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),a=this.inner[n];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],t))return a.length===1?delete this.inner[n]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(t){ts(this.inner,(n,a)=>{for(const[o,u]of a)t(o,u)})}isEmpty(){return zE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yD=new le(yt.comparator);function nr(){return yD}const nb=new le(yt.comparator);function zl(...i){let t=nb;for(const n of i)t=t.insert(n.key,n);return t}function ib(i){let t=nb;return i.forEach((n,a)=>t=t.insert(n,a.overlayedDocument)),t}function Ha(){return Gl()}function rb(){return Gl()}function Gl(){return new es(i=>i.toString(),(i,t)=>i.isEqual(t))}const _D=new le(yt.comparator),vD=new De(yt.comparator);function kt(...i){let t=vD;for(const n of i)t=t.add(n);return t}const TD=new De(Ct);function ED(){return TD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dp(i,t){if(i.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yf(t)?"-0":t}}function ab(i){return{integerValue:""+i}}function bD(i,t){return Q2(t)?ab(t):Dp(i,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(){this._=void 0}}function wD(i,t,n){return i instanceof bf?function(o,u){const h={fields:{[HE]:{stringValue:jE},[FE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Ap(u)&&(u=Bf(u)),u&&(h.fields[qE]=u),{mapValue:h}}(n,t):i instanceof tu?ob(i,t):i instanceof eu?lb(i,t):function(o,u){const h=sb(o,u),m=C0(h)+C0(o.Ie);return Um(h)&&Um(o.Ie)?ab(m):Dp(o.serializer,m)}(i,t)}function AD(i,t,n){return i instanceof tu?ob(i,t):i instanceof eu?lb(i,t):n}function sb(i,t){return i instanceof wf?function(a){return Um(a)||function(u){return!!u&&"doubleValue"in u}(a)}(t)?t:{integerValue:0}:null}class bf extends Ff{}class tu extends Ff{constructor(t){super(),this.elements=t}}function ob(i,t){const n=ub(t);for(const a of i.elements)n.some(o=>vi(o,a))||n.push(a);return{arrayValue:{values:n}}}class eu extends Ff{constructor(t){super(),this.elements=t}}function lb(i,t){let n=ub(t);for(const a of i.elements)n=n.filter(o=>!vi(o,a));return{arrayValue:{values:n}}}class wf extends Ff{constructor(t,n){super(),this.serializer=t,this.Ie=n}}function C0(i){return pe(i.integerValue||i.doubleValue)}function ub(i){return Sp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function SD(i,t){return i.field.isEqual(t.field)&&function(a,o){return a instanceof tu&&o instanceof tu||a instanceof eu&&o instanceof eu?lo(a.elements,o.elements,vi):a instanceof wf&&o instanceof wf?vi(a.Ie,o.Ie):a instanceof bf&&o instanceof bf}(i.transform,t.transform)}class RD{constructor(t,n){this.version=t,this.transformResults=n}}class gi{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new gi}static exists(t){return new gi(void 0,t)}static updateTime(t){return new gi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function nf(i,t){return i.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(i.updateTime):i.exists===void 0||i.exists===t.isFoundDocument()}class Gf{}function cb(i,t){if(!i.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return i.isNoDocument()?new hb(i.key,gi.none()):new uu(i.key,i.data,gi.none());{const n=i.data,a=Vn.empty();let o=new De(qe.comparator);for(let u of t.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?a.delete(u):a.set(u,h),o=o.add(u)}return new ns(i.key,a,new Gn(o.toArray()),gi.none())}}function ID(i,t,n){i instanceof uu?function(o,u,h){const m=o.value.clone(),p=O0(o.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(i,t,n):i instanceof ns?function(o,u,h){if(!nf(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=O0(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(fb(o)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(i,t,n):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,t,n)}function $l(i,t,n,a){return i instanceof uu?function(u,h,m,p){if(!nf(u.precondition,h))return m;const g=u.value.clone(),T=N0(u.fieldTransforms,p,h);return g.setAll(T),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(i,t,n,a):i instanceof ns?function(u,h,m,p){if(!nf(u.precondition,h))return m;const g=N0(u.fieldTransforms,p,h),T=h.data;return T.setAll(fb(u)),T.setAll(g),h.convertToFoundDocument(h.version,T).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(w=>w.field))}(i,t,n,a):function(u,h,m){return nf(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m}(i,t,n)}function CD(i,t){let n=null;for(const a of i.fieldTransforms){const o=t.data.field(a.field),u=sb(a.transform,o||null);u!=null&&(n===null&&(n=Vn.empty()),n.set(a.field,u))}return n||null}function D0(i,t){return i.type===t.type&&!!i.key.isEqual(t.key)&&!!i.precondition.isEqual(t.precondition)&&!!function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&lo(a,o,(u,h)=>SD(u,h))}(i.fieldTransforms,t.fieldTransforms)&&(i.type===0?i.value.isEqual(t.value):i.type!==1||i.data.isEqual(t.data)&&i.fieldMask.isEqual(t.fieldMask))}class uu extends Gf{constructor(t,n,a,o=[]){super(),this.key=t,this.value=n,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ns extends Gf{constructor(t,n,a,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=a,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function fb(i){const t=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const a=i.data.field(n);t.set(n,a)}}),t}function O0(i,t,n){const a=new Map;Ft(i.length===n.length);for(let o=0;o<n.length;o++){const u=i[o],h=u.transform,m=t.data.field(u.field);a.set(u.field,AD(h,m,n[o]))}return a}function N0(i,t,n){const a=new Map;for(const o of i){const u=o.transform,h=n.data.field(o.field);a.set(o.field,wD(u,h,t))}return a}class hb extends Gf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class DD extends Gf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(t,n,a,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(t,n){const a=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&ID(u,t,a[o])}}applyToLocalView(t,n){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(n=$l(a,t,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(n=$l(a,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const a=rb();return this.mutations.forEach(o=>{const u=t.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(o.key)?null:m;const p=cb(h,m);p!==null&&a.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(At.min())}),a}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),kt())}isEqual(t){return this.batchId===t.batchId&&lo(this.mutations,t.mutations,(n,a)=>D0(n,a))&&lo(this.baseMutations,t.baseMutations,(n,a)=>D0(n,a))}}class Op{constructor(t,n,a,o){this.batch=t,this.commitVersion=n,this.mutationResults=a,this.docVersions=o}static from(t,n,a){Ft(t.mutations.length===a.length);let o=function(){return _D}();const u=t.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,a[h].version);return new Op(t,n,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Te,Ut;function MD(i){switch(i){case nt.OK:return bt();case nt.CANCELLED:case nt.UNKNOWN:case nt.DEADLINE_EXCEEDED:case nt.RESOURCE_EXHAUSTED:case nt.INTERNAL:case nt.UNAVAILABLE:case nt.UNAUTHENTICATED:return!1;case nt.INVALID_ARGUMENT:case nt.NOT_FOUND:case nt.ALREADY_EXISTS:case nt.PERMISSION_DENIED:case nt.FAILED_PRECONDITION:case nt.ABORTED:case nt.OUT_OF_RANGE:case nt.UNIMPLEMENTED:case nt.DATA_LOSS:return!0;default:return bt()}}function db(i){if(i===void 0)return er("GRPC error has no .code"),nt.UNKNOWN;switch(i){case Te.OK:return nt.OK;case Te.CANCELLED:return nt.CANCELLED;case Te.UNKNOWN:return nt.UNKNOWN;case Te.DEADLINE_EXCEEDED:return nt.DEADLINE_EXCEEDED;case Te.RESOURCE_EXHAUSTED:return nt.RESOURCE_EXHAUSTED;case Te.INTERNAL:return nt.INTERNAL;case Te.UNAVAILABLE:return nt.UNAVAILABLE;case Te.UNAUTHENTICATED:return nt.UNAUTHENTICATED;case Te.INVALID_ARGUMENT:return nt.INVALID_ARGUMENT;case Te.NOT_FOUND:return nt.NOT_FOUND;case Te.ALREADY_EXISTS:return nt.ALREADY_EXISTS;case Te.PERMISSION_DENIED:return nt.PERMISSION_DENIED;case Te.FAILED_PRECONDITION:return nt.FAILED_PRECONDITION;case Te.ABORTED:return nt.ABORTED;case Te.OUT_OF_RANGE:return nt.OUT_OF_RANGE;case Te.UNIMPLEMENTED:return nt.UNIMPLEMENTED;case Te.DATA_LOSS:return nt.DATA_LOSS;default:return bt()}}(Ut=Te||(Te={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD=new Hr([4294967295,4294967295],0);function x0(i){const t=PE().encode(i),n=new DE;return n.update(t),new Uint8Array(n.digest())}function M0(i){const t=new DataView(i.buffer),n=t.getUint32(0,!0),a=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Hr([n,a],0),new Hr([o,u],0)]}class Np{constructor(t,n,a){if(this.bitmap=t,this.padding=n,this.hashCount=a,n<0||n>=8)throw new Bl(`Invalid padding: ${n}`);if(a<0)throw new Bl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new Bl(`Invalid hash count: ${a}`);if(t.length===0&&n!==0)throw new Bl(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*t.length-n,this.de=Hr.fromNumber(this.Ee)}Ae(t,n,a){let o=t.add(n.multiply(Hr.fromNumber(a)));return o.compare(kD)===1&&(o=new Hr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.Ee===0)return!1;const n=x0(t),[a,o]=M0(n);for(let u=0;u<this.hashCount;u++){const h=this.Ae(a,o,u);if(!this.Re(h))return!1}return!0}static create(t,n,a){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),h=new Np(u,o,n);return a.forEach(m=>h.insert(m)),h}insert(t){if(this.Ee===0)return;const n=x0(t),[a,o]=M0(n);for(let u=0;u<this.hashCount;u++){const h=this.Ae(a,o,u);this.Ve(h)}}Ve(t){const n=Math.floor(t/8),a=t%8;this.bitmap[n]|=1<<a}}class Bl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(t,n,a,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,a){const o=new Map;return o.set(t,cu.createSynthesizedTargetChangeForCurrentChange(t,n,a)),new $f(At.min(),o,new le(Ct),nr(),kt())}}class cu{constructor(t,n,a,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,a){return new cu(a,n,kt(),kt(),kt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(t,n,a,o){this.me=t,this.removedTargetIds=n,this.key=a,this.fe=o}}class mb{constructor(t,n){this.targetId=t,this.ge=n}}class pb{constructor(t,n,a=Fe.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=a,this.cause=o}}class k0{constructor(){this.pe=0,this.ye=V0(),this.we=Fe.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(t){t.approximateByteSize()>0&&(this.be=!0,this.we=t)}Fe(){let t=kt(),n=kt(),a=kt();return this.ye.forEach((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:a=a.add(o);break;default:bt()}}),new cu(this.we,this.Se,t,n,a)}Me(){this.be=!1,this.ye=V0()}xe(t,n){this.be=!0,this.ye=this.ye.insert(t,n)}Oe(t){this.be=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,Ft(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class VD{constructor(t){this.ke=t,this.qe=new Map,this.Qe=nr(),this.$e=$c(),this.Ue=$c(),this.Ke=new le(Ct)}We(t){for(const n of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(n,t.fe):this.ze(n,t.key,t.fe);for(const n of t.removedTargetIds)this.ze(n,t.key,t.fe)}je(t){this.forEachTarget(t,n=>{const a=this.He(n);switch(t.state){case 0:this.Je(n)&&a.Ce(t.resumeToken);break;case 1:a.Be(),a.De||a.Me(),a.Ce(t.resumeToken);break;case 2:a.Be(),a.De||this.removeTarget(n);break;case 3:this.Je(n)&&(a.Le(),a.Ce(t.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),a.Ce(t.resumeToken));break;default:bt()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.qe.forEach((a,o)=>{this.Je(o)&&n(o)})}Ze(t){const n=t.targetId,a=t.ge.count,o=this.Xe(n);if(o){const u=o.target;if(Bm(u))if(a===0){const h=new yt(u.path);this.ze(n,h,Xe.newNoDocument(h,At.min()))}else Ft(a===1);else{const h=this.et(n);if(h!==a){const m=this.tt(t),p=m?this.nt(m,t,h):1;if(p!==0){this.Ye(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,g)}}}}}tt(t){const n=t.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:u=0}=n;let h,m;try{h=Qr(a).toUint8Array()}catch(p){if(p instanceof BE)return oo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Np(h,o,u)}catch(p){return oo(p instanceof Bl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ee===0?null:m}nt(t,n,a){return n.ge.count===a-this.st(t,n.targetId)?0:2}st(t,n){const a=this.ke.getRemoteKeysForTarget(n);let o=0;return a.forEach(u=>{const h=this.ke.it(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.ze(n,u,null),o++)}),o}ot(t){const n=new Map;this.qe.forEach((u,h)=>{const m=this.Xe(h);if(m){if(u.current&&Bm(m.target)){const p=new yt(m.target.path);this._t(p).has(h)||this.ut(h,p)||this.ze(h,p,Xe.newNoDocument(p,t))}u.ve&&(n.set(h,u.Fe()),u.Me())}});let a=kt();this.Ue.forEach((u,h)=>{let m=!0;h.forEachWhile(p=>{const g=this.Xe(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(a=a.add(u))}),this.Qe.forEach((u,h)=>h.setReadTime(t));const o=new $f(t,n,this.Ke,this.Qe,a);return this.Qe=nr(),this.$e=$c(),this.Ue=$c(),this.Ke=new le(Ct),o}Ge(t,n){if(!this.Je(t))return;const a=this.ut(t,n.key)?2:0;this.He(t).xe(n.key,a),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(t)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(t))}ze(t,n,a){if(!this.Je(t))return;const o=this.He(t);this.ut(t,n)?o.xe(n,1):o.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(t)),this.Ue=this.Ue.insert(n,this.ct(n).add(t)),a&&(this.Qe=this.Qe.insert(n,a))}removeTarget(t){this.qe.delete(t)}et(t){const n=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let n=this.qe.get(t);return n||(n=new k0,this.qe.set(t,n)),n}ct(t){let n=this.Ue.get(t);return n||(n=new De(Ct),this.Ue=this.Ue.insert(t,n)),n}_t(t){let n=this.$e.get(t);return n||(n=new De(Ct),this.$e=this.$e.insert(t,n)),n}Je(t){const n=this.Xe(t)!==null;return n||ct("WatchChangeAggregator","Detected inactive target",t),n}Xe(t){const n=this.qe.get(t);return n&&n.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new k0),this.ke.getRemoteKeysForTarget(t).forEach(n=>{this.ze(t,n,null)})}ut(t,n){return this.ke.getRemoteKeysForTarget(t).has(n)}}function $c(){return new le(yt.comparator)}function V0(){return new le(yt.comparator)}const PD={asc:"ASCENDING",desc:"DESCENDING"},LD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},UD={and:"AND",or:"OR"};class zD{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Hm(i,t){return i.useProto3Json||zf(t)?t:{value:t}}function Af(i,t){return i.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function gb(i,t){return i.useProto3Json?t.toBase64():t.toUint8Array()}function BD(i,t){return Af(i,t.toTimestamp())}function yi(i){return Ft(!!i),At.fromTimestamp(function(n){const a=Kr(n);return new Ce(a.seconds,a.nanos)}(i))}function xp(i,t){return qm(i,t).canonicalString()}function qm(i,t){const n=function(o){return new ae(["projects",o.projectId,"databases",o.database])}(i).child("documents");return t===void 0?n:n.child(t)}function yb(i){const t=ae.fromString(i);return Ft(bb(t)),t}function Fm(i,t){return xp(i.databaseId,t.path)}function vm(i,t){const n=yb(t);if(n.get(1)!==i.databaseId.projectId)throw new gt(nt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new gt(nt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new yt(vb(n))}function _b(i,t){return xp(i.databaseId,t)}function jD(i){const t=yb(i);return t.length===4?ae.emptyPath():vb(t)}function Gm(i){return new ae(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function vb(i){return Ft(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function P0(i,t,n){return{name:Fm(i,t),fields:n.value.mapValue.fields}}function HD(i,t){let n;if("targetChange"in t){t.targetChange;const a=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:bt()}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=function(g,T){return g.useProto3Json?(Ft(T===void 0||typeof T=="string"),Fe.fromBase64String(T||"")):(Ft(T===void 0||T instanceof Buffer||T instanceof Uint8Array),Fe.fromUint8Array(T||new Uint8Array))}(i,t.targetChange.resumeToken),h=t.targetChange.cause,m=h&&function(g){const T=g.code===void 0?nt.UNKNOWN:db(g.code);return new gt(T,g.message||"")}(h);n=new pb(a,o,u,m||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const o=vm(i,a.document.name),u=yi(a.document.updateTime),h=a.document.createTime?yi(a.document.createTime):At.min(),m=new Vn({mapValue:{fields:a.document.fields}}),p=Xe.newFoundDocument(o,u,h,m),g=a.targetIds||[],T=a.removedTargetIds||[];n=new rf(g,T,p.key,p)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const o=vm(i,a.document),u=a.readTime?yi(a.readTime):At.min(),h=Xe.newNoDocument(o,u),m=a.removedTargetIds||[];n=new rf([],m,h.key,h)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const o=vm(i,a.document),u=a.removedTargetIds||[];n=new rf([],u,o,null)}else{if(!("filter"in t))return bt();{t.filter;const a=t.filter;a.targetId;const{count:o=0,unchangedNames:u}=a,h=new xD(o,u),m=a.targetId;n=new mb(m,h)}}return n}function qD(i,t){let n;if(t instanceof uu)n={update:P0(i,t.key,t.value)};else if(t instanceof hb)n={delete:Fm(i,t.key)};else if(t instanceof ns)n={update:P0(i,t.key,t.data),updateMask:ZD(t.fieldMask)};else{if(!(t instanceof DD))return bt();n={verify:Fm(i,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(a=>function(u,h){const m=h.transform;if(m instanceof bf)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof tu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof eu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof wf)return{fieldPath:h.field.canonicalString(),increment:m.Ie};throw bt()}(0,a))),t.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:BD(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:bt()}(i,t.precondition)),n}function FD(i,t){return i&&i.length>0?(Ft(t!==void 0),i.map(n=>function(o,u){let h=o.updateTime?yi(o.updateTime):yi(u);return h.isEqual(At.min())&&(h=yi(u)),new RD(h,o.transformResults||[])}(n,t))):[]}function GD(i,t){return{documents:[_b(i,t.path)]}}function $D(i,t){const n={structuredQuery:{}},a=t.path;let o;t.collectionGroup!==null?(o=a,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=_b(i,o);const u=function(g){if(g.length!==0)return Eb(Ti.create(g,"and"))}(t.filters);u&&(n.structuredQuery.where=u);const h=function(g){if(g.length!==0)return g.map(T=>function(R){return{field:Js(R.field),direction:YD(R.dir)}}(T))}(t.orderBy);h&&(n.structuredQuery.orderBy=h);const m=Hm(i,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(t.endAt)),{ht:n,parent:o}}function KD(i){let t=jD(i.parent);const n=i.structuredQuery,a=n.from?n.from.length:0;let o=null;if(a>0){Ft(a===1);const T=n.from[0];T.allDescendants?o=T.collectionId:t=t.child(T.collectionId)}let u=[];n.where&&(u=function(w){const R=Tb(w);return R instanceof Ti&&XE(R)?R.getFilters():[R]}(n.where));let h=[];n.orderBy&&(h=function(w){return w.map(R=>function(V){return new Ef(to(V.field),function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(V.direction))}(R))}(n.orderBy));let m=null;n.limit&&(m=function(w){let R;return R=typeof w=="object"?w.value:w,zf(R)?null:R}(n.limit));let p=null;n.startAt&&(p=function(w){const R=!!w.before,M=w.values||[];return new Tf(M,R)}(n.startAt));let g=null;return n.endAt&&(g=function(w){const R=!w.before,M=w.values||[];return new Tf(M,R)}(n.endAt)),hD(t,o,h,u,m,"F",p,g)}function QD(i,t){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return bt()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function Tb(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=to(n.unaryFilter.field);return Ie.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=to(n.unaryFilter.field);return Ie.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=to(n.unaryFilter.field);return Ie.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=to(n.unaryFilter.field);return Ie.create(h,"!=",{nullValue:"NULL_VALUE"});default:return bt()}}(i):i.fieldFilter!==void 0?function(n){return Ie.create(to(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return bt()}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return Ti.create(n.compositeFilter.filters.map(a=>Tb(a)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return bt()}}(n.compositeFilter.op))}(i):bt()}function YD(i){return PD[i]}function XD(i){return LD[i]}function WD(i){return UD[i]}function Js(i){return{fieldPath:i.canonicalString()}}function to(i){return qe.fromServerFormat(i.fieldPath)}function Eb(i){return i instanceof Ie?function(n){if(n.op==="=="){if(w0(n.value))return{unaryFilter:{field:Js(n.field),op:"IS_NAN"}};if(b0(n.value))return{unaryFilter:{field:Js(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(w0(n.value))return{unaryFilter:{field:Js(n.field),op:"IS_NOT_NAN"}};if(b0(n.value))return{unaryFilter:{field:Js(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Js(n.field),op:XD(n.op),value:n.value}}}(i):i instanceof Ti?function(n){const a=n.getFilters().map(o=>Eb(o));return a.length===1?a[0]:{compositeFilter:{op:WD(n.op),filters:a}}}(i):bt()}function ZD(i){const t=[];return i.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function bb(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(t,n,a,o,u=At.min(),h=At.min(),m=Fe.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new zr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(t){this.Tt=t}}function tO(i){const t=KD({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?jm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(){this.Tn=new nO}addToCollectionParentIndex(t,n){return this.Tn.add(n),tt.resolve()}getCollectionParents(t,n){return tt.resolve(this.Tn.getEntries(n))}addFieldIndex(t,n){return tt.resolve()}deleteFieldIndex(t,n){return tt.resolve()}deleteAllFieldIndexes(t){return tt.resolve()}createTargetIndexes(t,n){return tt.resolve()}getDocumentsMatchingTarget(t,n){return tt.resolve(null)}getIndexType(t,n){return tt.resolve(0)}getFieldIndexes(t,n){return tt.resolve([])}getNextCollectionGroupToUpdate(t){return tt.resolve(null)}getMinOffset(t,n){return tt.resolve($r.min())}getMinOffsetFromCollectionGroup(t,n){return tt.resolve($r.min())}updateCollectionGroup(t,n,a){return tt.resolve()}updateIndexEntries(t,n){return tt.resolve()}}class nO{constructor(){this.index={}}add(t){const n=t.lastSegment(),a=t.popLast(),o=this.index[n]||new De(ae.comparator),u=!o.has(a);return this.index[n]=o.add(a),u}has(t){const n=t.lastSegment(),a=t.popLast(),o=this.index[n];return o&&o.has(a)}getEntries(t){return(this.index[t]||new De(ae.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},wb=41943040;class ln{static withCacheSize(t){return new ln(t,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(wb,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Un(){return new fo(0)}static Kn(){return new fo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0="LruGarbageCollector",iO=1048576;function z0([i,t],[n,a]){const o=Ct(i,n);return o===0?Ct(t,a):o}class rO{constructor(t){this.Hn=t,this.buffer=new De(z0),this.Jn=0}Yn(){return++this.Jn}Zn(t){const n=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();z0(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class aO{constructor(t,n,a){this.garbageCollector=t,this.asyncQueue=n,this.localStore=a,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(t){ct(U0,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Eo(n)?ct(U0,"Ignoring IndexedDB error during garbage collection: ",n):await To(n)}await this.er(3e5)})}}class sO{constructor(t,n){this.tr=t,this.params=n}calculateTargetCount(t,n){return this.tr.nr(t).next(a=>Math.floor(n/100*a))}nthSequenceNumber(t,n){if(n===0)return tt.resolve(Uf.ae);const a=new rO(n);return this.tr.forEachTarget(t,o=>a.Zn(o.sequenceNumber)).next(()=>this.tr.rr(t,o=>a.Zn(o))).next(()=>a.maxValue)}removeTargets(t,n,a){return this.tr.removeTargets(t,n,a)}removeOrphanedDocuments(t,n){return this.tr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ct("LruGarbageCollector","Garbage collection skipped; disabled"),tt.resolve(L0)):this.getCacheSize(t).next(a=>a<this.params.cacheSizeCollectionThreshold?(ct("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),L0):this.ir(t,n))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,n){let a,o,u,h,m,p,g;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(ct("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,h=Date.now(),this.nthSequenceNumber(t,o))).next(w=>(a=w,m=Date.now(),this.removeTargets(t,a,n))).next(w=>(u=w,p=Date.now(),this.removeOrphanedDocuments(t,a))).next(w=>(g=Date.now(),Ws()<=Mt.DEBUG&&ct("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-T}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${w} documents in `+(g-p)+`ms
Total Duration: ${g-T}ms`),tt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:w})))}}function oO(i,t){return new sO(i,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(){this.changes=new es(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Xe.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?tt.resolve(a):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(t,n,a,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=o}getDocument(t,n){let a=null;return this.documentOverlayCache.getOverlay(t,n).next(o=>(a=o,this.remoteDocumentCache.getEntry(t,n))).next(o=>(a!==null&&$l(a.mutation,o,Gn.empty(),Ce.now()),o))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(a=>this.getLocalViewOfDocuments(t,a,kt()).next(()=>a))}getLocalViewOfDocuments(t,n,a=kt()){const o=Ha();return this.populateOverlays(t,o,n).next(()=>this.computeViews(t,n,o,a).next(u=>{let h=zl();return u.forEach((m,p)=>{h=h.insert(m,p.overlayedDocument)}),h}))}getOverlayedDocuments(t,n){const a=Ha();return this.populateOverlays(t,a,n).next(()=>this.computeViews(t,n,a,kt()))}populateOverlays(t,n,a){const o=[];return a.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(t,o).next(u=>{u.forEach((h,m)=>{n.set(h,m)})})}computeViews(t,n,a,o){let u=nr();const h=Gl(),m=function(){return Gl()}();return n.forEach((p,g)=>{const T=a.get(g.key);o.has(g.key)&&(T===void 0||T.mutation instanceof ns)?u=u.insert(g.key,g):T!==void 0?(h.set(g.key,T.mutation.getFieldMask()),$l(T.mutation,g,T.mutation.getFieldMask(),Ce.now())):h.set(g.key,Gn.empty())}),this.recalculateAndSaveOverlays(t,u).next(p=>(p.forEach((g,T)=>h.set(g,T)),n.forEach((g,T)=>{var w;return m.set(g,new uO(T,(w=h.get(g))!==null&&w!==void 0?w:null))}),m))}recalculateAndSaveOverlays(t,n){const a=Gl();let o=new le((h,m)=>h-m),u=kt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(h=>{for(const m of h)m.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let T=a.get(p)||Gn.empty();T=m.applyToLocalView(g,T),a.set(p,T);const w=(o.get(m.batchId)||kt()).add(p);o=o.insert(m.batchId,w)})}).next(()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,T=p.value,w=rb();T.forEach(R=>{if(!u.has(R)){const M=cb(n.get(R),a.get(R));M!==null&&w.set(R,M),u=u.add(R)}}),h.push(this.documentOverlayCache.saveOverlays(t,g,w))}return tt.waitFor(h)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(a=>this.recalculateAndSaveOverlays(t,a))}getDocumentsMatchingQuery(t,n,a,o){return function(h){return yt.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):dD(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,a,o):this.getDocumentsMatchingCollectionQuery(t,n,a,o)}getNextDocuments(t,n,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,a,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,a.largestBatchId,o-u.size):tt.resolve(Ha());let m=Xl,p=u;return h.next(g=>tt.forEach(g,(T,w)=>(m<w.largestBatchId&&(m=w.largestBatchId),u.get(T)?tt.resolve():this.remoteDocumentCache.getEntry(t,T).next(R=>{p=p.insert(T,R)}))).next(()=>this.populateOverlays(t,g,u)).next(()=>this.computeViews(t,p,g,kt())).next(T=>({batchId:m,changes:ib(T)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new yt(n)).next(a=>{let o=zl();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o})}getDocumentsMatchingCollectionGroupQuery(t,n,a,o){const u=n.collectionGroup;let h=zl();return this.indexManager.getCollectionParents(t,u).next(m=>tt.forEach(m,p=>{const g=function(w,R){return new jf(R,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,a,o).next(T=>{T.forEach((w,R)=>{h=h.insert(w,R)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(t,n,a,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,a.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,a,u,o))).next(h=>{u.forEach((p,g)=>{const T=g.getKey();h.get(T)===null&&(h=h.insert(T,Xe.newInvalidDocument(T)))});let m=zl();return h.forEach((p,g)=>{const T=u.get(p);T!==void 0&&$l(T.mutation,g,Gn.empty(),Ce.now()),qf(n,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,n){return tt.resolve(this.dr.get(n))}saveBundleMetadata(t,n){return this.dr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:yi(o.createTime)}}(n)),tt.resolve()}getNamedQuery(t,n){return tt.resolve(this.Ar.get(n))}saveNamedQuery(t,n){return this.Ar.set(n.name,function(o){return{name:o.name,query:tO(o.bundledQuery),readTime:yi(o.readTime)}}(n)),tt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(){this.overlays=new le(yt.comparator),this.Rr=new Map}getOverlay(t,n){return tt.resolve(this.overlays.get(n))}getOverlays(t,n){const a=Ha();return tt.forEach(n,o=>this.getOverlay(t,o).next(u=>{u!==null&&a.set(o,u)})).next(()=>a)}saveOverlays(t,n,a){return a.forEach((o,u)=>{this.Et(t,n,u)}),tt.resolve()}removeOverlaysForBatchId(t,n,a){const o=this.Rr.get(a);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(a)),tt.resolve()}getOverlaysForCollection(t,n,a){const o=Ha(),u=n.length+1,h=new yt(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>a&&o.set(p.getKey(),p)}return tt.resolve(o)}getOverlaysForCollectionGroup(t,n,a,o){let u=new le((g,T)=>g-T);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>a){let T=u.get(g.largestBatchId);T===null&&(T=Ha(),u=u.insert(g.largestBatchId,T)),T.set(g.getKey(),g)}}const m=Ha(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,T)=>m.set(g,T)),!(m.size()>=o)););return tt.resolve(m)}Et(t,n,a){const o=this.overlays.get(a.key);if(o!==null){const h=this.Rr.get(o.largestBatchId).delete(a.key);this.Rr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(a.key,new ND(n,a));let u=this.Rr.get(n);u===void 0&&(u=kt(),this.Rr.set(n,u)),this.Rr.set(n,u.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(){this.sessionToken=Fe.EMPTY_BYTE_STRING}getSessionToken(t){return tt.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,tt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(){this.Vr=new De(Pe.mr),this.gr=new De(Pe.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,n){const a=new Pe(t,n);this.Vr=this.Vr.add(a),this.gr=this.gr.add(a)}yr(t,n){t.forEach(a=>this.addReference(a,n))}removeReference(t,n){this.wr(new Pe(t,n))}Sr(t,n){t.forEach(a=>this.removeReference(a,n))}br(t){const n=new yt(new ae([])),a=new Pe(n,t),o=new Pe(n,t+1),u=[];return this.gr.forEachInRange([a,o],h=>{this.wr(h),u.push(h.key)}),u}Dr(){this.Vr.forEach(t=>this.wr(t))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const n=new yt(new ae([])),a=new Pe(n,t),o=new Pe(n,t+1);let u=kt();return this.gr.forEachInRange([a,o],h=>{u=u.add(h.key)}),u}containsKey(t){const n=new Pe(t,0),a=this.Vr.firstAfterOrEqual(n);return a!==null&&t.isEqual(a.key)}}class Pe{constructor(t,n){this.key=t,this.Cr=n}static mr(t,n){return yt.comparator(t.key,n.key)||Ct(t.Cr,n.Cr)}static pr(t,n){return Ct(t.Cr,n.Cr)||yt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new De(Pe.mr)}checkEmpty(t){return tt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,a,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new OD(u,n,a,o);this.mutationQueue.push(h);for(const m of o)this.Mr=this.Mr.add(new Pe(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return tt.resolve(h)}lookupMutationBatch(t,n){return tt.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(t,n){const a=n+1,o=this.Nr(a),u=o<0?0:o;return tt.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return tt.resolve(this.mutationQueue.length===0?wp:this.Fr-1)}getAllMutationBatches(t){return tt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const a=new Pe(n,0),o=new Pe(n,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([a,o],h=>{const m=this.Or(h.Cr);u.push(m)}),tt.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let a=new De(Ct);return n.forEach(o=>{const u=new Pe(o,0),h=new Pe(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,h],m=>{a=a.add(m.Cr)})}),tt.resolve(this.Br(a))}getAllMutationBatchesAffectingQuery(t,n){const a=n.path,o=a.length+1;let u=a;yt.isDocumentKey(u)||(u=u.child(""));const h=new Pe(new yt(u),0);let m=new De(Ct);return this.Mr.forEachWhile(p=>{const g=p.key.path;return!!a.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Cr)),!0)},h),tt.resolve(this.Br(m))}Br(t){const n=[];return t.forEach(a=>{const o=this.Or(a);o!==null&&n.push(o)}),n}removeMutationBatch(t,n){Ft(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let a=this.Mr;return tt.forEach(n.mutations,o=>{const u=new Pe(o.key,n.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.Mr=a})}qn(t){}containsKey(t,n){const a=new Pe(n,0),o=this.Mr.firstAfterOrEqual(a);return tt.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,tt.resolve()}Lr(t,n){return this.Nr(t)}Nr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Or(t){const n=this.Nr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(t){this.kr=t,this.docs=function(){return new le(yt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const a=n.key,o=this.docs.get(a),u=o?o.size:0,h=this.kr(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const a=this.docs.get(n);return tt.resolve(a?a.document.mutableCopy():Xe.newInvalidDocument(n))}getEntries(t,n){let a=nr();return n.forEach(o=>{const u=this.docs.get(o);a=a.insert(o,u?u.document.mutableCopy():Xe.newInvalidDocument(o))}),tt.resolve(a)}getDocumentsMatchingQuery(t,n,a,o){let u=nr();const h=n.path,m=new yt(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:T}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||F2(q2(T),a)<=0||(o.has(T.key)||qf(n,T))&&(u=u.insert(T.key,T.mutableCopy()))}return tt.resolve(u)}getAllFromCollectionGroup(t,n,a,o){bt()}qr(t,n){return tt.forEach(this.docs,a=>n(a))}newChangeBuffer(t){return new gO(this)}getSize(t){return tt.resolve(this.size)}}class gO extends lO{constructor(t){super(),this.Ir=t}applyChanges(t){const n=[];return this.changes.forEach((a,o)=>{o.isValidDocument()?n.push(this.Ir.addEntry(t,o)):this.Ir.removeEntry(a)}),tt.waitFor(n)}getFromCache(t,n){return this.Ir.getEntry(t,n)}getAllFromCache(t,n){return this.Ir.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(t){this.persistence=t,this.Qr=new es(n=>Rp(n),Ip),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Mp,this.targetCount=0,this.Kr=fo.Un()}forEachTarget(t,n){return this.Qr.forEach((a,o)=>n(o)),tt.resolve()}getLastRemoteSnapshotVersion(t){return tt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return tt.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Kr.next(),tt.resolve(this.highestTargetId)}setTargetsMetadata(t,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.$r&&(this.$r=n),tt.resolve()}zn(t){this.Qr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Kr=new fo(n),this.highestTargetId=n),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,n){return this.zn(n),this.targetCount+=1,tt.resolve()}updateTargetData(t,n){return this.zn(n),tt.resolve()}removeTargetData(t,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,tt.resolve()}removeTargets(t,n,a){let o=0;const u=[];return this.Qr.forEach((h,m)=>{m.sequenceNumber<=n&&a.get(m.targetId)===null&&(this.Qr.delete(h),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)}),tt.waitFor(u).next(()=>o)}getTargetCount(t){return tt.resolve(this.targetCount)}getTargetData(t,n){const a=this.Qr.get(n)||null;return tt.resolve(a)}addMatchingKeys(t,n,a){return this.Ur.yr(n,a),tt.resolve()}removeMatchingKeys(t,n,a){this.Ur.Sr(n,a);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(h=>{u.push(o.markPotentiallyOrphaned(t,h))}),tt.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this.Ur.br(n),tt.resolve()}getMatchingKeysForTargetId(t,n){const a=this.Ur.vr(n);return tt.resolve(a)}containsKey(t,n){return tt.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(t,n){this.Wr={},this.overlays={},this.Gr=new Uf(0),this.zr=!1,this.zr=!0,this.jr=new dO,this.referenceDelegate=t(this),this.Hr=new yO(this),this.indexManager=new eO,this.remoteDocumentCache=function(o){return new pO(o)}(a=>this.referenceDelegate.Jr(a)),this.serializer=new JD(n),this.Yr=new fO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new hO,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let a=this.Wr[t.toKey()];return a||(a=new mO(n,this.referenceDelegate),this.Wr[t.toKey()]=a),a}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,n,a){ct("MemoryPersistence","Starting transaction:",t);const o=new _O(this.Gr.next());return this.referenceDelegate.Zr(),a(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(t,n){return tt.or(Object.values(this.Wr).map(a=>()=>a.containsKey(t,n)))}}class _O extends $2{constructor(t){super(),this.currentSequenceNumber=t}}class kp{constructor(t){this.persistence=t,this.ti=new Mp,this.ni=null}static ri(t){return new kp(t)}get ii(){if(this.ni)return this.ni;throw bt()}addReference(t,n,a){return this.ti.addReference(a,n),this.ii.delete(a.toString()),tt.resolve()}removeReference(t,n,a){return this.ti.removeReference(a,n),this.ii.add(a.toString()),tt.resolve()}markPotentiallyOrphaned(t,n){return this.ii.add(n.toString()),tt.resolve()}removeTarget(t,n){this.ti.br(n.targetId).forEach(o=>this.ii.add(o.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,n.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>a.removeTargetData(t,n))}Zr(){this.ni=new Set}Xr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return tt.forEach(this.ii,a=>{const o=yt.fromPath(a);return this.si(t,o).next(u=>{u||n.removeEntry(o,At.min())})}).next(()=>(this.ni=null,n.apply(t)))}updateLimboDocument(t,n){return this.si(t,n).next(a=>{a?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(t){return 0}si(t,n){return tt.or([()=>tt.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.ei(t,n)])}}class Sf{constructor(t,n){this.persistence=t,this.oi=new es(a=>Y2(a.path),(a,o)=>a.isEqual(o)),this.garbageCollector=oO(this,n)}static ri(t,n){return new Sf(t,n)}Zr(){}Xr(t){return tt.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}nr(t){const n=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(a=>n.next(o=>a+o))}sr(t){let n=0;return this.rr(t,a=>{n++}).next(()=>n)}rr(t,n){return tt.forEach(this.oi,(a,o)=>this.ar(t,a,o).next(u=>u?tt.resolve():n(o)))}removeTargets(t,n,a){return this.persistence.getTargetCache().removeTargets(t,n,a)}removeOrphanedDocuments(t,n){let a=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(t,h=>this.ar(t,h,n).next(m=>{m||(a++,u.removeEntry(h,At.min()))})).next(()=>u.apply(t)).next(()=>a)}markPotentiallyOrphaned(t,n){return this.oi.set(n,t.currentSequenceNumber),tt.resolve()}removeTarget(t,n){const a=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,n,a){return this.oi.set(a,t.currentSequenceNumber),tt.resolve()}removeReference(t,n,a){return this.oi.set(a,t.currentSequenceNumber),tt.resolve()}updateLimboDocument(t,n){return this.oi.set(n,t.currentSequenceNumber),tt.resolve()}Jr(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=tf(t.data.value)),n}ar(t,n,a){return tt.or([()=>this.persistence.ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.oi.get(n);return tt.resolve(o!==void 0&&o>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(t,n,a,o){this.targetId=t,this.fromCache=n,this.Hi=a,this.Ji=o}static Yi(t,n){let a=kt(),o=kt();for(const u of n.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Vp(t,n.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return NS()?8:K2(We())>0?6:4}()}initialize(t,n){this.ns=t,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(t,n,a,o){const u={result:null};return this.rs(t,n).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.ss(t,n,o,a).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new vO;return this._s(t,n,h).next(m=>{if(u.result=m,this.Xi)return this.us(t,n,h,m.size)})}).next(()=>u.result)}us(t,n,a,o){return a.documentReadCount<this.es?(Ws()<=Mt.DEBUG&&ct("QueryEngine","SDK will not create cache indexes for query:",Zs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),tt.resolve()):(Ws()<=Mt.DEBUG&&ct("QueryEngine","Query:",Zs(n),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ts*o?(Ws()<=Mt.DEBUG&&ct("QueryEngine","The SDK decides to create cache indexes for query:",Zs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,pi(n))):tt.resolve())}rs(t,n){if(I0(n))return tt.resolve(null);let a=pi(n);return this.indexManager.getIndexType(t,a).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=jm(n,null,"F"),a=pi(n)),this.indexManager.getDocumentsMatchingTarget(t,a).next(u=>{const h=kt(...u);return this.ns.getDocuments(t,h).next(m=>this.indexManager.getMinOffset(t,a).next(p=>{const g=this.cs(n,m);return this.ls(n,g,h,p.readTime)?this.rs(t,jm(n,null,"F")):this.hs(t,g,n,p)}))})))}ss(t,n,a,o){return I0(n)||o.isEqual(At.min())?tt.resolve(null):this.ns.getDocuments(t,a).next(u=>{const h=this.cs(n,u);return this.ls(n,h,a,o)?tt.resolve(null):(Ws()<=Mt.DEBUG&&ct("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Zs(n)),this.hs(t,h,n,H2(o,Xl)).next(m=>m))})}cs(t,n){let a=new De(eb(t));return n.forEach((o,u)=>{qf(t,u)&&(a=a.add(u))}),a}ls(t,n,a,o){if(t.limit===null)return!1;if(a.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(t,n,a){return Ws()<=Mt.DEBUG&&ct("QueryEngine","Using full collection scan to execute query:",Zs(n)),this.ns.getDocumentsMatchingQuery(t,n,$r.min(),a)}hs(t,n,a,o){return this.ns.getDocumentsMatchingQuery(t,a,o).next(u=>(n.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pp="LocalStore",EO=3e8;class bO{constructor(t,n,a,o){this.persistence=t,this.Ps=n,this.serializer=o,this.Ts=new le(Ct),this.Is=new es(u=>Rp(u),Ip),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(a)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new cO(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ts))}}function wO(i,t,n,a){return new bO(i,t,n,a)}async function Sb(i,t){const n=St(i);return await n.persistence.runTransaction("Handle user change","readonly",a=>{let o;return n.mutationQueue.getAllMutationBatches(a).next(u=>(o=u,n.As(t),n.mutationQueue.getAllMutationBatches(a))).next(u=>{const h=[],m=[];let p=kt();for(const g of o){h.push(g.batchId);for(const T of g.mutations)p=p.add(T.key)}for(const g of u){m.push(g.batchId);for(const T of g.mutations)p=p.add(T.key)}return n.localDocuments.getDocuments(a,p).next(g=>({Rs:g,removedBatchIds:h,addedBatchIds:m}))})})}function AO(i,t){const n=St(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const o=t.batch.keys(),u=n.ds.newChangeBuffer({trackRemovals:!0});return function(m,p,g,T){const w=g.batch,R=w.keys();let M=tt.resolve();return R.forEach(V=>{M=M.next(()=>T.getEntry(p,V)).next(K=>{const U=g.docVersions.get(V);Ft(U!==null),K.version.compareTo(U)<0&&(w.applyToRemoteDocument(K,g),K.isValidDocument()&&(K.setReadTime(g.commitVersion),T.addEntry(K)))})}),M.next(()=>m.mutationQueue.removeMutationBatch(p,w))}(n,a,t,u).next(()=>u.apply(a)).next(()=>n.mutationQueue.performConsistencyCheck(a)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(a,o,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(m){let p=kt();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(t))).next(()=>n.localDocuments.getDocuments(a,o))})}function Rb(i){const t=St(i);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Hr.getLastRemoteSnapshotVersion(n))}function SO(i,t){const n=St(i),a=t.snapshotVersion;let o=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=n.ds.newChangeBuffer({trackRemovals:!0});o=n.Ts;const m=[];t.targetChanges.forEach((T,w)=>{const R=o.get(w);if(!R)return;m.push(n.Hr.removeMatchingKeys(u,T.removedDocuments,w).next(()=>n.Hr.addMatchingKeys(u,T.addedDocuments,w)));let M=R.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(w)!==null?M=M.withResumeToken(Fe.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):T.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(T.resumeToken,a)),o=o.insert(w,M),function(K,U,$){return K.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=EO?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0}(R,M,T)&&m.push(n.Hr.updateTargetData(u,M))});let p=nr(),g=kt();if(t.documentUpdates.forEach(T=>{t.resolvedLimboDocuments.has(T)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,T))}),m.push(RO(u,h,t.documentUpdates).next(T=>{p=T.Vs,g=T.fs})),!a.isEqual(At.min())){const T=n.Hr.getLastRemoteSnapshotVersion(u).next(w=>n.Hr.setTargetsMetadata(u,u.currentSequenceNumber,a));m.push(T)}return tt.waitFor(m).next(()=>h.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(n.Ts=o,u))}function RO(i,t,n){let a=kt(),o=kt();return n.forEach(u=>a=a.add(u)),t.getEntries(i,a).next(u=>{let h=nr();return n.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(At.min())?(t.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),h=h.insert(m,p)):ct(Pp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{Vs:h,fs:o}})}function IO(i,t){const n=St(i);return n.persistence.runTransaction("Get next mutation batch","readonly",a=>(t===void 0&&(t=wp),n.mutationQueue.getNextMutationBatchAfterBatchId(a,t)))}function CO(i,t){const n=St(i);return n.persistence.runTransaction("Allocate target","readwrite",a=>{let o;return n.Hr.getTargetData(a,t).next(u=>u?(o=u,tt.resolve(o)):n.Hr.allocateTargetId(a).next(h=>(o=new zr(t,h,"TargetPurposeListen",a.currentSequenceNumber),n.Hr.addTargetData(a,o).next(()=>o))))}).then(a=>{const o=n.Ts.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(a.targetId,a),n.Is.set(t,a.targetId)),a})}async function $m(i,t,n){const a=St(i),o=a.Ts.get(t),u=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",u,h=>a.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!Eo(h))throw h;ct(Pp,`Failed to update sequence numbers for target ${t}: ${h}`)}a.Ts=a.Ts.remove(t),a.Is.delete(o.target)}function B0(i,t,n){const a=St(i);let o=At.min(),u=kt();return a.persistence.runTransaction("Execute query","readwrite",h=>function(p,g,T){const w=St(p),R=w.Is.get(T);return R!==void 0?tt.resolve(w.Ts.get(R)):w.Hr.getTargetData(g,T)}(a,h,pi(t)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,a.Hr.getMatchingKeysForTargetId(h,m.targetId).next(p=>{u=p})}).next(()=>a.Ps.getDocumentsMatchingQuery(h,t,n?o:At.min(),n?u:kt())).next(m=>(DO(a,pD(t),m),{documents:m,gs:u})))}function DO(i,t,n){let a=i.Es.get(t)||At.min();n.forEach((o,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)}),i.Es.set(t,a)}class j0{constructor(){this.activeTargetIds=ED()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}bs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class OO{constructor(){this.ho=new j0,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,a){}addLocalQueryTarget(t,n=!0){return n&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,n,a){this.Po[t]=n}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new j0,Promise.resolve()}handleUserChange(t,n,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{To(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0="ConnectivityMonitor";class q0{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ct(H0,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){ct(H0,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kc=null;function Km(){return Kc===null?Kc=function(){return 268435456+Math.round(2147483648*Math.random())}():Kc++,"0x"+Kc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tm="RestConnection",xO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class MO{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=n+"://"+t.host,this.yo=`projects/${a}/databases/${o}`,this.wo=this.databaseId.database===_f?`project_id=${a}`:`project_id=${a}&database_id=${o}`}So(t,n,a,o,u){const h=Km(),m=this.bo(t,n.toUriEncodedString());ct(Tm,`Sending RPC '${t}' ${h}:`,m,a);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,u),this.vo(t,m,p,a).then(g=>(ct(Tm,`Received RPC '${t}' ${h}: `,g),g),g=>{throw oo(Tm,`RPC '${t}' ${h} failed with error: `,g,"url: ",m,"request:",a),g})}Co(t,n,a,o,u,h){return this.So(t,n,a,o,u)}Do(t,n,a){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+vo}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>t[u]=o),a&&a.headers.forEach((o,u)=>t[u]=o)}bo(t,n){const a=xO[t];return`${this.po}/v1/${n}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Uo(t){this.ko(t)}Ko(t){this.qo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qe="WebChannelConnection";class VO extends MO{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,n,a,o){const u=Km();return new Promise((h,m)=>{const p=new OE;p.setWithCredentials(!0),p.listenOnce(NE.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Jc.NO_ERROR:const T=p.getResponseJson();ct(Qe,`XHR for RPC '${t}' ${u} received:`,JSON.stringify(T)),h(T);break;case Jc.TIMEOUT:ct(Qe,`RPC '${t}' ${u} timed out`),m(new gt(nt.DEADLINE_EXCEEDED,"Request time out"));break;case Jc.HTTP_ERROR:const w=p.getStatus();if(ct(Qe,`RPC '${t}' ${u} failed with status:`,w,"response text:",p.getResponseText()),w>0){let R=p.getResponseJson();Array.isArray(R)&&(R=R[0]);const M=R==null?void 0:R.error;if(M&&M.status&&M.message){const V=function(U){const $=U.toLowerCase().replace(/_/g,"-");return Object.values(nt).indexOf($)>=0?$:nt.UNKNOWN}(M.status);m(new gt(V,M.message))}else m(new gt(nt.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new gt(nt.UNAVAILABLE,"Connection failed."));break;default:bt()}}finally{ct(Qe,`RPC '${t}' ${u} completed.`)}});const g=JSON.stringify(o);ct(Qe,`RPC '${t}' ${u} sending request:`,o),p.send(n,"POST",g,a,15)})}Wo(t,n,a){const o=Km(),u=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],h=kE(),m=ME(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,n,a),p.encodeInitMessageHeaders=!0;const T=u.join("");ct(Qe,`Creating RPC '${t}' stream ${o}: ${T}`,p);const w=h.createWebChannel(T,p);let R=!1,M=!1;const V=new kO({Fo:U=>{M?ct(Qe,`Not sending because RPC '${t}' stream ${o} is closed:`,U):(R||(ct(Qe,`Opening RPC '${t}' stream ${o} transport.`),w.open(),R=!0),ct(Qe,`RPC '${t}' stream ${o} sending:`,U),w.send(U))},Mo:()=>w.close()}),K=(U,$,Y)=>{U.listen($,G=>{try{Y(G)}catch(rt){setTimeout(()=>{throw rt},0)}})};return K(w,Ul.EventType.OPEN,()=>{M||(ct(Qe,`RPC '${t}' stream ${o} transport opened.`),V.Qo())}),K(w,Ul.EventType.CLOSE,()=>{M||(M=!0,ct(Qe,`RPC '${t}' stream ${o} transport closed`),V.Uo())}),K(w,Ul.EventType.ERROR,U=>{M||(M=!0,oo(Qe,`RPC '${t}' stream ${o} transport errored:`,U),V.Uo(new gt(nt.UNAVAILABLE,"The operation could not be completed")))}),K(w,Ul.EventType.MESSAGE,U=>{var $;if(!M){const Y=U.data[0];Ft(!!Y);const G=Y,rt=(G==null?void 0:G.error)||(($=G[0])===null||$===void 0?void 0:$.error);if(rt){ct(Qe,`RPC '${t}' stream ${o} received error:`,rt);const lt=rt.status;let dt=function(S){const O=Te[S];if(O!==void 0)return db(O)}(lt),C=rt.message;dt===void 0&&(dt=nt.INTERNAL,C="Unknown error status: "+lt+" with message "+rt.message),M=!0,V.Uo(new gt(dt,C)),w.close()}else ct(Qe,`RPC '${t}' stream ${o} received:`,Y),V.Ko(Y)}}),K(m,xE.STAT_EVENT,U=>{U.stat===Vm.PROXY?ct(Qe,`RPC '${t}' stream ${o} detected buffering proxy`):U.stat===Vm.NOPROXY&&ct(Qe,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{V.$o()},0),V}}function Em(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kf(i){return new zD(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(t,n,a=1e3,o=1.5,u=6e4){this.Ti=t,this.timerId=n,this.Go=a,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const n=Math.floor(this.Ho+this.e_()),a=Math.max(0,Date.now()-this.Yo),o=Math.max(0,n-a);o>0&&ct("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0="PersistentStream";class Cb{constructor(t,n,a,o,u,h,m,p){this.Ti=t,this.n_=a,this.r_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new Ib(t,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,t!==4?this.a_.reset():n&&n.code===nt.RESOURCE_EXHAUSTED?(er(n.toString()),er("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===nt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,o])=>{this.i_===n&&this.V_(a,o)},a=>{t(()=>{const o=new gt(nt.UNKNOWN,"Fetching auth token failed: "+a.message);return this.m_(o)})})}V_(t,n){const a=this.R_(this.i_);this.stream=this.f_(t,n),this.stream.xo(()=>{a(()=>this.listener.xo())}),this.stream.No(()=>{a(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{a(()=>this.m_(o))}),this.stream.onMessage(o=>{a(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(t){return ct(F0,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return n=>{this.Ti.enqueueAndForget(()=>this.i_===t?n():(ct(F0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class PO extends Cb{constructor(t,n,a,o,u,h){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,o,h),this.serializer=u}f_(t,n){return this.connection.Wo("Listen",t,n)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const n=HD(this.serializer,t),a=function(u){if(!("targetChange"in u))return At.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?At.min():h.readTime?yi(h.readTime):At.min()}(t);return this.listener.p_(n,a)}y_(t){const n={};n.database=Gm(this.serializer),n.addTarget=function(u,h){let m;const p=h.target;if(m=Bm(p)?{documents:GD(u,p)}:{query:$D(u,p).ht},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=gb(u,h.resumeToken);const g=Hm(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(At.min())>0){m.readTime=Af(u,h.snapshotVersion.toTimestamp());const g=Hm(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,t);const a=QD(this.serializer,t);a&&(n.labels=a),this.I_(n)}w_(t){const n={};n.database=Gm(this.serializer),n.removeTarget=t,this.I_(n)}}class LO extends Cb{constructor(t,n,a,o,u,h){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,o,h),this.serializer=u}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(t,n){return this.connection.Wo("Write",t,n)}g_(t){return Ft(!!t.streamToken),this.lastStreamToken=t.streamToken,Ft(!t.writeResults||t.writeResults.length===0),this.listener.D_()}onNext(t){Ft(!!t.streamToken),this.lastStreamToken=t.streamToken,this.a_.reset();const n=FD(t.writeResults,t.commitTime),a=yi(t.commitTime);return this.listener.v_(a,n)}C_(){const t={};t.database=Gm(this.serializer),this.I_(t)}b_(t){const n={streamToken:this.lastStreamToken,writes:t.map(a=>qD(this.serializer,a))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{}class zO extends UO{constructor(t,n,a,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=a,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new gt(nt.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,n,a,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.So(t,qm(n,a),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new gt(nt.UNKNOWN,u.toString())})}Co(t,n,a,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Co(t,qm(n,a),o,h,m,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new gt(nt.UNKNOWN,h.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class BO{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(t){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,t==="Online"&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(er(n),this.N_=!1):ct("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ya="RemoteStore";class jO{constructor(t,n,a,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(h=>{a.enqueueAndForget(async()=>{is(this)&&(ct(Ya,"Restarting streams for network reachability change."),await async function(p){const g=St(p);g.W_.add(4),await fu(g),g.j_.set("Unknown"),g.W_.delete(4),await Qf(g)}(this))})}),this.j_=new BO(a,o)}}async function Qf(i){if(is(i))for(const t of i.G_)await t(!0)}async function fu(i){for(const t of i.G_)await t(!1)}function Db(i,t){const n=St(i);n.K_.has(t.targetId)||(n.K_.set(t.targetId,t),Bp(n)?zp(n):bo(n).c_()&&Up(n,t))}function Lp(i,t){const n=St(i),a=bo(n);n.K_.delete(t),a.c_()&&Ob(n,t),n.K_.size===0&&(a.c_()?a.P_():is(n)&&n.j_.set("Unknown"))}function Up(i,t){if(i.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(At.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}bo(i).y_(t)}function Ob(i,t){i.H_.Ne(t),bo(i).w_(t)}function zp(i){i.H_=new VD({getRemoteKeysForTarget:t=>i.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>i.K_.get(t)||null,it:()=>i.datastore.serializer.databaseId}),bo(i).start(),i.j_.B_()}function Bp(i){return is(i)&&!bo(i).u_()&&i.K_.size>0}function is(i){return St(i).W_.size===0}function Nb(i){i.H_=void 0}async function HO(i){i.j_.set("Online")}async function qO(i){i.K_.forEach((t,n)=>{Up(i,t)})}async function FO(i,t){Nb(i),Bp(i)?(i.j_.q_(t),zp(i)):i.j_.set("Unknown")}async function GO(i,t,n){if(i.j_.set("Online"),t instanceof pb&&t.state===2&&t.cause)try{await async function(o,u){const h=u.cause;for(const m of u.targetIds)o.K_.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.K_.delete(m),o.H_.removeTarget(m))}(i,t)}catch(a){ct(Ya,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await Rf(i,a)}else if(t instanceof rf?i.H_.We(t):t instanceof mb?i.H_.Ze(t):i.H_.je(t),!n.isEqual(At.min()))try{const a=await Rb(i.localStore);n.compareTo(a)>=0&&await function(u,h){const m=u.H_.ot(h);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const T=u.K_.get(g);T&&u.K_.set(g,T.withResumeToken(p.resumeToken,h))}}),m.targetMismatches.forEach((p,g)=>{const T=u.K_.get(p);if(!T)return;u.K_.set(p,T.withResumeToken(Fe.EMPTY_BYTE_STRING,T.snapshotVersion)),Ob(u,p);const w=new zr(T.target,p,g,T.sequenceNumber);Up(u,w)}),u.remoteSyncer.applyRemoteEvent(m)}(i,n)}catch(a){ct(Ya,"Failed to raise snapshot:",a),await Rf(i,a)}}async function Rf(i,t,n){if(!Eo(t))throw t;i.W_.add(1),await fu(i),i.j_.set("Offline"),n||(n=()=>Rb(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{ct(Ya,"Retrying IndexedDB access"),await n(),i.W_.delete(1),await Qf(i)})}function xb(i,t){return t().catch(n=>Rf(i,n,t))}async function Yf(i){const t=St(i),n=Xr(t);let a=t.U_.length>0?t.U_[t.U_.length-1].batchId:wp;for(;$O(t);)try{const o=await IO(t.localStore,a);if(o===null){t.U_.length===0&&n.P_();break}a=o.batchId,KO(t,o)}catch(o){await Rf(t,o)}Mb(t)&&kb(t)}function $O(i){return is(i)&&i.U_.length<10}function KO(i,t){i.U_.push(t);const n=Xr(i);n.c_()&&n.S_&&n.b_(t.mutations)}function Mb(i){return is(i)&&!Xr(i).u_()&&i.U_.length>0}function kb(i){Xr(i).start()}async function QO(i){Xr(i).C_()}async function YO(i){const t=Xr(i);for(const n of i.U_)t.b_(n.mutations)}async function XO(i,t,n){const a=i.U_.shift(),o=Op.from(a,t,n);await xb(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await Yf(i)}async function WO(i,t){t&&Xr(i).S_&&await async function(a,o){if(function(h){return MD(h)&&h!==nt.ABORTED}(o.code)){const u=a.U_.shift();Xr(a).h_(),await xb(a,()=>a.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Yf(a)}}(i,t),Mb(i)&&kb(i)}async function G0(i,t){const n=St(i);n.asyncQueue.verifyOperationInProgress(),ct(Ya,"RemoteStore received new credentials");const a=is(n);n.W_.add(3),await fu(n),a&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.W_.delete(3),await Qf(n)}async function ZO(i,t){const n=St(i);t?(n.W_.delete(2),await Qf(n)):t||(n.W_.add(2),await fu(n),n.j_.set("Unknown"))}function bo(i){return i.J_||(i.J_=function(n,a,o){const u=St(n);return u.M_(),new PO(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{xo:HO.bind(null,i),No:qO.bind(null,i),Lo:FO.bind(null,i),p_:GO.bind(null,i)}),i.G_.push(async t=>{t?(i.J_.h_(),Bp(i)?zp(i):i.j_.set("Unknown")):(await i.J_.stop(),Nb(i))})),i.J_}function Xr(i){return i.Y_||(i.Y_=function(n,a,o){const u=St(n);return u.M_(),new LO(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{xo:()=>Promise.resolve(),No:QO.bind(null,i),Lo:WO.bind(null,i),D_:YO.bind(null,i),v_:XO.bind(null,i)}),i.G_.push(async t=>{t?(i.Y_.h_(),await Yf(i)):(await i.Y_.stop(),i.U_.length>0&&(ct(Ya,`Stopping write stream with ${i.U_.length} pending writes`),i.U_=[]))})),i.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(t,n,a,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=a,this.op=o,this.removalCallback=u,this.deferred=new qr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,a,o,u){const h=Date.now()+a,m=new jp(t,n,h,o,u);return m.start(a),m}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new gt(nt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hp(i,t){if(er("AsyncQueue",`${t}: ${i}`),Eo(i))return new gt(nt.UNAVAILABLE,`${t}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{static emptySet(t){return new so(t.comparator)}constructor(t){this.comparator=t?(n,a)=>t(n,a)||yt.comparator(n.key,a.key):(n,a)=>yt.comparator(n.key,a.key),this.keyedMap=zl(),this.sortedSet=new le(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,a)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof so)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const a=new so;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=n,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(){this.Z_=new le(yt.comparator)}track(t){const n=t.doc.key,a=this.Z_.get(n);a?t.type!==0&&a.type===3?this.Z_=this.Z_.insert(n,t):t.type===3&&a.type!==1?this.Z_=this.Z_.insert(n,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.Z_=this.Z_.remove(n):t.type===1&&a.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):bt():this.Z_=this.Z_.insert(n,t)}X_(){const t=[];return this.Z_.inorderTraversal((n,a)=>{t.push(a)}),t}}class ho{constructor(t,n,a,o,u,h,m,p,g){this.query=t,this.docs=n,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,n,a,o,u){const h=[];return n.forEach(m=>{h.push({type:0,doc:m})}),new ho(t,n,so.emptySet(n),h,a,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Hf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,a=t.docChanges;if(n.length!==a.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==a[o].type||!n[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(t=>t.ra())}}class tN{constructor(){this.queries=K0(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,a){const o=St(n),u=o.queries;o.queries=K0(),u.forEach((h,m)=>{for(const p of m.ta)p.onError(a)})})(this,new gt(nt.ABORTED,"Firestore shutting down"))}}function K0(){return new es(i=>tb(i),Hf)}async function eN(i,t){const n=St(i);let a=3;const o=t.query;let u=n.queries.get(o);u?!u.na()&&t.ra()&&(a=2):(u=new JO,a=t.ra()?0:1);try{switch(a){case 0:u.ea=await n.onListen(o,!0);break;case 1:u.ea=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=Hp(h,`Initialization of query '${Zs(t.query)}' failed`);return void t.onError(m)}n.queries.set(o,u),u.ta.push(t),t.sa(n.onlineState),u.ea&&t.oa(u.ea)&&qp(n)}async function nN(i,t){const n=St(i),a=t.query;let o=3;const u=n.queries.get(a);if(u){const h=u.ta.indexOf(t);h>=0&&(u.ta.splice(h,1),u.ta.length===0?o=t.ra()?0:1:!u.na()&&t.ra()&&(o=2))}switch(o){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function iN(i,t){const n=St(i);let a=!1;for(const o of t){const u=o.query,h=n.queries.get(u);if(h){for(const m of h.ta)m.oa(o)&&(a=!0);h.ea=o}}a&&qp(n)}function rN(i,t,n){const a=St(i),o=a.queries.get(t);if(o)for(const u of o.ta)u.onError(n);a.queries.delete(t)}function qp(i){i.ia.forEach(t=>{t.next()})}var Qm,Q0;(Q0=Qm||(Qm={}))._a="default",Q0.Cache="cache";class aN{constructor(t,n,a){this.query=t,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=a||{}}oa(t){if(!this.options.includeMetadataChanges){const a=[];for(const o of t.docChanges)o.type!==3&&a.push(o);t=new ho(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.ua?this.la(t)&&(this.aa.next(t),n=!0):this.ha(t,this.onlineState)&&(this.Pa(t),n=!0),this.ca=t,n}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),n=!0),n}ha(t,n){if(!t.fromCache||!this.ra())return!0;const a=n!=="Offline";return(!this.options.Ta||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}la(t){if(t.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(t){t=ho.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==Qm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(t){this.key=t}}class Pb{constructor(t){this.key=t}}class sN{constructor(t,n){this.query=t,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=kt(),this.mutatedKeys=kt(),this.ya=eb(t),this.wa=new so(this.ya)}get Sa(){return this.fa}ba(t,n){const a=n?n.Da:new $0,o=n?n.wa:this.wa;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((T,w)=>{const R=o.get(T),M=qf(this.query,w)?w:null,V=!!R&&this.mutatedKeys.has(R.key),K=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let U=!1;R&&M?R.data.isEqual(M.data)?V!==K&&(a.track({type:3,doc:M}),U=!0):this.va(R,M)||(a.track({type:2,doc:M}),U=!0,(p&&this.ya(M,p)>0||g&&this.ya(M,g)<0)&&(m=!0)):!R&&M?(a.track({type:0,doc:M}),U=!0):R&&!M&&(a.track({type:1,doc:R}),U=!0,(p||g)&&(m=!0)),U&&(M?(h=h.add(M),u=K?u.add(T):u.delete(T)):(h=h.delete(T),u=u.delete(T)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const T=this.query.limitType==="F"?h.last():h.first();h=h.delete(T.key),u=u.delete(T.key),a.track({type:1,doc:T})}return{wa:h,Da:a,ls:m,mutatedKeys:u}}va(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,a,o){const u=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const h=t.Da.X_();h.sort((T,w)=>function(M,V){const K=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return bt()}};return K(M)-K(V)}(T.type,w.type)||this.ya(T.doc,w.doc)),this.Ca(a),o=o!=null&&o;const m=n&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,g=p!==this.ga;return this.ga=p,h.length!==0||g?{snapshot:new ho(this.query,t.wa,u,h,t.mutatedKeys,p===0,g,!1,!!a&&a.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new $0,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=kt(),this.wa.forEach(a=>{this.xa(a.key)&&(this.pa=this.pa.add(a.key))});const n=[];return t.forEach(a=>{this.pa.has(a)||n.push(new Pb(a))}),this.pa.forEach(a=>{t.has(a)||n.push(new Vb(a))}),n}Oa(t){this.fa=t.gs,this.pa=kt();const n=this.ba(t.documents);return this.applyChanges(n,!0)}Na(){return ho.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Fp="SyncEngine";class oN{constructor(t,n,a){this.query=t,this.targetId=n,this.view=a}}class lN{constructor(t){this.key=t,this.Ba=!1}}class uN{constructor(t,n,a,o,u,h){this.localStore=t,this.remoteStore=n,this.eventManager=a,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.La={},this.ka=new es(m=>tb(m),Hf),this.qa=new Map,this.Qa=new Set,this.$a=new le(yt.comparator),this.Ua=new Map,this.Ka=new Mp,this.Wa={},this.Ga=new Map,this.za=fo.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function cN(i,t,n=!0){const a=Hb(i);let o;const u=a.ka.get(t);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await Lb(a,t,n,!0),o}async function fN(i,t){const n=Hb(i);await Lb(n,t,!0,!1)}async function Lb(i,t,n,a){const o=await CO(i.localStore,pi(t)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,n);let m;return a&&(m=await hN(i,t,u,h==="current",o.resumeToken)),i.isPrimaryClient&&n&&Db(i.remoteStore,o),m}async function hN(i,t,n,a,o){i.Ha=(w,R,M)=>async function(K,U,$,Y){let G=U.view.ba($);G.ls&&(G=await B0(K.localStore,U.query,!1).then(({documents:C})=>U.view.ba(C,G)));const rt=Y&&Y.targetChanges.get(U.targetId),lt=Y&&Y.targetMismatches.get(U.targetId)!=null,dt=U.view.applyChanges(G,K.isPrimaryClient,rt,lt);return X0(K,U.targetId,dt.Ma),dt.snapshot}(i,w,R,M);const u=await B0(i.localStore,t,!0),h=new sN(t,u.gs),m=h.ba(u.documents),p=cu.createSynthesizedTargetChangeForCurrentChange(n,a&&i.onlineState!=="Offline",o),g=h.applyChanges(m,i.isPrimaryClient,p);X0(i,n,g.Ma);const T=new oN(t,n,h);return i.ka.set(t,T),i.qa.has(n)?i.qa.get(n).push(t):i.qa.set(n,[t]),g.snapshot}async function dN(i,t,n){const a=St(i),o=a.ka.get(t),u=a.qa.get(o.targetId);if(u.length>1)return a.qa.set(o.targetId,u.filter(h=>!Hf(h,t))),void a.ka.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await $m(a.localStore,o.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(o.targetId),n&&Lp(a.remoteStore,o.targetId),Ym(a,o.targetId)}).catch(To)):(Ym(a,o.targetId),await $m(a.localStore,o.targetId,!0))}async function mN(i,t){const n=St(i),a=n.ka.get(t),o=n.qa.get(a.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),Lp(n.remoteStore,a.targetId))}async function pN(i,t,n){const a=bN(i);try{const o=await function(h,m){const p=St(h),g=Ce.now(),T=m.reduce((M,V)=>M.add(V.key),kt());let w,R;return p.persistence.runTransaction("Locally write mutations","readwrite",M=>{let V=nr(),K=kt();return p.ds.getEntries(M,T).next(U=>{V=U,V.forEach(($,Y)=>{Y.isValidDocument()||(K=K.add($))})}).next(()=>p.localDocuments.getOverlayedDocuments(M,V)).next(U=>{w=U;const $=[];for(const Y of m){const G=CD(Y,w.get(Y.key).overlayedDocument);G!=null&&$.push(new ns(Y.key,G,KE(G.value.mapValue),gi.exists(!0)))}return p.mutationQueue.addMutationBatch(M,g,$,m)}).next(U=>{R=U;const $=U.applyToLocalDocumentSet(w,K);return p.documentOverlayCache.saveOverlays(M,U.batchId,$)})}).then(()=>({batchId:R.batchId,changes:ib(w)}))}(a.localStore,t);a.sharedClientState.addPendingMutation(o.batchId),function(h,m,p){let g=h.Wa[h.currentUser.toKey()];g||(g=new le(Ct)),g=g.insert(m,p),h.Wa[h.currentUser.toKey()]=g}(a,o.batchId,n),await hu(a,o.changes),await Yf(a.remoteStore)}catch(o){const u=Hp(o,"Failed to persist write");n.reject(u)}}async function Ub(i,t){const n=St(i);try{const a=await SO(n.localStore,t);t.targetChanges.forEach((o,u)=>{const h=n.Ua.get(u);h&&(Ft(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.Ba=!0:o.modifiedDocuments.size>0?Ft(h.Ba):o.removedDocuments.size>0&&(Ft(h.Ba),h.Ba=!1))}),await hu(n,a,t)}catch(a){await To(a)}}function Y0(i,t,n){const a=St(i);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const o=[];a.ka.forEach((u,h)=>{const m=h.view.sa(t);m.snapshot&&o.push(m.snapshot)}),function(h,m){const p=St(h);p.onlineState=m;let g=!1;p.queries.forEach((T,w)=>{for(const R of w.ta)R.sa(m)&&(g=!0)}),g&&qp(p)}(a.eventManager,t),o.length&&a.La.p_(o),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function gN(i,t,n){const a=St(i);a.sharedClientState.updateQueryState(t,"rejected",n);const o=a.Ua.get(t),u=o&&o.key;if(u){let h=new le(yt.comparator);h=h.insert(u,Xe.newNoDocument(u,At.min()));const m=kt().add(u),p=new $f(At.min(),new Map,new le(Ct),h,m);await Ub(a,p),a.$a=a.$a.remove(u),a.Ua.delete(t),Gp(a)}else await $m(a.localStore,t,!1).then(()=>Ym(a,t,n)).catch(To)}async function yN(i,t){const n=St(i),a=t.batch.batchId;try{const o=await AO(n.localStore,t);Bb(n,a,null),zb(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await hu(n,o)}catch(o){await To(o)}}async function _N(i,t,n){const a=St(i);try{const o=await function(h,m){const p=St(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let T;return p.mutationQueue.lookupMutationBatch(g,m).next(w=>(Ft(w!==null),T=w.keys(),p.mutationQueue.removeMutationBatch(g,w))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,T,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,T)).next(()=>p.localDocuments.getDocuments(g,T))})}(a.localStore,t);Bb(a,t,n),zb(a,t),a.sharedClientState.updateMutationState(t,"rejected",n),await hu(a,o)}catch(o){await To(o)}}function zb(i,t){(i.Ga.get(t)||[]).forEach(n=>{n.resolve()}),i.Ga.delete(t)}function Bb(i,t,n){const a=St(i);let o=a.Wa[a.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),a.Wa[a.currentUser.toKey()]=o}}function Ym(i,t,n=null){i.sharedClientState.removeLocalQueryTarget(t);for(const a of i.qa.get(t))i.ka.delete(a),n&&i.La.Ja(a,n);i.qa.delete(t),i.isPrimaryClient&&i.Ka.br(t).forEach(a=>{i.Ka.containsKey(a)||jb(i,a)})}function jb(i,t){i.Qa.delete(t.path.canonicalString());const n=i.$a.get(t);n!==null&&(Lp(i.remoteStore,n),i.$a=i.$a.remove(t),i.Ua.delete(n),Gp(i))}function X0(i,t,n){for(const a of n)a instanceof Vb?(i.Ka.addReference(a.key,t),vN(i,a)):a instanceof Pb?(ct(Fp,"Document no longer in limbo: "+a.key),i.Ka.removeReference(a.key,t),i.Ka.containsKey(a.key)||jb(i,a.key)):bt()}function vN(i,t){const n=t.key,a=n.path.canonicalString();i.$a.get(n)||i.Qa.has(a)||(ct(Fp,"New document in limbo: "+n),i.Qa.add(a),Gp(i))}function Gp(i){for(;i.Qa.size>0&&i.$a.size<i.maxConcurrentLimboResolutions;){const t=i.Qa.values().next().value;i.Qa.delete(t);const n=new yt(ae.fromString(t)),a=i.za.next();i.Ua.set(a,new lN(n)),i.$a=i.$a.insert(n,a),Db(i.remoteStore,new zr(pi(Cp(n.path)),a,"TargetPurposeLimboResolution",Uf.ae))}}async function hu(i,t,n){const a=St(i),o=[],u=[],h=[];a.ka.isEmpty()||(a.ka.forEach((m,p)=>{h.push(a.Ha(p,t,n).then(g=>{var T;if((g||n)&&a.isPrimaryClient){const w=g?!g.fromCache:(T=n==null?void 0:n.targetChanges.get(p.targetId))===null||T===void 0?void 0:T.current;a.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(g){o.push(g);const w=Vp.Yi(p.targetId,g);u.push(w)}}))}),await Promise.all(h),a.La.p_(o),await async function(p,g){const T=St(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>tt.forEach(g,R=>tt.forEach(R.Hi,M=>T.persistence.referenceDelegate.addReference(w,R.targetId,M)).next(()=>tt.forEach(R.Ji,M=>T.persistence.referenceDelegate.removeReference(w,R.targetId,M)))))}catch(w){if(!Eo(w))throw w;ct(Pp,"Failed to update sequence numbers: "+w)}for(const w of g){const R=w.targetId;if(!w.fromCache){const M=T.Ts.get(R),V=M.snapshotVersion,K=M.withLastLimboFreeSnapshotVersion(V);T.Ts=T.Ts.insert(R,K)}}}(a.localStore,u))}async function TN(i,t){const n=St(i);if(!n.currentUser.isEqual(t)){ct(Fp,"User change. New user:",t.toKey());const a=await Sb(n.localStore,t);n.currentUser=t,function(u,h){u.Ga.forEach(m=>{m.forEach(p=>{p.reject(new gt(nt.CANCELLED,h))})}),u.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await hu(n,a.Rs)}}function EN(i,t){const n=St(i),a=n.Ua.get(t);if(a&&a.Ba)return kt().add(a.key);{let o=kt();const u=n.qa.get(t);if(!u)return o;for(const h of u){const m=n.ka.get(h);o=o.unionWith(m.view.Sa)}return o}}function Hb(i){const t=St(i);return t.remoteStore.remoteSyncer.applyRemoteEvent=Ub.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=EN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=gN.bind(null,t),t.La.p_=iN.bind(null,t.eventManager),t.La.Ja=rN.bind(null,t.eventManager),t}function bN(i){const t=St(i);return t.remoteStore.remoteSyncer.applySuccessfulWrite=yN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=_N.bind(null,t),t}class If{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Kf(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,n){return null}nu(t,n){return null}eu(t){return wO(this.persistence,new TO,t.initialUser,this.serializer)}Xa(t){return new Ab(kp.ri,this.serializer)}Za(t){return new OO}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}If.provider={build:()=>new If};class wN extends If{constructor(t){super(),this.cacheSizeBytes=t}tu(t,n){Ft(this.persistence.referenceDelegate instanceof Sf);const a=this.persistence.referenceDelegate.garbageCollector;return new aO(a,t.asyncQueue,n)}Xa(t){const n=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new Ab(a=>Sf.ri(a,n),this.serializer)}}class Xm{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Y0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=TN.bind(null,this.syncEngine),await ZO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new tN}()}createDatastore(t){const n=Kf(t.databaseInfo.databaseId),a=function(u){return new VO(u)}(t.databaseInfo);return function(u,h,m,p){return new zO(u,h,m,p)}(t.authCredentials,t.appCheckCredentials,a,n)}createRemoteStore(t){return function(a,o,u,h,m){return new jO(a,o,u,h,m)}(this.localStore,this.datastore,t.asyncQueue,n=>Y0(this.syncEngine,n,0),function(){return q0.D()?new q0:new NO}())}createSyncEngine(t,n){return function(o,u,h,m,p,g,T){const w=new uN(o,u,h,m,p,g);return T&&(w.ja=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(o){const u=St(o);ct(Ya,"RemoteStore shutting down."),u.W_.add(5),await fu(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Xm.provider={build:()=>new Xm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):er("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wr="FirestoreClient";class SN{constructor(t,n,a,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=o,this.user=Ye.UNAUTHENTICATED,this.clientId=LE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,async h=>{ct(Wr,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(a,h=>(ct(Wr,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new qr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const a=Hp(n,"Failed to shutdown persistence");t.reject(a)}}),t.promise}}async function bm(i,t){i.asyncQueue.verifyOperationInProgress(),ct(Wr,"Initializing OfflineComponentProvider");const n=i.configuration;await t.initialize(n);let a=n.initialUser;i.setCredentialChangeListener(async o=>{a.isEqual(o)||(await Sb(t.localStore,o),a=o)}),t.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=t}async function W0(i,t){i.asyncQueue.verifyOperationInProgress();const n=await RN(i);ct(Wr,"Initializing OnlineComponentProvider"),await t.initialize(n,i.configuration),i.setCredentialChangeListener(a=>G0(t.remoteStore,a)),i.setAppCheckTokenChangeListener((a,o)=>G0(t.remoteStore,o)),i._onlineComponents=t}async function RN(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ct(Wr,"Using user provided OfflineComponentProvider");try{await bm(i,i._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(o){return o.name==="FirebaseError"?o.code===nt.FAILED_PRECONDITION||o.code===nt.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;oo("Error using user provided cache. Falling back to memory cache: "+n),await bm(i,new If)}}else ct(Wr,"Using default OfflineComponentProvider"),await bm(i,new wN(void 0));return i._offlineComponents}async function qb(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ct(Wr,"Using user provided OnlineComponentProvider"),await W0(i,i._uninitializedComponentsProvider._online)):(ct(Wr,"Using default OnlineComponentProvider"),await W0(i,new Xm))),i._onlineComponents}function IN(i){return qb(i).then(t=>t.syncEngine)}async function CN(i){const t=await qb(i),n=t.eventManager;return n.onListen=cN.bind(null,t.syncEngine),n.onUnlisten=dN.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=fN.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=mN.bind(null,t.syncEngine),n}function DN(i,t,n={}){const a=new qr;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,m,p,g){const T=new AN({next:R=>{T.su(),h.enqueueAndForget(()=>nN(u,w));const M=R.docs.has(m);!M&&R.fromCache?g.reject(new gt(nt.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&R.fromCache&&p&&p.source==="server"?g.reject(new gt(nt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(R)},error:R=>g.reject(R)}),w=new aN(Cp(m.path),T,{includeMetadataChanges:!0,Ta:!0});return eN(u,w)}(await CN(i),i.asyncQueue,t,n,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fb(i){const t={};return i.timeoutSeconds!==void 0&&(t.timeoutSeconds=i.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gb(i,t,n){if(!n)throw new gt(nt.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${t}.`)}function ON(i,t,n,a){if(t===!0&&a===!0)throw new gt(nt.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function J0(i){if(!yt.isDocumentKey(i))throw new gt(nt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function tT(i){if(yt.isDocumentKey(i))throw new gt(nt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function $p(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const t=function(a){return a.constructor?a.constructor.name:null}(i);return t?`a custom ${t} object`:"an object"}}return typeof i=="function"?"a function":bt()}function mo(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new gt(nt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=$p(i);throw new gt(nt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $b="firestore.googleapis.com",eT=!0;class nT{constructor(t){var n,a;if(t.host===void 0){if(t.ssl!==void 0)throw new gt(nt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=$b,this.ssl=eT}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:eT;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=wb;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<iO)throw new gt(nt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}ON("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Fb((a=t.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new gt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new gt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new gt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(a,o){return a.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Xf{constructor(t,n,a,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new gt(nt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new gt(nt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nT(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new M2;switch(a.type){case"firstParty":return new L2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new gt(nt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const a=Z0.get(n);a&&(ct("ComponentProvider","Removing Datastore"),Z0.delete(n),a.terminate())}(this),Promise.resolve()}}function NN(i,t,n,a={}){var o;const u=(i=mo(i,Xf))._getSettings(),h=Object.assign(Object.assign({},u),{emulatorOptions:i._getEmulatorOptions()}),m=`${t}:${n}`;u.host!==$b&&u.host!==m&&oo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:m,ssl:!1,emulatorOptions:a});if(!Gr(p,h)&&(i._setSettings(p),a.mockUserToken)){let g,T;if(typeof a.mockUserToken=="string")g=a.mockUserToken,T=Ye.MOCK_USER;else{g=SS(a.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const w=a.mockUserToken.sub||a.mockUserToken.user_id;if(!w)throw new gt(nt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Ye(w)}i._authCredentials=new k2(new VE(g,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(t,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Kp(this.firestore,t,this._query)}}class En{constructor(t,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new En(this.firestore,t,this._key)}}class Fr extends Kp{constructor(t,n,a){super(t,n,Cp(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new En(this.firestore,null,new yt(t))}withConverter(t){return new Fr(this.firestore,t,this._path)}}function Kb(i,t,...n){if(i=Ze(i),Gb("collection","path",t),i instanceof Xf){const a=ae.fromString(t,...n);return tT(a),new Fr(i,null,a)}{if(!(i instanceof En||i instanceof Fr))throw new gt(nt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(ae.fromString(t,...n));return tT(a),new Fr(i.firestore,null,a)}}function Qp(i,t,...n){if(i=Ze(i),arguments.length===1&&(t=LE.newId()),Gb("doc","path",t),i instanceof Xf){const a=ae.fromString(t,...n);return J0(a),new En(i,null,new yt(a))}{if(!(i instanceof En||i instanceof Fr))throw new gt(nt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(ae.fromString(t,...n));return J0(a),new En(i.firestore,i instanceof Fr?i.converter:null,new yt(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT="AsyncQueue";class rT{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new Ib(this,"async_queue_retry"),this.Su=()=>{const a=Em();a&&ct(iT,"Visibility state changed to "+a.visibilityState),this.a_.t_()},this.bu=t;const n=Em();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const n=Em();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const n=new qr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!Eo(t))throw t;ct(iT,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const n=this.bu.then(()=>(this.pu=!0,t().catch(a=>{this.gu=a,this.pu=!1;const o=function(h){let m=h.message||"";return h.stack&&(m=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),m}(a);throw er("INTERNAL UNHANDLED ERROR: ",o),a}).then(a=>(this.pu=!1,a))));return this.bu=n,n}enqueueAfterDelay(t,n,a){this.Du(),this.wu.indexOf(t)>-1&&(n=0);const o=jp.createAndSchedule(this,t,n,a,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&bt()}verifyOperationInProgress(){}async Mu(){let t;do t=this.bu,await t;while(t!==this.bu)}xu(t){for(const n of this.fu)if(n.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((n,a)=>n.targetTimeMs-a.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const n=this.fu.indexOf(t);this.fu.splice(n,1)}}class Wf extends Xf{constructor(t,n,a,o){super(t,n,a,o),this.type="firestore",this._queue=new rT,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new rT(t),this._firestoreClient=void 0,await t}}}function xN(i,t){const n=typeof i=="object"?i:ap(),a=typeof i=="string"?i:_f,o=Ja(n,"firestore").getImmediate({identifier:a});if(!o._initialized){const u=wS("firestore");u&&NN(o,...u)}return o}function Qb(i){if(i._terminated)throw new gt(nt.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||MN(i),i._firestoreClient}function MN(i){var t,n,a;const o=i._freezeSettings(),u=function(m,p,g,T){return new Z2(m,p,g,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,Fb(T.experimentalLongPollingOptions),T.useFetchStreams)}(i._databaseId,((t=i._app)===null||t===void 0?void 0:t.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((a=o.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new SN(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(t){this._byteString=t}static fromBase64String(t){try{return new po(Fe.fromBase64String(t))}catch(n){throw new gt(nt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new po(Fe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new gt(nt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new gt(nt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new gt(nt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Ct(this._lat,t._lat)||Ct(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(a,o){if(a.length!==o.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==o[u])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN=/^__.*__$/;class VN{constructor(t,n,a){this.data=t,this.fieldMask=n,this.fieldTransforms=a}toMutation(t,n){return this.fieldMask!==null?new ns(t,this.data,this.fieldMask,n,this.fieldTransforms):new uu(t,this.data,n,this.fieldTransforms)}}function Xb(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw bt()}}class Zp{constructor(t,n,a,o,u,h){this.settings=t,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(t){return new Zp(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(t){var n;const a=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.ku({path:a,Qu:!1});return o.$u(t),o}Uu(t){var n;const a=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.ku({path:a,Qu:!1});return o.Bu(),o}Ku(t){return this.ku({path:void 0,Qu:!0})}Wu(t){return Cf(t,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let t=0;t<this.path.length;t++)this.$u(this.path.get(t))}$u(t){if(t.length===0)throw this.Wu("Document fields must not be empty");if(Xb(this.Lu)&&kN.test(t))throw this.Wu('Document fields cannot begin and end with "__"')}}class PN{constructor(t,n,a){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=a||Kf(t)}ju(t,n,a,o=!1){return new Zp({Lu:t,methodName:n,zu:a,path:qe.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Wb(i){const t=i._freezeSettings(),n=Kf(i._databaseId);return new PN(i._databaseId,!!t.ignoreUndefinedProperties,n)}function Zb(i,t,n,a,o,u={}){const h=i.ju(u.merge||u.mergeFields?2:0,t,n,o);nw("Data must be an object, but it was:",h,a);const m=tw(a,h);let p,g;if(u.merge)p=new Gn(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const T=[];for(const w of u.mergeFields){const R=LN(t,w,n);if(!h.contains(R))throw new gt(nt.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);zN(T,R)||T.push(R)}p=new Gn(T),g=h.fieldTransforms.filter(w=>p.covers(w.field))}else p=null,g=h.fieldTransforms;return new VN(new Vn(m),p,g)}function Jb(i,t){if(ew(i=Ze(i)))return nw("Unsupported field value:",t,i),tw(i,t);if(i instanceof Yb)return function(a,o){if(!Xb(o.Lu))throw o.Wu(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,t),null;if(i===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),i instanceof Array){if(t.settings.Qu&&t.Lu!==4)throw t.Wu("Nested arrays are not supported");return function(a,o){const u=[];let h=0;for(const m of a){let p=Jb(m,o.Ku(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}}(i,t)}return function(a,o){if((a=Ze(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return bD(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=Ce.fromDate(a);return{timestampValue:Af(o.serializer,u)}}if(a instanceof Ce){const u=new Ce(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Af(o.serializer,u)}}if(a instanceof Xp)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof po)return{bytesValue:gb(o.serializer,a._byteString)};if(a instanceof En){const u=o.databaseId,h=a.firestore._databaseId;if(!h.isEqual(u))throw o.Wu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:xp(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Wp)return function(h,m){return{mapValue:{fields:{[GE]:{stringValue:$E},[vf]:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw m.Wu("VectorValues must only contain numeric values.");return Dp(m.serializer,g)})}}}}}}(a,o);throw o.Wu(`Unsupported field value: ${$p(a)}`)}(i,t)}function tw(i,t){const n={};return zE(i)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ts(i,(a,o)=>{const u=Jb(o,t.qu(a));u!=null&&(n[a]=u)}),{mapValue:{fields:n}}}function ew(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Ce||i instanceof Xp||i instanceof po||i instanceof En||i instanceof Yb||i instanceof Wp)}function nw(i,t,n){if(!ew(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const a=$p(n);throw a==="an object"?t.Wu(i+" a custom object"):t.Wu(i+" "+a)}}function LN(i,t,n){if((t=Ze(t))instanceof Yp)return t._internalPath;if(typeof t=="string")return iw(i,t);throw Cf("Field path arguments must be of type string or ",i,!1,void 0,n)}const UN=new RegExp("[~\\*/\\[\\]]");function iw(i,t,n){if(t.search(UN)>=0)throw Cf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Yp(...t.split("."))._internalPath}catch{throw Cf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Cf(i,t,n,a,o){const u=a&&!a.isEmpty(),h=o!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${a}`),h&&(p+=` in document ${o}`),p+=")"),new gt(nt.INVALID_ARGUMENT,m+i+p)}function zN(i,t){return i.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(t,n,a,o,u){this._firestore=t,this._userDataWriter=n,this._key=a,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new En(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new BN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(aw("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class BN extends rw{data(){return super.data()}}function aw(i,t){return typeof t=="string"?iw(i,t):t instanceof Yp?t._internalPath:t._delegate._internalPath}class jN{convertValue(t,n="none"){switch(Yr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return pe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Qr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw bt()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const a={};return ts(t,(o,u)=>{a[o]=this.convertValue(u,n)}),a}convertVectorValue(t){var n,a,o;const u=(o=(a=(n=t.fields)===null||n===void 0?void 0:n[vf].arrayValue)===null||a===void 0?void 0:a.values)===null||o===void 0?void 0:o.map(h=>pe(h.doubleValue));return new Wp(u)}convertGeoPoint(t){return new Xp(pe(t.latitude),pe(t.longitude))}convertArray(t,n){return(t.values||[]).map(a=>this.convertValue(a,n))}convertServerTimestamp(t,n){switch(n){case"previous":const a=Bf(t);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(Wl(t));default:return null}}convertTimestamp(t){const n=Kr(t);return new Ce(n.seconds,n.nanos)}convertDocumentKey(t,n){const a=ae.fromString(t);Ft(bb(a));const o=new Zl(a.get(1),a.get(3)),u=new yt(a.popFirst(5));return o.isEqual(n)||er(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sw(i,t,n){let a;return a=i?i.toFirestore(t):t,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ow extends rw{constructor(t,n,a,o,u,h){super(t,n,a,o,h),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new qN(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const a=this._document.data.field(aw("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}}class qN extends ow{data(t={}){return super.data(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FN(i){i=mo(i,En);const t=mo(i.firestore,Wf);return DN(Qb(t),i._key).then(n=>QN(t,i,n))}class GN extends jN{constructor(t){super(),this.firestore=t}convertBytes(t){return new po(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new En(this.firestore,null,n)}}function $N(i,t,n){i=mo(i,En);const a=mo(i.firestore,Wf),o=sw(i.converter,t);return lw(a,[Zb(Wb(a),"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,gi.none())])}function KN(i,t){const n=mo(i.firestore,Wf),a=Qp(i),o=sw(i.converter,t);return lw(n,[Zb(Wb(i.firestore),"addDoc",a._key,o,i.converter!==null,{}).toMutation(a._key,gi.exists(!1))]).then(()=>a)}function lw(i,t){return function(a,o){const u=new qr;return a.asyncQueue.enqueueAndForget(async()=>pN(await IN(a),o,u)),u.promise}(Qb(i),t)}function QN(i,t,n){const a=n.docs.get(t._key),o=new GN(i);return new ow(i,o,t._key,a,new HN(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(o){vo=o})(yo),_i(new Kn("firestore",(a,{instanceIdentifier:o,options:u})=>{const h=a.getProvider("app").getImmediate(),m=new Wf(new V2(a.getProvider("auth-internal")),new U2(h,a.getProvider("app-check-internal")),function(g,T){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new gt(nt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zl(g.options.projectId,T)}(h,o),h);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Pn(c0,f0,t),Pn(c0,f0,"esm2017")})();const YN={apiKey:"AIzaSyAZZ0xPfV_vPGUHMhES1Yz5Lqy5kqdo0gI",authDomain:"nit-ds.firebaseapp.com",projectId:"nit-ds",storageBucket:"nit-ds.firebasestorage.app",messagingSenderId:"302323435874",appId:"1:302323435874:web:504765aa54f6a4d4c3c43b",measurementId:"G-XB1W0LDQLN"},Jp=AT(YN),go=cC(Jp),uw=new Qi,Df=xN(Jp);D2(Jp);function cw(i){var t,n,a="";if(typeof i=="string"||typeof i=="number")a+=i;else if(typeof i=="object")if(Array.isArray(i)){var o=i.length;for(t=0;t<o;t++)i[t]&&(n=cw(i[t]))&&(a&&(a+=" "),a+=n)}else for(n in i)i[n]&&(a&&(a+=" "),a+=n);return a}function qa(){for(var i,t,n=0,a="",o=arguments.length;n<o;n++)(i=arguments[n])&&(t=cw(i))&&(a&&(a+=" "),a+=t);return a}function XN(i){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=i:n.appendChild(document.createTextNode(i))}XN(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var du=i=>typeof i=="number"&&!isNaN(i),Xa=i=>typeof i=="string",ir=i=>typeof i=="function",WN=i=>Xa(i)||du(i),Wm=i=>Xa(i)||ir(i)?i:null,ZN=(i,t)=>i===!1||du(i)&&i>0?i:t,Zm=i=>q.isValidElement(i)||Xa(i)||ir(i)||du(i);function JN(i,t,n=300){let{scrollHeight:a,style:o}=i;requestAnimationFrame(()=>{o.minHeight="initial",o.height=a+"px",o.transition=`all ${n}ms`,requestAnimationFrame(()=>{o.height="0",o.padding="0",o.margin="0",setTimeout(t,n)})})}function tx({enter:i,exit:t,appendPosition:n=!1,collapse:a=!0,collapseDuration:o=300}){return function({children:u,position:h,preventExitTransition:m,done:p,nodeRef:g,isIn:T,playToast:w}){let R=n?`${i}--${h}`:i,M=n?`${t}--${h}`:t,V=q.useRef(0);return q.useLayoutEffect(()=>{let K=g.current,U=R.split(" "),$=Y=>{Y.target===g.current&&(w(),K.removeEventListener("animationend",$),K.removeEventListener("animationcancel",$),V.current===0&&Y.type!=="animationcancel"&&K.classList.remove(...U))};K.classList.add(...U),K.addEventListener("animationend",$),K.addEventListener("animationcancel",$)},[]),q.useEffect(()=>{let K=g.current,U=()=>{K.removeEventListener("animationend",U),a?JN(K,p,o):p()};T||(m?U():(V.current=1,K.className+=` ${M}`,K.addEventListener("animationend",U)))},[T]),ne.createElement(ne.Fragment,null,u)}}function aT(i,t){return{content:fw(i.content,i.props),containerId:i.props.containerId,id:i.props.toastId,theme:i.props.theme,type:i.props.type,data:i.props.data||{},isLoading:i.props.isLoading,icon:i.props.icon,reason:i.removalReason,status:t}}function fw(i,t,n=!1){return q.isValidElement(i)&&!Xa(i.type)?q.cloneElement(i,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):ir(i)?i({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):i}function ex({closeToast:i,theme:t,ariaLabel:n="close"}){return ne.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:a=>{a.stopPropagation(),i(!0)},"aria-label":n},ne.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},ne.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function nx({delay:i,isRunning:t,closeToast:n,type:a="default",hide:o,className:u,controlledProgress:h,progress:m,rtl:p,isIn:g,theme:T}){let w=o||h&&m===0,R={animationDuration:`${i}ms`,animationPlayState:t?"running":"paused"};h&&(R.transform=`scaleX(${m})`);let M=qa("Toastify__progress-bar",h?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${T}`,`Toastify__progress-bar--${a}`,{"Toastify__progress-bar--rtl":p}),V=ir(u)?u({rtl:p,type:a,defaultClassName:M}):qa(M,u),K={[h&&m>=1?"onTransitionEnd":"onAnimationEnd"]:h&&m<1?null:()=>{g&&n()}};return ne.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":w},ne.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${T} Toastify__progress-bar--${a}`}),ne.createElement("div",{role:"progressbar","aria-hidden":w?"true":"false","aria-label":"notification timer",className:V,style:R,...K}))}var ix=1,hw=()=>`${ix++}`;function rx(i,t,n){let a=1,o=0,u=[],h=[],m=t,p=new Map,g=new Set,T=Y=>(g.add(Y),()=>g.delete(Y)),w=()=>{h=Array.from(p.values()),g.forEach(Y=>Y())},R=({containerId:Y,toastId:G,updateId:rt})=>{let lt=Y?Y!==i:i!==1,dt=p.has(G)&&rt==null;return lt||dt},M=(Y,G)=>{p.forEach(rt=>{var lt;(G==null||G===rt.props.toastId)&&((lt=rt.toggle)==null||lt.call(rt,Y))})},V=Y=>{var G,rt;(rt=(G=Y.props)==null?void 0:G.onClose)==null||rt.call(G,Y.removalReason),Y.isActive=!1},K=Y=>{if(Y==null)p.forEach(V);else{let G=p.get(Y);G&&V(G)}w()},U=()=>{o-=u.length,u=[]},$=Y=>{var G,rt;let{toastId:lt,updateId:dt}=Y.props,C=dt==null;Y.staleId&&p.delete(Y.staleId),Y.isActive=!0,p.set(lt,Y),w(),n(aT(Y,C?"added":"updated")),C&&((rt=(G=Y.props).onOpen)==null||rt.call(G))};return{id:i,props:m,observe:T,toggle:M,removeToast:K,toasts:p,clearQueue:U,buildToast:(Y,G)=>{if(R(G))return;let{toastId:rt,updateId:lt,data:dt,staleId:C,delay:A}=G,S=lt==null;S&&o++;let O={...m,style:m.toastStyle,key:a++,...Object.fromEntries(Object.entries(G).filter(([P,D])=>D!=null)),toastId:rt,updateId:lt,data:dt,isIn:!1,className:Wm(G.className||m.toastClassName),progressClassName:Wm(G.progressClassName||m.progressClassName),autoClose:G.isLoading?!1:ZN(G.autoClose,m.autoClose),closeToast(P){p.get(rt).removalReason=P,K(rt)},deleteToast(){let P=p.get(rt);if(P!=null){if(n(aT(P,"removed")),p.delete(rt),o--,o<0&&(o=0),u.length>0){$(u.shift());return}w()}}};O.closeButton=m.closeButton,G.closeButton===!1||Zm(G.closeButton)?O.closeButton=G.closeButton:G.closeButton===!0&&(O.closeButton=Zm(m.closeButton)?m.closeButton:!0);let k={content:Y,props:O,staleId:C};m.limit&&m.limit>0&&o>m.limit&&S?u.push(k):du(A)?setTimeout(()=>{$(k)},A):$(k)},setProps(Y){m=Y},setToggle:(Y,G)=>{let rt=p.get(Y);rt&&(rt.toggle=G)},isToastActive:Y=>{var G;return(G=p.get(Y))==null?void 0:G.isActive},getSnapshot:()=>h}}var rn=new Map,nu=[],Jm=new Set,ax=i=>Jm.forEach(t=>t(i)),dw=()=>rn.size>0;function sx(){nu.forEach(i=>pw(i.content,i.options)),nu=[]}var ox=(i,{containerId:t})=>{var n;return(n=rn.get(t||1))==null?void 0:n.toasts.get(i)};function mw(i,t){var n;if(t)return!!((n=rn.get(t))!=null&&n.isToastActive(i));let a=!1;return rn.forEach(o=>{o.isToastActive(i)&&(a=!0)}),a}function lx(i){if(!dw()){nu=nu.filter(t=>i!=null&&t.options.toastId!==i);return}if(i==null||WN(i))rn.forEach(t=>{t.removeToast(i)});else if(i&&("containerId"in i||"id"in i)){let t=rn.get(i.containerId);t?t.removeToast(i.id):rn.forEach(n=>{n.removeToast(i.id)})}}var ux=(i={})=>{rn.forEach(t=>{t.props.limit&&(!i.containerId||t.id===i.containerId)&&t.clearQueue()})};function pw(i,t){Zm(i)&&(dw()||nu.push({content:i,options:t}),rn.forEach(n=>{n.buildToast(i,t)}))}function cx(i){var t;(t=rn.get(i.containerId||1))==null||t.setToggle(i.id,i.fn)}function gw(i,t){rn.forEach(n=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===n.id)&&n.toggle(i,t==null?void 0:t.id)})}function fx(i){let t=i.containerId||1;return{subscribe(n){let a=rx(t,i,ax);rn.set(t,a);let o=a.observe(n);return sx(),()=>{o(),rn.delete(t)}},setProps(n){var a;(a=rn.get(t))==null||a.setProps(n)},getSnapshot(){var n;return(n=rn.get(t))==null?void 0:n.getSnapshot()}}}function hx(i){return Jm.add(i),()=>{Jm.delete(i)}}function dx(i){return i&&(Xa(i.toastId)||du(i.toastId))?i.toastId:hw()}function mu(i,t){return pw(i,t),t.toastId}function Zf(i,t){return{...t,type:t&&t.type||i,toastId:dx(t)}}function Jf(i){return(t,n)=>mu(t,Zf(i,n))}function zt(i,t){return mu(i,Zf("default",t))}zt.loading=(i,t)=>mu(i,Zf("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function mx(i,{pending:t,error:n,success:a},o){let u;t&&(u=Xa(t)?zt.loading(t,o):zt.loading(t.render,{...o,...t}));let h={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},m=(g,T,w)=>{if(T==null){zt.dismiss(u);return}let R={type:g,...h,...o,data:w},M=Xa(T)?{render:T}:T;return u?zt.update(u,{...R,...M}):zt(M.render,{...R,...M}),w},p=ir(i)?i():i;return p.then(g=>m("success",a,g)).catch(g=>m("error",n,g)),p}zt.promise=mx;zt.success=Jf("success");zt.info=Jf("info");zt.error=Jf("error");zt.warning=Jf("warning");zt.warn=zt.warning;zt.dark=(i,t)=>mu(i,Zf("default",{theme:"dark",...t}));function px(i){lx(i)}zt.dismiss=px;zt.clearWaitingQueue=ux;zt.isActive=mw;zt.update=(i,t={})=>{let n=ox(i,t);if(n){let{props:a,content:o}=n,u={delay:100,...a,...t,toastId:t.toastId||i,updateId:hw()};u.toastId!==i&&(u.staleId=i);let h=u.render||o;delete u.render,mu(h,u)}};zt.done=i=>{zt.update(i,{progress:1})};zt.onChange=hx;zt.play=i=>gw(!0,i);zt.pause=i=>gw(!1,i);function gx(i){var t;let{subscribe:n,getSnapshot:a,setProps:o}=q.useRef(fx(i)).current;o(i);let u=(t=q.useSyncExternalStore(n,a,a))==null?void 0:t.slice();function h(m){if(!u)return[];let p=new Map;return i.newestOnTop&&u.reverse(),u.forEach(g=>{let{position:T}=g.props;p.has(T)||p.set(T,[]),p.get(T).push(g)}),Array.from(p,g=>m(g[0],g[1]))}return{getToastToRender:h,isToastActive:mw,count:u==null?void 0:u.length}}function yx(i){let[t,n]=q.useState(!1),[a,o]=q.useState(!1),u=q.useRef(null),h=q.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:m,pauseOnHover:p,closeToast:g,onClick:T,closeOnClick:w}=i;cx({id:i.toastId,containerId:i.containerId,fn:n}),q.useEffect(()=>{if(i.pauseOnFocusLoss)return R(),()=>{M()}},[i.pauseOnFocusLoss]);function R(){document.hasFocus()||$(),window.addEventListener("focus",U),window.addEventListener("blur",$)}function M(){window.removeEventListener("focus",U),window.removeEventListener("blur",$)}function V(C){if(i.draggable===!0||i.draggable===C.pointerType){Y();let A=u.current;h.canCloseOnClick=!0,h.canDrag=!0,A.style.transition="none",i.draggableDirection==="x"?(h.start=C.clientX,h.removalDistance=A.offsetWidth*(i.draggablePercent/100)):(h.start=C.clientY,h.removalDistance=A.offsetHeight*(i.draggablePercent===80?i.draggablePercent*1.5:i.draggablePercent)/100)}}function K(C){let{top:A,bottom:S,left:O,right:k}=u.current.getBoundingClientRect();C.nativeEvent.type!=="touchend"&&i.pauseOnHover&&C.clientX>=O&&C.clientX<=k&&C.clientY>=A&&C.clientY<=S?$():U()}function U(){n(!0)}function $(){n(!1)}function Y(){h.didMove=!1,document.addEventListener("pointermove",rt),document.addEventListener("pointerup",lt)}function G(){document.removeEventListener("pointermove",rt),document.removeEventListener("pointerup",lt)}function rt(C){let A=u.current;if(h.canDrag&&A){h.didMove=!0,t&&$(),i.draggableDirection==="x"?h.delta=C.clientX-h.start:h.delta=C.clientY-h.start,h.start!==C.clientX&&(h.canCloseOnClick=!1);let S=i.draggableDirection==="x"?`${h.delta}px, var(--y)`:`0, calc(${h.delta}px + var(--y))`;A.style.transform=`translate3d(${S},0)`,A.style.opacity=`${1-Math.abs(h.delta/h.removalDistance)}`}}function lt(){G();let C=u.current;if(h.canDrag&&h.didMove&&C){if(h.canDrag=!1,Math.abs(h.delta)>h.removalDistance){o(!0),i.closeToast(!0),i.collapseAll();return}C.style.transition="transform 0.2s, opacity 0.2s",C.style.removeProperty("transform"),C.style.removeProperty("opacity")}}let dt={onPointerDown:V,onPointerUp:K};return m&&p&&(dt.onMouseEnter=$,i.stacked||(dt.onMouseLeave=U)),w&&(dt.onClick=C=>{T&&T(C),h.canCloseOnClick&&g(!0)}),{playToast:U,pauseToast:$,isRunning:t,preventExitTransition:a,toastRef:u,eventHandlers:dt}}var _x=typeof window<"u"?q.useLayoutEffect:q.useEffect,th=({theme:i,type:t,isLoading:n,...a})=>ne.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:i==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...a});function vx(i){return ne.createElement(th,{...i},ne.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function Tx(i){return ne.createElement(th,{...i},ne.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function Ex(i){return ne.createElement(th,{...i},ne.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function bx(i){return ne.createElement(th,{...i},ne.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function wx(){return ne.createElement("div",{className:"Toastify__spinner"})}var tp={info:Tx,warning:vx,success:Ex,error:bx,spinner:wx},Ax=i=>i in tp;function Sx({theme:i,type:t,isLoading:n,icon:a}){let o=null,u={theme:i,type:t};return a===!1||(ir(a)?o=a({...u,isLoading:n}):q.isValidElement(a)?o=q.cloneElement(a,u):n?o=tp.spinner():Ax(t)&&(o=tp[t](u))),o}var Rx=i=>{let{isRunning:t,preventExitTransition:n,toastRef:a,eventHandlers:o,playToast:u}=yx(i),{closeButton:h,children:m,autoClose:p,onClick:g,type:T,hideProgressBar:w,closeToast:R,transition:M,position:V,className:K,style:U,progressClassName:$,updateId:Y,role:G,progress:rt,rtl:lt,toastId:dt,deleteToast:C,isIn:A,isLoading:S,closeOnClick:O,theme:k,ariaLabel:P}=i,D=qa("Toastify__toast",`Toastify__toast-theme--${k}`,`Toastify__toast--${T}`,{"Toastify__toast--rtl":lt},{"Toastify__toast--close-on-click":O}),Ee=ir(K)?K({rtl:lt,position:V,type:T,defaultClassName:D}):qa(D,K),ee=Sx(i),X=!!rt||!p,ot={closeToast:R,type:T,theme:k},ht=null;return h===!1||(ir(h)?ht=h(ot):q.isValidElement(h)?ht=q.cloneElement(h,ot):ht=ex(ot)),ne.createElement(M,{isIn:A,done:C,position:V,preventExitTransition:n,nodeRef:a,playToast:u},ne.createElement("div",{id:dt,tabIndex:0,onClick:g,"data-in":A,className:Ee,...o,style:U,ref:a,...A&&{role:G,"aria-label":P}},ee!=null&&ne.createElement("div",{className:qa("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!S})},ee),fw(m,i,!t),ht,!i.customProgressBar&&ne.createElement(nx,{...Y&&!X?{key:`p-${Y}`}:{},rtl:lt,theme:k,delay:p,isRunning:t,isIn:A,closeToast:R,hide:w,type:T,className:$,controlledProgress:X,progress:rt||0})))},Ix=(i,t=!1)=>({enter:`Toastify--animate Toastify__${i}-enter`,exit:`Toastify--animate Toastify__${i}-exit`,appendPosition:t}),Cx=tx(Ix("bounce",!0)),Dx={position:"top-right",transition:Cx,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:i=>i.altKey&&i.code==="KeyT"};function Ox(i){let t={...Dx,...i},n=i.stacked,[a,o]=q.useState(!0),u=q.useRef(null),{getToastToRender:h,isToastActive:m,count:p}=gx(t),{className:g,style:T,rtl:w,containerId:R,hotKeys:M}=t;function V(U){let $=qa("Toastify__toast-container",`Toastify__toast-container--${U}`,{"Toastify__toast-container--rtl":w});return ir(g)?g({position:U,rtl:w,defaultClassName:$}):qa($,Wm(g))}function K(){n&&(o(!0),zt.play())}return _x(()=>{var U;if(n){let $=u.current.querySelectorAll('[data-in="true"]'),Y=12,G=(U=t.position)==null?void 0:U.includes("top"),rt=0,lt=0;Array.from($).reverse().forEach((dt,C)=>{let A=dt;A.classList.add("Toastify__toast--stacked"),C>0&&(A.dataset.collapsed=`${a}`),A.dataset.pos||(A.dataset.pos=G?"top":"bot");let S=rt*(a?.2:1)+(a?0:Y*C);A.style.setProperty("--y",`${G?S:S*-1}px`),A.style.setProperty("--g",`${Y}`),A.style.setProperty("--s",`${1-(a?lt:0)}`),rt+=A.offsetHeight,lt+=.025})}},[a,p,n]),q.useEffect(()=>{function U($){var Y;let G=u.current;M($)&&((Y=G.querySelector('[tabIndex="0"]'))==null||Y.focus(),o(!1),zt.pause()),$.key==="Escape"&&(document.activeElement===G||G!=null&&G.contains(document.activeElement))&&(o(!0),zt.play())}return document.addEventListener("keydown",U),()=>{document.removeEventListener("keydown",U)}},[M]),ne.createElement("section",{ref:u,className:"Toastify",id:R,onMouseEnter:()=>{n&&(o(!1),zt.pause())},onMouseLeave:K,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},h((U,$)=>{let Y=$.length?{...T}:{...T,pointerEvents:"none"};return ne.createElement("div",{tabIndex:-1,className:V(U),"data-stacked":n,style:Y,key:`c-${U}`},$.map(({content:G,props:rt})=>ne.createElement(Rx,{...rt,stacked:n,collapseAll:K,isIn:m(rt.toastId,rt.containerId),key:`t-${rt.key}`},G)))}))}var kl={},sT;function Nx(){if(sT)return kl;sT=1,Object.defineProperty(kl,"__esModule",{value:!0}),kl.parse=h,kl.serialize=g;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const R=function(){};return R.prototype=Object.create(null),R})();function h(R,M){const V=new u,K=R.length;if(K<2)return V;const U=(M==null?void 0:M.decode)||T;let $=0;do{const Y=R.indexOf("=",$);if(Y===-1)break;const G=R.indexOf(";",$),rt=G===-1?K:G;if(Y>rt){$=R.lastIndexOf(";",Y-1)+1;continue}const lt=m(R,$,Y),dt=p(R,Y,lt),C=R.slice(lt,dt);if(V[C]===void 0){let A=m(R,Y+1,rt),S=p(R,rt,A);const O=U(R.slice(A,S));V[C]=O}$=rt+1}while($<K);return V}function m(R,M,V){do{const K=R.charCodeAt(M);if(K!==32&&K!==9)return M}while(++M<V);return V}function p(R,M,V){for(;M>V;){const K=R.charCodeAt(--M);if(K!==32&&K!==9)return M+1}return V}function g(R,M,V){const K=(V==null?void 0:V.encode)||encodeURIComponent;if(!i.test(R))throw new TypeError(`argument name is invalid: ${R}`);const U=K(M);if(!t.test(U))throw new TypeError(`argument val is invalid: ${M}`);let $=R+"="+U;if(!V)return $;if(V.maxAge!==void 0){if(!Number.isInteger(V.maxAge))throw new TypeError(`option maxAge is invalid: ${V.maxAge}`);$+="; Max-Age="+V.maxAge}if(V.domain){if(!n.test(V.domain))throw new TypeError(`option domain is invalid: ${V.domain}`);$+="; Domain="+V.domain}if(V.path){if(!a.test(V.path))throw new TypeError(`option path is invalid: ${V.path}`);$+="; Path="+V.path}if(V.expires){if(!w(V.expires)||!Number.isFinite(V.expires.valueOf()))throw new TypeError(`option expires is invalid: ${V.expires}`);$+="; Expires="+V.expires.toUTCString()}if(V.httpOnly&&($+="; HttpOnly"),V.secure&&($+="; Secure"),V.partitioned&&($+="; Partitioned"),V.priority)switch(typeof V.priority=="string"?V.priority.toLowerCase():void 0){case"low":$+="; Priority=Low";break;case"medium":$+="; Priority=Medium";break;case"high":$+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${V.priority}`)}if(V.sameSite)switch(typeof V.sameSite=="string"?V.sameSite.toLowerCase():V.sameSite){case!0:case"strict":$+="; SameSite=Strict";break;case"lax":$+="; SameSite=Lax";break;case"none":$+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${V.sameSite}`)}return $}function T(R){if(R.indexOf("%")===-1)return R;try{return decodeURIComponent(R)}catch{return R}}function w(R){return o.call(R)==="[object Date]"}return kl}Nx();/**
 * react-router v7.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var oT="popstate";function xx(i={}){function t(o,u){let{pathname:h="/",search:m="",hash:p=""}=rs(o.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),ep("",{pathname:h,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let h=o.document.querySelector("base"),m="";if(h&&h.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof u=="string"?u:iu(u))}function a(o,u){Qn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return kx(t,n,a,i)}function oe(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}function Qn(i,t){if(!i){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Mx(){return Math.random().toString(36).substring(2,10)}function lT(i,t){return{usr:i.state,key:i.key,idx:t}}function ep(i,t,n=null,a){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof t=="string"?rs(t):t,state:n,key:t&&t.key||a||Mx()}}function iu({pathname:i="/",search:t="",hash:n=""}){return t&&t!=="?"&&(i+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function rs(i){let t={};if(i){let n=i.indexOf("#");n>=0&&(t.hash=i.substring(n),i=i.substring(0,n));let a=i.indexOf("?");a>=0&&(t.search=i.substring(a),i=i.substring(0,a)),i&&(t.pathname=i)}return t}function kx(i,t,n,a={}){let{window:o=document.defaultView,v5Compat:u=!1}=a,h=o.history,m="POP",p=null,g=T();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function T(){return(h.state||{idx:null}).idx}function w(){m="POP";let U=T(),$=U==null?null:U-g;g=U,p&&p({action:m,location:K.location,delta:$})}function R(U,$){m="PUSH";let Y=ep(K.location,U,$);n&&n(Y,U),g=T()+1;let G=lT(Y,g),rt=K.createHref(Y);try{h.pushState(G,"",rt)}catch(lt){if(lt instanceof DOMException&&lt.name==="DataCloneError")throw lt;o.location.assign(rt)}u&&p&&p({action:m,location:K.location,delta:1})}function M(U,$){m="REPLACE";let Y=ep(K.location,U,$);n&&n(Y,U),g=T();let G=lT(Y,g),rt=K.createHref(Y);h.replaceState(G,"",rt),u&&p&&p({action:m,location:K.location,delta:0})}function V(U){let $=o.location.origin!=="null"?o.location.origin:o.location.href,Y=typeof U=="string"?U:iu(U);return Y=Y.replace(/ $/,"%20"),oe($,`No window.location.(origin|href) available to create URL for href: ${Y}`),new URL(Y,$)}let K={get action(){return m},get location(){return i(o,h)},listen(U){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(oT,w),p=U,()=>{o.removeEventListener(oT,w),p=null}},createHref(U){return t(o,U)},createURL:V,encodeLocation(U){let $=V(U);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:R,replace:M,go(U){return h.go(U)}};return K}function yw(i,t,n="/"){return Vx(i,t,n,!1)}function Vx(i,t,n,a){let o=typeof t=="string"?rs(t):t,u=rr(o.pathname||"/",n);if(u==null)return null;let h=_w(i);Px(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let g=Kx(u);m=Gx(h[p],g,a)}return m}function _w(i,t=[],n=[],a=""){let o=(u,h,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};p.relativePath.startsWith("/")&&(oe(p.relativePath.startsWith(a),`Absolute route path "${p.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(a.length));let g=Zi([a,p.relativePath]),T=n.concat(p);u.children&&u.children.length>0&&(oe(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),_w(u.children,t,T,g)),!(u.path==null&&!u.index)&&t.push({path:g,score:qx(g,u.index),routesMeta:T})};return i.forEach((u,h)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,h);else for(let p of vw(u.path))o(u,h,p)}),t}function vw(i){let t=i.split("/");if(t.length===0)return[];let[n,...a]=t,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(a.length===0)return o?[u,""]:[u];let h=vw(a.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...h),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function Px(i){i.sort((t,n)=>t.score!==n.score?n.score-t.score:Fx(t.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var Lx=/^:[\w-]+$/,Ux=3,zx=2,Bx=1,jx=10,Hx=-2,uT=i=>i==="*";function qx(i,t){let n=i.split("/"),a=n.length;return n.some(uT)&&(a+=Hx),t&&(a+=zx),n.filter(o=>!uT(o)).reduce((o,u)=>o+(Lx.test(u)?Ux:u===""?Bx:jx),a)}function Fx(i,t){return i.length===t.length&&i.slice(0,-1).every((a,o)=>a===t[o])?i[i.length-1]-t[t.length-1]:0}function Gx(i,t,n=!1){let{routesMeta:a}=i,o={},u="/",h=[];for(let m=0;m<a.length;++m){let p=a[m],g=m===a.length-1,T=u==="/"?t:t.slice(u.length)||"/",w=Of({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},T),R=p.route;if(!w&&g&&n&&!a[a.length-1].route.index&&(w=Of({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},T)),!w)return null;Object.assign(o,w.params),h.push({params:o,pathname:Zi([u,w.pathname]),pathnameBase:Wx(Zi([u,w.pathnameBase])),route:R}),w.pathnameBase!=="/"&&(u=Zi([u,w.pathnameBase]))}return h}function Of(i,t){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,a]=$x(i.path,i.caseSensitive,i.end),o=t.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:a.reduce((g,{paramName:T,isOptional:w},R)=>{if(T==="*"){let V=m[R]||"";h=u.slice(0,u.length-V.length).replace(/(.)\/+$/,"$1")}const M=m[R];return w&&!M?g[T]=void 0:g[T]=(M||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:i}}function $x(i,t=!1,n=!0){Qn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let a=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(a.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(a.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),a]}function Kx(i){try{return i.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Qn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),i}}function rr(i,t){if(t==="/")return i;if(!i.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,a=i.charAt(n);return a&&a!=="/"?null:i.slice(n)||"/"}function Qx(i,t="/"){let{pathname:n,search:a="",hash:o=""}=typeof i=="string"?rs(i):i;return{pathname:n?n.startsWith("/")?n:Yx(n,t):t,search:Zx(a),hash:Jx(o)}}function Yx(i,t){let n=t.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function wm(i,t,n,a){return`Cannot include a '${i}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Xx(i){return i.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Tw(i){let t=Xx(i);return t.map((n,a)=>a===t.length-1?n.pathname:n.pathnameBase)}function Ew(i,t,n,a=!1){let o;typeof i=="string"?o=rs(i):(o={...i},oe(!o.pathname||!o.pathname.includes("?"),wm("?","pathname","search",o)),oe(!o.pathname||!o.pathname.includes("#"),wm("#","pathname","hash",o)),oe(!o.search||!o.search.includes("#"),wm("#","search","hash",o)));let u=i===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=n;else{let w=t.length-1;if(!a&&h.startsWith("..")){let R=h.split("/");for(;R[0]==="..";)R.shift(),w-=1;o.pathname=R.join("/")}m=w>=0?t[w]:"/"}let p=Qx(o,m),g=h&&h!=="/"&&h.endsWith("/"),T=(u||h===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||T)&&(p.pathname+="/"),p}var Zi=i=>i.join("/").replace(/\/\/+/g,"/"),Wx=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),Zx=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,Jx=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function tM(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var bw=["POST","PUT","PATCH","DELETE"];new Set(bw);var eM=["GET",...bw];new Set(eM);var wo=q.createContext(null);wo.displayName="DataRouter";var eh=q.createContext(null);eh.displayName="DataRouterState";var ww=q.createContext({isTransitioning:!1});ww.displayName="ViewTransition";var nM=q.createContext(new Map);nM.displayName="Fetchers";var iM=q.createContext(null);iM.displayName="Await";var Ei=q.createContext(null);Ei.displayName="Navigation";var pu=q.createContext(null);pu.displayName="Location";var ar=q.createContext({outlet:null,matches:[],isDataRoute:!1});ar.displayName="Route";var tg=q.createContext(null);tg.displayName="RouteError";function rM(i,{relative:t}={}){oe(gu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=q.useContext(Ei),{hash:o,pathname:u,search:h}=yu(i,{relative:t}),m=u;return n!=="/"&&(m=u==="/"?n:Zi([n,u])),a.createHref({pathname:m,search:h,hash:o})}function gu(){return q.useContext(pu)!=null}function ea(){return oe(gu(),"useLocation() may be used only in the context of a <Router> component."),q.useContext(pu).location}var Aw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Sw(i){q.useContext(Ei).static||q.useLayoutEffect(i)}function aM(){let{isDataRoute:i}=q.useContext(ar);return i?_M():sM()}function sM(){oe(gu(),"useNavigate() may be used only in the context of a <Router> component.");let i=q.useContext(wo),{basename:t,navigator:n}=q.useContext(Ei),{matches:a}=q.useContext(ar),{pathname:o}=ea(),u=JSON.stringify(Tw(a)),h=q.useRef(!1);return Sw(()=>{h.current=!0}),q.useCallback((p,g={})=>{if(Qn(h.current,Aw),!h.current)return;if(typeof p=="number"){n.go(p);return}let T=Ew(p,JSON.parse(u),o,g.relative==="path");i==null&&t!=="/"&&(T.pathname=T.pathname==="/"?t:Zi([t,T.pathname])),(g.replace?n.replace:n.push)(T,g.state,g)},[t,n,u,o,i])}q.createContext(null);function yu(i,{relative:t}={}){let{matches:n}=q.useContext(ar),{pathname:a}=ea(),o=JSON.stringify(Tw(n));return q.useMemo(()=>Ew(i,JSON.parse(o),a,t==="path"),[i,o,a,t])}function oM(i,t){return Rw(i,t)}function Rw(i,t,n,a){var Y;oe(gu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=q.useContext(Ei),{matches:h}=q.useContext(ar),m=h[h.length-1],p=m?m.params:{},g=m?m.pathname:"/",T=m?m.pathnameBase:"/",w=m&&m.route;{let G=w&&w.path||"";Iw(g,!w||G.endsWith("*")||G.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${G}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${G}"> to <Route path="${G==="/"?"*":`${G}/*`}">.`)}let R=ea(),M;if(t){let G=typeof t=="string"?rs(t):t;oe(T==="/"||((Y=G.pathname)==null?void 0:Y.startsWith(T)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${G.pathname}" was given in the \`location\` prop.`),M=G}else M=R;let V=M.pathname||"/",K=V;if(T!=="/"){let G=T.replace(/^\//,"").split("/");K="/"+V.replace(/^\//,"").split("/").slice(G.length).join("/")}let U=!u&&n&&n.matches&&n.matches.length>0?n.matches:yw(i,{pathname:K});Qn(w||U!=null,`No routes matched location "${M.pathname}${M.search}${M.hash}" `),Qn(U==null||U[U.length-1].route.element!==void 0||U[U.length-1].route.Component!==void 0||U[U.length-1].route.lazy!==void 0,`Matched leaf route at location "${M.pathname}${M.search}${M.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let $=hM(U&&U.map(G=>Object.assign({},G,{params:Object.assign({},p,G.params),pathname:Zi([T,o.encodeLocation?o.encodeLocation(G.pathname).pathname:G.pathname]),pathnameBase:G.pathnameBase==="/"?T:Zi([T,o.encodeLocation?o.encodeLocation(G.pathnameBase).pathname:G.pathnameBase])})),h,n,a);return t&&$?q.createElement(pu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...M},navigationType:"POP"}},$):$}function lM(){let i=yM(),t=tM(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=q.createElement(q.Fragment,null,q.createElement("p",null," Hey developer "),q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",q.createElement("code",{style:u},"ErrorBoundary")," or"," ",q.createElement("code",{style:u},"errorElement")," prop on your route.")),q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},t),n?q.createElement("pre",{style:o},n):null,h)}var uM=q.createElement(lM,null),cM=class extends q.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,t){return t.location!==i.location||t.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:t.error,location:t.location,revalidation:i.revalidation||t.revalidation}}componentDidCatch(i,t){console.error("React Router caught the following error during render",i,t)}render(){return this.state.error!==void 0?q.createElement(ar.Provider,{value:this.props.routeContext},q.createElement(tg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function fM({routeContext:i,match:t,children:n}){let a=q.useContext(wo);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),q.createElement(ar.Provider,{value:i},n)}function hM(i,t=[],n=null,a=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let o=i,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);oe(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let h=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:T,errors:w}=n,R=g.route.loader&&!T.hasOwnProperty(g.route.id)&&(!w||w[g.route.id]===void 0);if(g.route.lazy||R){h=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,T)=>{let w,R=!1,M=null,V=null;n&&(w=u&&g.route.id?u[g.route.id]:void 0,M=g.route.errorElement||uM,h&&(m<0&&T===0?(Iw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,V=null):m===T&&(R=!0,V=g.route.hydrateFallbackElement||null)));let K=t.concat(o.slice(0,T+1)),U=()=>{let $;return w?$=M:R?$=V:g.route.Component?$=q.createElement(g.route.Component,null):g.route.element?$=g.route.element:$=p,q.createElement(fM,{match:g,routeContext:{outlet:p,matches:K,isDataRoute:n!=null},children:$})};return n&&(g.route.ErrorBoundary||g.route.errorElement||T===0)?q.createElement(cM,{location:n.location,revalidation:n.revalidation,component:M,error:w,children:U(),routeContext:{outlet:null,matches:K,isDataRoute:!0}}):U()},null)}function eg(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dM(i){let t=q.useContext(wo);return oe(t,eg(i)),t}function mM(i){let t=q.useContext(eh);return oe(t,eg(i)),t}function pM(i){let t=q.useContext(ar);return oe(t,eg(i)),t}function ng(i){let t=pM(i),n=t.matches[t.matches.length-1];return oe(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function gM(){return ng("useRouteId")}function yM(){var a;let i=q.useContext(tg),t=mM("useRouteError"),n=ng("useRouteError");return i!==void 0?i:(a=t.errors)==null?void 0:a[n]}function _M(){let{router:i}=dM("useNavigate"),t=ng("useNavigate"),n=q.useRef(!1);return Sw(()=>{n.current=!0}),q.useCallback(async(o,u={})=>{Qn(n.current,Aw),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:t,...u}))},[i,t])}var cT={};function Iw(i,t,n){!t&&!cT[i]&&(cT[i]=!0,Qn(!1,n))}q.memo(vM);function vM({routes:i,future:t,state:n}){return Rw(i,void 0,n,t)}function eo(i){oe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function TM({basename:i="/",children:t=null,location:n,navigationType:a="POP",navigator:o,static:u=!1}){oe(!gu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),m=q.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof n=="string"&&(n=rs(n));let{pathname:p="/",search:g="",hash:T="",state:w=null,key:R="default"}=n,M=q.useMemo(()=>{let V=rr(p,h);return V==null?null:{location:{pathname:V,search:g,hash:T,state:w,key:R},navigationType:a}},[h,p,g,T,w,R,a]);return Qn(M!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${T}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:q.createElement(Ei.Provider,{value:m},q.createElement(pu.Provider,{children:t,value:M}))}function EM({children:i,location:t}){return oM(np(i),t)}function np(i,t=[]){let n=[];return q.Children.forEach(i,(a,o)=>{if(!q.isValidElement(a))return;let u=[...t,o];if(a.type===q.Fragment){n.push.apply(n,np(a.props.children,u));return}oe(a.type===eo,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),oe(!a.props.index||!a.props.children,"An index route cannot have child routes.");let h={id:a.props.id||u.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(h.children=np(a.props.children,u)),n.push(h)}),n}var af="get",sf="application/x-www-form-urlencoded";function nh(i){return i!=null&&typeof i.tagName=="string"}function bM(i){return nh(i)&&i.tagName.toLowerCase()==="button"}function wM(i){return nh(i)&&i.tagName.toLowerCase()==="form"}function AM(i){return nh(i)&&i.tagName.toLowerCase()==="input"}function SM(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function RM(i,t){return i.button===0&&(!t||t==="_self")&&!SM(i)}var Qc=null;function IM(){if(Qc===null)try{new FormData(document.createElement("form"),0),Qc=!1}catch{Qc=!0}return Qc}var CM=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Am(i){return i!=null&&!CM.has(i)?(Qn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${sf}"`),null):i}function DM(i,t){let n,a,o,u,h;if(wM(i)){let m=i.getAttribute("action");a=m?rr(m,t):null,n=i.getAttribute("method")||af,o=Am(i.getAttribute("enctype"))||sf,u=new FormData(i)}else if(bM(i)||AM(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(a=p?rr(p,t):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||af,o=Am(i.getAttribute("formenctype"))||Am(m.getAttribute("enctype"))||sf,u=new FormData(m,i),!IM()){let{name:g,type:T,value:w}=i;if(T==="image"){let R=g?`${g}.`:"";u.append(`${R}x`,"0"),u.append(`${R}y`,"0")}else g&&u.append(g,w)}}else{if(nh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=af,a=null,o=sf,h=i}return u&&o==="text/plain"&&(h=u,u=void 0),{action:a,method:n.toLowerCase(),encType:o,formData:u,body:h}}function ig(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}async function OM(i,t){if(i.id in t)return t[i.id];try{let n=await import(i.module);return t[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function NM(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function xM(i,t,n){let a=await Promise.all(i.map(async o=>{let u=t.routes[o.route.id];if(u){let h=await OM(u,n);return h.links?h.links():[]}return[]}));return PM(a.flat(1).filter(NM).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function fT(i,t,n,a,o,u){let h=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>{var T;return n[g].pathname!==p.pathname||((T=n[g].route.path)==null?void 0:T.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return u==="assets"?t.filter((p,g)=>h(p,g)||m(p,g)):u==="data"?t.filter((p,g)=>{var w;let T=a.routes[p.route.id];if(!T||!T.hasLoader)return!1;if(h(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let R=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((w=n[0])==null?void 0:w.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof R=="boolean")return R}return!0}):[]}function MM(i,t,{includeHydrateFallback:n}={}){return kM(i.map(a=>{let o=t.routes[a.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function kM(i){return[...new Set(i)]}function VM(i){let t={},n=Object.keys(i).sort();for(let a of n)t[a]=i[a];return t}function PM(i,t){let n=new Set;return new Set(t),i.reduce((a,o)=>{let u=JSON.stringify(VM(o));return n.has(u)||(n.add(u),a.push({key:u,link:o})),a},[])}function LM(i,t){let n=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n.pathname==="/"?n.pathname="_root.data":t&&rr(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function Cw(){let i=q.useContext(wo);return ig(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function UM(){let i=q.useContext(eh);return ig(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var rg=q.createContext(void 0);rg.displayName="FrameworkContext";function Dw(){let i=q.useContext(rg);return ig(i,"You must render this element inside a <HydratedRouter> element"),i}function zM(i,t){let n=q.useContext(rg),[a,o]=q.useState(!1),[u,h]=q.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:T,onTouchStart:w}=t,R=q.useRef(null);q.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let K=$=>{$.forEach(Y=>{h(Y.isIntersecting)})},U=new IntersectionObserver(K,{threshold:.5});return R.current&&U.observe(R.current),()=>{U.disconnect()}}},[i]),q.useEffect(()=>{if(a){let K=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(K)}}},[a]);let M=()=>{o(!0)},V=()=>{o(!1),h(!1)};return n?i!=="intent"?[u,R,{}]:[u,R,{onFocus:Vl(m,M),onBlur:Vl(p,V),onMouseEnter:Vl(g,M),onMouseLeave:Vl(T,V),onTouchStart:Vl(w,M)}]:[!1,R,{}]}function Vl(i,t){return n=>{i&&i(n),n.defaultPrevented||t(n)}}function BM({page:i,...t}){let{router:n}=Cw(),a=q.useMemo(()=>yw(n.routes,i,n.basename),[n.routes,i,n.basename]);return a?q.createElement(HM,{page:i,matches:a,...t}):null}function jM(i){let{manifest:t,routeModules:n}=Dw(),[a,o]=q.useState([]);return q.useEffect(()=>{let u=!1;return xM(i,t,n).then(h=>{u||o(h)}),()=>{u=!0}},[i,t,n]),a}function HM({page:i,matches:t,...n}){let a=ea(),{manifest:o,routeModules:u}=Dw(),{basename:h}=Cw(),{loaderData:m,matches:p}=UM(),g=q.useMemo(()=>fT(i,t,p,o,a,"data"),[i,t,p,o,a]),T=q.useMemo(()=>fT(i,t,p,o,a,"assets"),[i,t,p,o,a]),w=q.useMemo(()=>{if(i===a.pathname+a.search+a.hash)return[];let V=new Set,K=!1;if(t.forEach($=>{var G;let Y=o.routes[$.route.id];!Y||!Y.hasLoader||(!g.some(rt=>rt.route.id===$.route.id)&&$.route.id in m&&((G=u[$.route.id])!=null&&G.shouldRevalidate)||Y.hasClientLoader?K=!0:V.add($.route.id))}),V.size===0)return[];let U=LM(i,h);return K&&V.size>0&&U.searchParams.set("_routes",t.filter($=>V.has($.route.id)).map($=>$.route.id).join(",")),[U.pathname+U.search]},[h,m,a,o,g,t,i,u]),R=q.useMemo(()=>MM(T,o),[T,o]),M=jM(T);return q.createElement(q.Fragment,null,w.map(V=>q.createElement("link",{key:V,rel:"prefetch",as:"fetch",href:V,...n})),R.map(V=>q.createElement("link",{key:V,rel:"modulepreload",href:V,...n})),M.map(({key:V,link:K})=>q.createElement("link",{key:V,...K})))}function qM(...i){return t=>{i.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var Ow=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Ow&&(window.__reactRouterVersion="7.5.0")}catch{}function FM({basename:i,children:t,window:n}){let a=q.useRef();a.current==null&&(a.current=xx({window:n,v5Compat:!0}));let o=a.current,[u,h]=q.useState({action:o.action,location:o.location}),m=q.useCallback(p=>{q.startTransition(()=>h(p))},[h]);return q.useLayoutEffect(()=>o.listen(m),[o,m]),q.createElement(TM,{basename:i,children:t,location:u.location,navigationType:u.action,navigator:o})}var Nw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Wa=q.forwardRef(function({onClick:t,discover:n="render",prefetch:a="none",relative:o,reloadDocument:u,replace:h,state:m,target:p,to:g,preventScrollReset:T,viewTransition:w,...R},M){let{basename:V}=q.useContext(Ei),K=typeof g=="string"&&Nw.test(g),U,$=!1;if(typeof g=="string"&&K&&(U=g,Ow))try{let S=new URL(window.location.href),O=g.startsWith("//")?new URL(S.protocol+g):new URL(g),k=rr(O.pathname,V);O.origin===S.origin&&k!=null?g=k+O.search+O.hash:$=!0}catch{Qn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Y=rM(g,{relative:o}),[G,rt,lt]=zM(a,R),dt=QM(g,{replace:h,state:m,target:p,preventScrollReset:T,relative:o,viewTransition:w});function C(S){t&&t(S),S.defaultPrevented||dt(S)}let A=q.createElement("a",{...R,...lt,href:U||Y,onClick:$||u?t:C,ref:qM(M,rt),target:p,"data-discover":!K&&n==="render"?"true":void 0});return G&&!K?q.createElement(q.Fragment,null,A,q.createElement(BM,{page:Y})):A});Wa.displayName="Link";var GM=q.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:a="",end:o=!1,style:u,to:h,viewTransition:m,children:p,...g},T){let w=yu(h,{relative:g.relative}),R=ea(),M=q.useContext(eh),{navigator:V,basename:K}=q.useContext(Ei),U=M!=null&&JM(w)&&m===!0,$=V.encodeLocation?V.encodeLocation(w).pathname:w.pathname,Y=R.pathname,G=M&&M.navigation&&M.navigation.location?M.navigation.location.pathname:null;n||(Y=Y.toLowerCase(),G=G?G.toLowerCase():null,$=$.toLowerCase()),G&&K&&(G=rr(G,K)||G);const rt=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let lt=Y===$||!o&&Y.startsWith($)&&Y.charAt(rt)==="/",dt=G!=null&&(G===$||!o&&G.startsWith($)&&G.charAt($.length)==="/"),C={isActive:lt,isPending:dt,isTransitioning:U},A=lt?t:void 0,S;typeof a=="function"?S=a(C):S=[a,lt?"active":null,dt?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let O=typeof u=="function"?u(C):u;return q.createElement(Wa,{...g,"aria-current":A,className:S,ref:T,style:O,to:h,viewTransition:m},typeof p=="function"?p(C):p)});GM.displayName="NavLink";var $M=q.forwardRef(({discover:i="render",fetcherKey:t,navigate:n,reloadDocument:a,replace:o,state:u,method:h=af,action:m,onSubmit:p,relative:g,preventScrollReset:T,viewTransition:w,...R},M)=>{let V=WM(),K=ZM(m,{relative:g}),U=h.toLowerCase()==="get"?"get":"post",$=typeof m=="string"&&Nw.test(m),Y=G=>{if(p&&p(G),G.defaultPrevented)return;G.preventDefault();let rt=G.nativeEvent.submitter,lt=(rt==null?void 0:rt.getAttribute("formmethod"))||h;V(rt||G.currentTarget,{fetcherKey:t,method:lt,navigate:n,replace:o,state:u,relative:g,preventScrollReset:T,viewTransition:w})};return q.createElement("form",{ref:M,method:U,action:K,onSubmit:a?p:Y,...R,"data-discover":!$&&i==="render"?"true":void 0})});$M.displayName="Form";function KM(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xw(i){let t=q.useContext(wo);return oe(t,KM(i)),t}function QM(i,{target:t,replace:n,state:a,preventScrollReset:o,relative:u,viewTransition:h}={}){let m=aM(),p=ea(),g=yu(i,{relative:u});return q.useCallback(T=>{if(RM(T,t)){T.preventDefault();let w=n!==void 0?n:iu(p)===iu(g);m(i,{replace:w,state:a,preventScrollReset:o,relative:u,viewTransition:h})}},[p,m,g,n,a,t,i,o,u,h])}var YM=0,XM=()=>`__${String(++YM)}__`;function WM(){let{router:i}=xw("useSubmit"),{basename:t}=q.useContext(Ei),n=gM();return q.useCallback(async(a,o={})=>{let{action:u,method:h,encType:m,formData:p,body:g}=DM(a,t);if(o.navigate===!1){let T=o.fetcherKey||XM();await i.fetch(T,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,t,n])}function ZM(i,{relative:t}={}){let{basename:n}=q.useContext(Ei),a=q.useContext(ar);oe(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),u={...yu(i||".",{relative:t})},h=ea();if(i==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(T=>T==="")){m.delete("index"),p.filter(w=>w).forEach(w=>m.append("index",w));let T=m.toString();u.search=T?`?${T}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Zi([n,u.pathname])),iu(u)}function JM(i,t={}){let n=q.useContext(ww);oe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=xw("useViewTransitionState"),o=yu(i,{relative:t.relative});if(!n.isTransitioning)return!1;let u=rr(n.currentLocation.pathname,a)||n.currentLocation.pathname,h=rr(n.nextLocation.pathname,a)||n.nextLocation.pathname;return Of(o.pathname,h)!=null||Of(o.pathname,u)!=null}new TextEncoder;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function tk(i,t,n,a){function o(u){return u instanceof n?u:new n(function(h){h(u)})}return new(n||(n=Promise))(function(u,h){function m(T){try{g(a.next(T))}catch(w){h(w)}}function p(T){try{g(a.throw(T))}catch(w){h(w)}}function g(T){T.done?u(T.value):o(T.value).then(m,p)}g((a=a.apply(i,[])).next())})}function ek(i,t){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},a,o,u,h;return h={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function m(g){return function(T){return p([g,T])}}function p(g){if(a)throw new TypeError("Generator is already executing.");for(;n;)try{if(a=1,o&&(u=g[0]&2?o.return:g[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,g[1])).done)return u;switch(o=0,u&&(g=[g[0]&2,u.value]),g[0]){case 0:case 1:u=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,o=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!u||g[1]>u[0]&&g[1]<u[3])){n.label=g[1];break}if(g[0]===6&&n.label<u[1]){n.label=u[1],u=g;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(g);break}u[2]&&n.ops.pop(),n.trys.pop();continue}g=t.call(i,n)}catch(T){g=[6,T],o=0}finally{a=u=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var no=function(){return no=Object.assign||function(t){for(var n,a=1,o=arguments.length;a<o;a++){n=arguments[a];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(t[u]=n[u])}return t},no.apply(this,arguments)},Mw=function(i){return{loading:i==null,value:i}},nk=function(){return function(i,t){switch(t.type){case"error":return no(no({},i),{error:t.error,loading:!1,value:void 0});case"reset":return Mw(t.defaultValue);case"value":return no(no({},i),{error:void 0,loading:!1,value:t.value});default:return i}}},ik=function(i){var t=i?i():void 0,n=q.useReducer(nk(),Mw(t)),a=n[0],o=n[1],u=q.useCallback(function(){var p=i?i():void 0;o({type:"reset",defaultValue:p})},[i]),h=q.useCallback(function(p){o({type:"error",error:p})},[]),m=q.useCallback(function(p){o({type:"value",value:p})},[]);return q.useMemo(function(){return{error:a.error,loading:a.loading,reset:u,setError:h,setValue:m,value:a.value}},[a.error,a.loading,u,h,m,a.value])},rk=function(i,t){var n=ik(function(){return i.currentUser}),a=n.error,o=n.loading,u=n.setError,h=n.setValue,m=n.value;return q.useEffect(function(){var p=J1(i,function(g){return tk(void 0,void 0,void 0,function(){var T;return ek(this,function(w){switch(w.label){case 0:return[3,4];case 1:return w.trys.push([1,3,,4]),[4,t.onUserChanged(g)];case 2:return w.sent(),[3,4];case 3:return T=w.sent(),u(T),[3,4];case 4:return h(g),[2]}})})},u);return function(){p()}},[i]),[m,o,a]};function ak(){const[i,t]=q.useState(""),[n,a]=q.useState(""),[o,u]=q.useState(""),[h,m]=q.useState("");Kb(Df,"users");const p=async()=>{try{const w=(await Y1(go,o,h)).user;await $N(Qp(Df,"users",w.uid),{fname:i,lname:n,email:w.email}),zt.success("registered successfully",{position:"top-center"}),window.location.href="/"}catch(T){console.log(T.message),zt.error(T.message,{position:"bottom-center"})}},g=async()=>{try{await aE(go,uw),window.location.href="/"}catch(T){console.error(T.message)}};return it.jsx("div",{className:"w-full h-screen flex items-center justify-center bg-gray-800",children:it.jsxs("div",{className:"flex flex-col gap-3 w-[500px] p-5 shadow-2xl",children:[it.jsx("input",{autoComplete:"off",className:"border border-white text-white rounded-lg p-2",onChange:T=>t(T.target.value),type:"text",placeholder:"Enter first name..."}),it.jsx("input",{autoComplete:"off",onChange:T=>a(T.target.value),className:"border rounded-lg p-2 border-white text-white",type:"text",placeholder:"Enter last name..."}),it.jsx("input",{autoComplete:"off",onChange:T=>u(T.target.value),className:"border rounded-lg p-2 border-white text-white",type:"email",placeholder:"Enter your email..."}),it.jsx("input",{autoComplete:"off",onChange:T=>m(T.target.value),className:"border rounded-lg p-2 border-white text-white",type:"password",placeholder:"Create a password..."}),it.jsx("button",{onClick:p,className:"bg-blue-600 text-white rounded-lg cursor-pointer p-2",children:"Sign Up"}),it.jsx("button",{onClick:g,className:"bg-blue-600 text-white rounded-lg cursor-pointer p-2",children:"Sign Up With Google"}),it.jsxs("p",{className:"text-white text-lg self-end",children:["already have an account ",it.jsx(Wa,{to:"/signin",className:"text-blue-600 font-bold cursor-pointer",children:"Sign in here"})]})]})})}function sk({id:i,image:t,title:n,price:a,off:o,start:u,syllabus:h,desc:m}){return it.jsxs("div",{className:"w-[400px] h-[400px] bg-gray-950 rounded-2xl flex flex-col items-around justify-between shadow shadow-amber-50",children:[it.jsx("div",{className:"w-full h-[40%] bg-red-100 bg-cover bg-center rounded-tr-2xl rounded-tl-2xl",style:{backgroundImage:`url(${t})`}}),it.jsxs("div",{className:"flex flex-col items-center justify-center gap-5 grow p-2",children:[it.jsx("div",{className:"text-white font-bold text-lg text-center h-[50px] overflow-ellipsis",children:n}),it.jsxs("div",{className:"text-orange-300 font-medium",children:["starts ",u]}),it.jsxs("div",{className:"flex justify-around items-center w-full  rounded-2xl",children:[it.jsxs("div",{className:"text-white text-xl font-bold",children:["",a]}),it.jsxs("div",{className:"text-green-400 font-bold",children:[o,"% off"]})]}),it.jsx(Wa,{to:`/details/${i}`,className:"bg-blue-600 text-center text-white font-medium rounded-2xl cursor-pointer p-2 w-full",state:{id:i,image:t,title:n,price:a,off:o,start:u,syllabus:h,desc:m},children:"View Details"})]})]})}function ok(){const i=[{id:1,image:"https://www.syncfusion.com/blogs/wp-content/uploads/2020/07/Top-6-Front-End-Web-Development-Tools-to-Increase-Your-Productivity-in-2020-1.jpg",title:"HTML + CSS, JS, Python, SQL + Projects + GitHub",price:"1,999",off:17,start:"from 1 April",syllabus:` HTML5  Structure your web pages

 CSS3  Style and layout with Flexbox, Grid, and animations

 JavaScript  Add interactivity and logic

 Git & GitHub  Version control and collaborative workflows

 Python  Backend scripting and logic handling

 SQL  Database fundamentals and data manipulation

 Bonus: Hosting your project live on GitHub Pages or free hosting platforms`,desc:`This comprehensive web development course is designed for beginners and aspiring developers who want to build a strong foundation in both front-end and back-end technologies.

You'll start by mastering the basics of HTML, CSS, and JavaScript to create responsive and interactive websites. Then, you'll dive into version control with Git and GitHub, helping you collaborate on real-world projects and manage code efficiently.

The backend section introduces you to Python for server-side programming and SQL for managing and querying databases. By the end of the course, youll have the skills to create dynamic, data-driven websites and deploy them online.`},{id:2,image:"https://community.nasscom.in/sites/default/files/styles/960_x_600/public/media/images/DATA%20SCIENCE%20MODEL.jpg?itok=Uw9IQgUd",title:"Data Science, Power BI, Advance Excel, Projects + Linkedin Guide + Python",price:"2,499",off:35,start:"from 1 April",syllabus:` Advanced Excel  Formulas, pivot tables, dashboards, automation

 Power BI  Data modeling and interactive business dashboards

 Tableau  Data visualization and storytelling

 Python for Data Science  Syntax, logic, and automation

 Pandas, NumPy, Matplotlib, Seaborn  Data manipulation and visualization

 Project-Based Learning  Real-world data analysis & dashboards

 Career Support  LinkedIn branding, resume tips, mock interviews`,desc:`This all-in-one Data Science course is designed to take you from beginner to job-ready with real-world tools and techniques. Youll learn to analyze and visualize data using industry-standard tools like Advanced Excel, Power BI, and Tableau, helping you create professional dashboards and reports.

Next, youll dive into Python for data science, mastering libraries such as Pandas, NumPy, Matplotlib, and more to clean, analyze, and visualize large datasets efficiently.

The course also includes essential career guidance, such as LinkedIn profile optimization, portfolio building, and job interview preparation, giving you the confidence and skills to land your dream job in the data world.`}];return it.jsx("div",{className:"bg-gray-800 h-fit md:h-screen w-full p-5 flex justify-center gap-10 items-center flex-wrap",children:i.map(t=>it.jsx("div",{children:it.jsx(sk,{image:t.image,title:t.title,price:t.price,off:t.off,start:t.start,syllabus:t.syllabus,desc:t.desc,id:t.id})}))})}function lk(){const[i,t]=q.useState(""),[n,a]=q.useState(""),o=async()=>{try{await X1(go,i,n),zt.success("Logged in successfully",{position:"top-center"}),window.location.href="/"}catch(h){zt.error(h.message,{position:"bottom-center"})}},u=async()=>{try{await aE(go,uw),window.location.href="/"}catch(h){console.error(h.message)}};return it.jsx("div",{className:"w-full h-screen flex items-center justify-center bg-gray-800",children:it.jsxs("div",{className:"flex flex-col gap-3 w-[500px] p-5 shadow-2xl",children:[it.jsx("input",{autoComplete:"off",className:"border border-white text-white rounded-lg p-2",type:"email",placeholder:"Enter registred email...",onChange:h=>t(h.target.value)}),it.jsx("input",{autoComplete:"off",className:"border border-white text-white rounded-lg p-2",type:"password",placeholder:"Enter password...",onChange:h=>a(h.target.value)}),it.jsx("button",{onClick:o,className:"bg-blue-600 text-white rounded-lg cursor-pointer p-2",children:"Login"}),it.jsx("button",{onClick:u,className:"bg-blue-600 text-white rounded-lg cursor-pointer p-2",children:"Sign In With Google"})]})})}function uk(){const[i,t,n]=rk(go),[a,o]=q.useState("");q.useEffect(()=>{(async()=>{if(i)try{const m=Qp(Df,"users",i.uid),p=await FN(m);if(p.exists()){const g=p.data();o(`${g.fname} ${g.lname}`)}else console.log("no such document")}catch(m){console.log(m.message)}})()},[i]);const u=async()=>{try{await tI(go),window.location.href="/"}catch(h){console.log(h.message)}};return it.jsxs("div",{className:"h-[80px] bg-gray-950 flex items-center justify-around",children:[it.jsx("div",{className:"text-white font-bold text-2xl",children:"NIT"}),it.jsxs("div",{className:"flex items-center gap-5",children:[it.jsxs("div",{className:"border border-white rounded-4xl py-2",children:[it.jsx("input",{autoComplete:"off",type:"search",className:" border-r-white focus:outline-none text-white pl-2",placeholder:"search a course..."}),it.jsx("button",{className:"text-white px-2 border-l-2 border-l-white",children:"search"})]}),i?it.jsxs("div",{className:"md:flex md:gap-5 hidden",children:[it.jsx("div",{className:"text-white md:hidden",children:"login"}),it.jsx("button",{onClick:u,className:"bg-blue-600 text-white p-2 px-4 rounded-4xl",children:"Log Out"}),it.jsxs("div",{children:[it.jsx("div",{className:"text-white",children:a||i.displayName}),it.jsx("div",{className:"text-white",children:i.email})]})]}):it.jsxs("div",{className:"flex gap-5",children:[it.jsx(Wa,{to:"/signup",className:"bg-blue-600 text-white p-2 px-4 rounded-4xl",children:"Sign Up"}),it.jsx(Wa,{to:"/signin",className:"bg-blue-600 text-white p-2 px-4 rounded-4xl",children:"Login"})]})]})]})}function ck(){return it.jsxs("div",{className:"bg-gray-950 h-[80px] text-white flex justify-center items-center flex-col text-2xl font-bold",children:[it.jsx("div",{children:"NIT"}),it.jsx("div",{children:"Nainital Institute of Technology"})]})}function fk({children:i}){return it.jsxs("div",{children:[it.jsx(uk,{}),it.jsx("main",{children:i}),it.jsx(ck,{})]})}function hk({id:i,image:t,title:n,price:a,off:o,start:u,syllabus:h,desc:m}){return it.jsxs("div",{className:"w-[400px] h-[400px] bg-gray-950 rounded-2xl flex flex-col items-around justify-between shadow shadow-amber-50",children:[it.jsx("div",{className:"w-full h-[40%] bg-red-100 bg-cover bg-center rounded-tr-2xl rounded-tl-2xl",style:{backgroundImage:`url(${t})`}}),it.jsxs("div",{className:"flex flex-col items-center justify-center gap-5 grow p-2",children:[it.jsx("div",{className:"text-orange-300 font-medium self-start pl-4",children:"Price : "}),it.jsxs("div",{className:"flex justify-around items-center w-full  rounded-2xl",children:[it.jsxs("div",{className:"text-white text-xl font-bold",children:["",a]}),it.jsxs("div",{className:"text-green-400 font-bold",children:[o,"% off"]})]}),it.jsx(Wa,{to:"/enrollform",className:"bg-blue-600 text-center text-white font-medium rounded-2xl cursor-pointer p-2 w-full",state:{id:i,image:t,title:n,price:a,off:o,start:u,syllabus:h,desc:m},children:"Enroll Now"})]})]})}function dk(){const t=ea().state;return it.jsxs("div",{className:"bg-gray-800",children:[it.jsx("div",{className:"h-[150px] bg-blue-600 text-white font-bold text-4xl flex items-center pl-5",children:t.title}),it.jsxs("div",{className:" p-4 w-3/4 flex flex-col gap-5",children:[it.jsx("h1",{className:"text-green-400 text-xl font-bold ",children:"Description"}),it.jsxs("h1",{className:"font-medium text-white",children:["starts from ",t.start]}),it.jsx("p",{className:"text-white text-lg font-bold pr-5 text-justify",style:{whiteSpace:"pre-line"},children:t.desc}),it.jsx("div",{className:"absolute right-0",children:it.jsx(hk,{image:t.image,price:t.price,off:t.off})}),it.jsx("h1",{className:"text-green-400 text-xl font-bold ",children:"Syllabus"}),it.jsx("p",{className:"text-white text-lg font-bold",style:{whiteSpace:"pre-line"},children:t.syllabus})]})]})}function mk(){const[i,t]=q.useState(""),[n,a]=q.useState(""),[o,u]=q.useState(0),[h,m]=q.useState("web dev course"),p=Kb(Df,"enrolled"),g=async T=>{T.preventDefault();try{await KN(p,{email:n,name:i,mobno:o,course:h}),window.location.href="/",zt.success("registerd successfully",{position:"top-center"})}catch(w){console.log(w.message),zt.error(w.message,{position:"bottom-center"})}};return it.jsx("div",{className:"w-full h-screen flex items-center justify-center bg-gray-800",children:it.jsxs("form",{onSubmit:g,className:"flex flex-col gap-3 w-[500px] p-5 shadow-2xl",children:[it.jsx("input",{autoComplete:"off",className:"border border-white text-white rounded-lg p-2",type:"email",placeholder:"Enter registred email...",onChange:T=>a(T.target.value),required:!0}),it.jsx("input",{autoComplete:"off",className:"border border-white text-white rounded-lg p-2",type:"text",placeholder:"Enter Full Name...",onChange:T=>t(T.target.value),required:!0}),it.jsx("input",{autoComplete:"off",className:"border border-white text-white rounded-lg p-2",type:"number",placeholder:"Enter Mobile Number...",onChange:T=>u(T.target.value),required:!0}),it.jsxs("select",{className:"border border-white rounded-lg p-2 text-black bg-amber-50",name:"",id:"",onChange:T=>m(T.target.value),required:!0,children:[it.jsx("option",{value:"web dev course",children:"Web Dev Course"}),it.jsx("option",{value:"data science course",children:"Data Science Course"})]}),it.jsx("button",{type:"submit",className:"bg-blue-600 text-white rounded-lg cursor-pointer p-2",children:"Register"})]})})}function pk(){return it.jsxs(it.Fragment,{children:[it.jsx(Ox,{}),it.jsx(FM,{children:it.jsx(fk,{children:it.jsxs(EM,{children:[it.jsx(eo,{path:"/",element:it.jsx(ok,{})}),it.jsx(eo,{path:"/signin",element:it.jsx(lk,{})}),it.jsx(eo,{path:"/signup",element:it.jsx(ak,{})}),it.jsx(eo,{path:"/details/:id",element:it.jsx(dk,{})}),it.jsx(eo,{path:"/enrollform",element:it.jsx(mk,{})})]})})})]})}mS.createRoot(document.getElementById("root")).render(it.jsx(q.StrictMode,{children:it.jsx(pk,{})}));
